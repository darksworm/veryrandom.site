<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>VOTE FOR THE DRIFTING INFIRMARY | MAYORAL CAMPAIGN 8.8.8</title>
    <style>
        :root {
            --terracotta: #cc6633;
            --sand: #e6ccb2;
            --olive: #588157;
            --ghost: rgba(255, 255, 255, 0.1);
            --void: #1a1a1a;
        }

        body {
            background-color: var(--sand);
            background-image: radial-gradient(var(--olive) 1px, transparent 1px);
            background-size: 20px 20px;
            color: var(--void);
            font-family: "Courier New", monospace;
            margin: 0;
            overflow-x: hidden;
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"><circle cx="10" cy="10" r="5" fill="red"/></svg>'), auto;
        }

        .dashboard {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: auto;
            gap: 10px;
            padding: 20px;
            max-width: 1200px;
            margin: auto;
        }

        .panel {
            border: 3px double var(--terracotta);
            background: #fffdf5;
            padding: 10px;
            box-shadow: 5px 5px 0px var(--olive);
            position: relative;
            overflow: hidden;
        }

        header {
            grid-column: span 4;
            background: var(--terracotta);
            color: white;
            padding: 20px;
            text-align: center;
            border: 4px solid var(--void);
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-15px) rotate(1deg); }
        }

        .shapeshifting-search {
            width: 100%;
            height: 40px;
            border: 2px solid var(--olive);
            padding: 5px;
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            background: white;
            font-weight: bold;
        }

        .shapeshifting-search:focus {
            width: 120%;
            height: 80px;
            transform: skewX(-10deg);
            background: var(--sand);
        }

        .ghost-cookie {
            position: fixed;
            bottom: -100px;
            right: 20px;
            width: 200px;
            background: rgba(255,255,255,0.7);
            border: 1px dashed var(--olive);
            padding: 10px;
            font-size: 0.7em;
            pointer-events: none;
            transition: bottom 2s;
        }

        .checklist-item {
            text-decoration: line-through;
            color: #aaa;
            margin-bottom: 5px;
        }

        .checklist-item.active {
            text-decoration: none;
            color: var(--terracotta);
            font-weight: bold;
            animation: flicker 0.1s infinite;
        }

        @keyframes flicker {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }

        .token-registry {
            font-size: 0.6em;
            line-height: 1;
        }

        .decomposing {
            filter: blur(0.5px);
            opacity: 0.5;
            text-decoration: line-through;
        }

        .nav-link {
            display: block;
            margin: 5px 0;
            color: var(--olive);
            cursor: pointer;
            text-decoration: underline;
        }

        .nav-link:hover {
            color: var(--terracotta);
            background: yellow;
        }

        #gravity-gauge {
            width: 100%;
            height: 20px;
            background: #eee;
            position: relative;
        }

        #gravity-needle {
            width: 4px;
            height: 100%;
            background: red;
            position: absolute;
            left: 50%;
        }

        .stat-box {
            font-size: 1.5em;
            font-weight: bold;
            color: var(--terracotta);
        }

        footer {
            grid-column: span 4;
            margin-top: 40px;
            border-top: 5px solid var(--olive);
            padding: 20px;
            font-size: 0.8em;
            background: #f0f0e0;
        }

        .marquee {
            background: var(--void);
            color: #0f0;
            padding: 5px;
            font-family: monospace;
        }
    </style>
</head>
<body>

<div class="marquee">
    <marquee>GLOBAL DRIFT ALERT: The Hospital is currently hovering over Sector 7G. Gravity is strictly optional today. !<~~%]/!~<#/+{+> </marquee>
</div>

<div class="dashboard">
    <header>
        <h1>THE EMOTIONAL INFIRMARY FOR MAYOR</h1>
        <p>A Building That Cares Because It Never Stays Put</p>
    </header>

    <div class="panel" style="grid-column: span 2;">
        <h3>PROCLAMATION SEARCH</h3>
        <input type="text" class="shapeshifting-search" placeholder="Ask the bricks a question..." oninput="handleSearch(this)">
        <div id="search-results" style="margin-top:10px; font-size: 0.8em;"></div>
    </div>

    <div class="panel">
        <h3>GRAVITY DEPLETION</h3>
        <div id="gravity-gauge"><div id="gravity-needle"></div></div>
        <p style="font-size: 0.7em;">Current Weightlessness: <span id="grav-val">0.02</span> kg/m³</p>
        <button onclick="toggleGravity()">PULL LEVER</button>
    </div>

    <div class="panel">
        <h3>HAUNTED ONBOARDING</h3>
        <div id="checklist">
            <div class="checklist-item active">1. Surrender your static coordinates.</div>
            <div class="checklist-item">2. Feed the masonry its daily guilt.</div>
            <div class="checklist-item">3. Sign the non-gravitational pact.</div>
            <div class="checklist-item">4. Forget where you parked your joy.</div>
        </div>
    </div>

    <div class="panel" style="grid-row: span 2;">
        <h3>VOTER PULSE</h3>
        <div class="stat-box" id="voter-count">14,209,112</div>
        <p>Grievances Processed Today</p>
        <hr>
        <p><b>A/B Test #442:</b></p>
        <p id="ab-test">Test run by: <i>The Bog Hag</i></p>
        <button onclick="voteMood('happy')">☺ VOTE GLAD</button>
        <button onclick="voteMood('sad')">☹ VOTE WOE</button>
    </div>

    <div class="panel">
        <h3>DECOMPOSING TOKENS</h3>
        <div class="token-registry" id="registry">
            <div>PRIMARY_WALL: #CC6633</div>
            <div class="decomposing">GHOST_ALPHA: 0.0004</div>
            <div>STAIRCASE_PHASE: 99hz</div>
            <div class="decomposing">VOTER_APATHY: 100%</div>
        </div>
    </div>

    <div class="panel">
        <h3>HOSPITAL LOCATION</h3>
        <p id="lat-long">LAT: ??.??? | LON: ??.???</p>
        <p style="font-size: 0.6em; color: var(--terracotta);">NOTICE: The building is moving at 40 knots through your subconscious.</p>
    </div>

    <div class="panel" style="grid-column: span 2;">
        <h3>FAQ / SACRAMENTS</h3>
        <details>
            <summary>Where is the waiting room?</summary>
            <p>The waiting room is a state of mind located in the ventilation ducts near the lobby of your childhood home.</p>
        </details>
        <details>
            <summary>How do I heal a broken resentment?</summary>
            <p><strong>The Ritual:</strong> Acquire three dry leaves and a photograph of a stranger. Bury them in the shadow of a moving post office. Whisper your social security number backwards into a cup of lukewarm tea. Do not blink for three minutes. The resentment will turn into a small, harmless pebble.</p>
        </details>
    </div>

    <div class="panel">
        <h3>RECENT TRANSACTIONS</h3>
        <ul id="tx-list" style="font-size: 0.7em; list-style: none; padding: 0;">
            <li>- 4 Hearts exchanged for 1 Parapet</li>
        </ul>
    </div>

    <footer>
        <p><b>LEGAL NOTICE:</b> This campaign is managed by folklore creatures. A/B tests are conducted without statistical rigor but with much snarling. All feelings are property of the Infirmary until the election concludes. !<~~%]/!~<#/+{+></p>
        <p id="personal-weather">LOADING YOUR PERSONAL WEATHER FORECAST...</p>
    </footer>
</div>

<div id="ghost-banner" class="ghost-cookie">
    We use spiritual cookies to track your reincarnation path. <button onclick="banishGhost()">EXORCISE</button>
</div>

<script>
    // 1. Gravity Gauge Logic
    let grav = 0.5;
    function updateGravity() {
        grav += (Math.random() - 0.5) * 0.1;
        if(grav < 0) grav = 0; if(grav > 1) grav = 1;
        document.getElementById('gravity-needle').style.left = (grav * 100) + '%';
        document.getElementById('grav-val').innerText = grav.toFixed(4);
        
        // Visual distortion based on gravity
        document.body.style.transform = `skewY(${(grav - 0.5) * 2}deg)`;
    }
    setInterval(updateGravity, 200);

    function toggleGravity() {
        grav = Math.random();
        alert("GRAVITY RECONFIGURED BY LOCAL GOBLIN COUNCIL.");
    }

    // 2. Shapeshifting Search
    const searchTerms = [
        "Where is the Mayor?",
        "Why is the floor screaming?",
        "Tax benefits for astral projection",
        "How to vote without a physical form",
        "Emergency exit for sadness"
    ];
    function handleSearch(el) {
        const res = document.getElementById('search-results');
        if(el.value.length > 3) {
            res.innerHTML = "<i>Searching the foundations...</i><br>" + searchTerms[Math.floor(Math.random()*searchTerms.length)];
        } else {
            res.innerHTML = "";
        }
    }

    // 3. Ghost Cookie Logic
    setTimeout(() => {
        document.getElementById('ghost-banner').style.bottom = '20px';
    }, 3000);

    function banishGhost() {
        const banner = document.getElementById('ghost-banner');
        banner.style.opacity = '0';
        setTimeout(() => { banner.style.display = 'none'; }, 2000);
    }

    // Dashboard Updates
    setInterval(() => {
        const vc = document.getElementById('voter-count');
        vc.innerText = (parseInt(vc.innerText.replace(/,/g, '')) + Math.floor(Math.random() * 10)).toLocaleString();

        const ll = document.getElementById('lat-long');
        ll.innerText = `LAT: ${(Math.random()*90).toFixed(3)} | LON: ${(Math.random()*180).toFixed(3)}`;

        const tx = document.getElementById('tx-list');
        const li = document.createElement('li');
        li.innerText = `- ${Math.floor(Math.random()*10)} Souls traded for ${Math.random() > 0.5 ? 'Gravel' : 'Velvet'}`;
        tx.prepend(li);
        if(tx.children.length > 5) tx.removeChild(tx.lastChild);

        const registry = document.getElementById('registry');
        if(Math.random() > 0.8) {
            const divs = registry.getElementsByTagName('div');
            divs[Math.floor(Math.random()*divs.length)].classList.toggle('decomposing');
        }
    }, 1500);

    // Personal Weather Footer
    const conditions = ["Heavy Rain of Nostalgia", "Sunlit Regret", "Fog of Misplaced Keys", "Thunder of Unread Emails"];
    const people = ["for you", "for your ancestors", "for the man standing behind you", "for your inner child"];
    document.getElementById('personal-weather').innerText = `PERSONAL FORECAST: ${conditions[Math.floor(Math.random()*conditions.length)]} ${people[Math.floor(Math.random()*people.length)]}.`;

    // Interactive Vote
    function voteMood(m) {
        const tester = ["The Bog Hag", "A Sentient Cloud", "The Ghost of Statistics", "Three Crows in a Trenchcoat"];
        document.getElementById('ab-test').innerText = "Test run by: " + tester[Math.floor(Math.random()*tester.length)];
        alert("YOUR EMOTION HAS BEEN FILED IN THE BASEMENT. " + (m === 'happy' ? "GLADNESS LOGGED." : "WOE ARCHIVED."));
    }

    // Onboarding flickering
    let step = 0;
    setInterval(() => {
        const items = document.querySelectorAll('.checklist-item');
        items.forEach(i => i.classList.remove('active'));
        step = (step + 1) % items.length;
        items[step].classList.add('active');
    }, 4000);
</script>

</body>
</html>