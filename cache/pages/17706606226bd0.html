<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Phantom DMV Emporium — Gravity Optional, Cats Not</title>
<style>
:root {
  --terracotta: #c2694b;
  --sand: #e7d3b1;
  --olive: #7a7f4f;
  --clay: #b8563c;
  --ink: #2b2118;
  --peach: #f2b28d;
  --moss: #5f6b3e;
  --cream: #f7e9d2;
  --sunset: #f08a5d;
  --shadow: rgba(43,33,24,0.2);
}
* { box-sizing: border-box; }
body {
  margin: 0;
  font-family: "Georgia", "Times New Roman", serif;
  background:
    radial-gradient(circle at 15% 10%, rgba(240,138,93,0.2), transparent 40%),
    radial-gradient(circle at 85% 20%, rgba(122,127,79,0.18), transparent 50%),
    linear-gradient(180deg, var(--cream), var(--sand) 20%, #d6b78e 60%, #caa478 100%);
  color: var(--ink);
  overflow-x: hidden;
}
header {
  padding: 56px 24px 24px;
  text-align: center;
  position: relative;
  background:
    linear-gradient(135deg, rgba(194,105,75,0.15), rgba(122,127,79,0.15)),
    repeating-linear-gradient(90deg, rgba(43,33,24,0.05) 0, rgba(43,33,24,0.05) 2px, transparent 2px, transparent 10px);
  border-bottom: 6px solid var(--clay);
}
header:before, header:after {
  content: "";
  position: absolute;
  inset: -20px 0 auto 0;
  height: 60px;
  background:
    repeating-linear-gradient(45deg, rgba(122,127,79,0.25) 0 6px, transparent 6px 12px),
    repeating-linear-gradient(-45deg, rgba(240,138,93,0.15) 0 8px, transparent 8px 16px);
  filter: blur(0.3px);
}
header:after {
  inset: auto 0 -20px 0;
}
.container {
  max-width: 980px;
  margin: 0 auto;
  padding: 20px 24px 80px;
}
.massive {
  font-size: clamp(2.6rem, 6vw, 5.5rem);
  line-height: 0.95;
  letter-spacing: -1px;
  text-transform: uppercase;
}
.subtitle {
  font-size: clamp(1rem, 2.2vw, 1.6rem);
  margin-top: 10px;
}
.badge-row {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin: 24px 0 8px;
}
.badge {
  padding: 6px 14px;
  border: 2px solid var(--ink);
  border-radius: 999px;
  background: var(--peach);
  box-shadow: 4px 4px 0 var(--ink);
  font-size: 0.85rem;
}
.section {
  margin: 38px 0;
  padding: 20px;
  background: rgba(247,233,210,0.85);
  border: 3px solid var(--ink);
  box-shadow: 8px 8px 0 var(--shadow);
  position: relative;
}
.section:before {
  content: "";
  position: absolute;
  inset: 10px;
  border: 1px dashed rgba(43,33,24,0.2);
  pointer-events: none;
}
.section h2 {
  font-size: clamp(1.8rem, 4vw, 3.2rem);
  margin: 0 0 10px;
  text-transform: uppercase;
}
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 14px;
}
.card {
  background: var(--sand);
  border: 2px solid var(--ink);
  padding: 12px;
  box-shadow: 4px 4px 0 var(--shadow);
  position: relative;
}
.card:after {
  content: "";
  position: absolute;
  right: 6px;
  bottom: 6px;
  width: 18px;
  height: 18px;
  background: var(--olive);
  border-radius: 2px;
  opacity: 0.4;
}
.kpi {
  font-size: 2.2rem;
  font-weight: 700;
}
.small {
  font-size: 0.9rem;
}
.controls {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin: 10px 0;
}
button {
  border: 2px solid var(--ink);
  background: var(--terracotta);
  color: var(--cream);
  padding: 8px 12px;
  box-shadow: 3px 3px 0 var(--ink);
  cursor: pointer;
  font-family: inherit;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}
button:hover { transform: translate(-1px, -1px); }
button:active { transform: translate(1px, 1px); box-shadow: 1px 1px 0 var(--ink); }
.toggle {
  background: var(--olive);
}
.marquee {
  overflow: hidden;
  white-space: nowrap;
  border: 2px solid var(--ink);
  background: var(--peach);
  padding: 6px 0;
  font-size: 1rem;
}
.marquee span {
  display: inline-block;
  padding-left: 100%;
  animation: scroll 18s linear infinite;
}
@keyframes scroll {
  from { transform: translateX(0); }
  to { transform: translateX(-100%); }
}
.shelves {
  position: relative;
  height: 200px;
  background: linear-gradient(90deg, #d7c19c, #cdb08a);
  border: 2px solid var(--ink);
  overflow: hidden;
}
.shelf-item {
  position: absolute;
  width: 60px;
  height: 60px;
  background: var(--sunset);
  border: 2px solid var(--ink);
  box-shadow: 3px 3px 0 var(--shadow);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.8rem;
  transition: transform 0.6s ease, top 0.6s ease, left 0.6s ease;
}
.cat {
  position: absolute;
  right: 10px;
  top: 10px;
  width: 90px;
  height: 90px;
  background: #3a2f24;
  border-radius: 20px 20px 12px 12px;
  border: 2px solid var(--ink);
  color: #f6e6cf;
  display: flex;
  align-items: center;
  justify-content: center;
  transform-origin: center;
  animation: catWiggle 3s infinite ease-in-out;
}
@keyframes catWiggle {
  0%,100% { transform: rotate(1deg); }
  50% { transform: rotate(-2deg); }
}
.chart {
  height: 220px;
  display: flex;
  gap: 8px;
  align-items: flex-end;
  padding: 10px;
  border: 2px solid var(--ink);
  background: #f0dfc6;
}
.bar {
  width: 18%;
  background: var(--olive);
  border: 2px solid var(--ink);
  box-shadow: 3px 3px 0 var(--shadow);
  position: relative;
}
.bar span {
  position: absolute;
  top: -22px;
  font-size: 0.8rem;
  left: 4px;
}
.table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.95rem;
}
.table th, .table td {
  border: 2px solid var(--ink);
  padding: 6px 8px;
}
.table th { background: var(--peach); }
.footnote { font-size: 0.85rem; font-style: italic; }
.floaty {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: var(--clay);
  color: var(--cream);
  border: 2px solid var(--ink);
  padding: 10px 12px;
  box-shadow: 4px 4px 0 var(--shadow);
}
.ghost {
  position: absolute;
  left: 12px;
  top: -20px;
  width: 60px;
  height: 70px;
  background: rgba(247,233,210,0.9);
  border: 2px solid var(--ink);
  border-radius: 30px 30px 16px 16px;
  box-shadow: 3px 3px 0 var(--shadow);
  animation: float 4s ease-in-out infinite;
}
@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(10px); }
}
.ghost:after {
  content: "";
  position: absolute;
  bottom: -8px;
  left: 6px;
  width: 48px;
  height: 12px;
  background: linear-gradient(90deg, transparent 0 6px, rgba(43,33,24,0.2) 6px 10px, transparent 10px 16px, rgba(43,33,24,0.2) 16px 20px, transparent 20px 26px, rgba(43,33,24,0.2) 26px 30px, transparent 30px 36px, rgba(43,33,24,0.2) 36px 40px, transparent 40px 46px, rgba(43,33,24,0.2) 46px 48px);
}
.notice {
  padding: 10px;
  border: 2px dashed var(--ink);
  background: rgba(122,127,79,0.12);
}
.pill {
  display: inline-block;
  padding: 2px 8px;
  background: var(--olive);
  color: var(--cream);
  border-radius: 999px;
}
.longform p {
  margin: 8px 0;
}
.hidden { display: none; }
.big-quote {
  font-size: clamp(1.4rem, 3vw, 2.4rem);
  padding: 12px;
  background: #f5dec2;
  border-left: 6px solid var(--clay);
}
.stickers {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}
.sticker {
  padding: 6px 10px;
  border: 2px solid var(--ink);
  background: var(--peach);
  transform: rotate(-1deg);
  box-shadow: 3px 3px 0 var(--shadow);
}
.faq-item {
  border: 2px solid var(--ink);
  padding: 8px;
  background: #f1dcc1;
  margin: 6px 0;
}
footer {
  padding: 24px;
  text-align: center;
  border-top: 6px solid var(--clay);
  background: linear-gradient(0deg, #d7bc97, #f1e0c7);
}

</style>
</head>
<body>
<header>
  <div class="ghost" aria-hidden="true"></div>
  <div class="massive">Phantom DMV Emporium</div>
  <div class="subtitle">Licenses for the already departed. Retail therapy for the yet to be. Gravity optional. Cats mandatory.</div>
  <div class="badge-row">
    <div class="badge">Memphis-Pharma Catalog Edition</div>
    <div class="badge">Open 9:13AM–13:09PM (local poltertime)</div>
    <div class="badge">Toll-free: 1-800-BOO-QUEUE</div>
    <div class="badge">Now selling shelf insurance</div>
  </div>
</header>

<div class="marquee"><span>NOTICE: All spectral paperwork must be signed in evaporating ink. Cats not included. Gravity surcharge applies to items that refuse to float. Welcome to the only DMV with a punch card and a séance. </span></div>

<div class="container">

<section class="section" id="dashboard">
  <h2>Live Lobby Dashboard</h2>
  <div class="grid">
    <div class="card">
      <div class="kpi" id="ticketNumber">B-042</div>
      <div class="small">Now haunting</div>
    </div>
    <div class="card">
      <div class="kpi" id="waitTime">17</div>
      <div class="small">Minutes until existential clarity</div>
    </div>
    <div class="card">
      <div class="kpi" id="gravityLevel">0.63g</div>
      <div class="small">Ambient gravity (adjusted for feline interference)</div>
    </div>
    <div class="card">
      <div class="kpi" id="catsCount">5</div>
      <div class="small">Cats on staff (by choice, not payroll)</div>
    </div>
  </div>
  <div class="controls">
    <button id="nextTicketBtn">Next Ticket</button>
    <button id="shuffleWaitBtn" class="toggle">Confuse Wait Time</button>
    <button id="toggleGravityBtn">Toggle Gravity Protocol</button>
    <button id="catSummonBtn">Summon Cat</button>
  </div>
  <div class="notice" id="statusNote">Status: The line is organized by alphabet, then by era, then by aroma.</div>
</section>

<section class="section" id="store">
  <h2>Phantom Store: Gravity Optional Goods</h2>
  <div class="small">All items have been politely asked to stay on shelves. They decline.</div>
  <div class="shelves" id="shelfArea">
    <div class="cat" id="catWidget">CAT</div>
  </div>
  <div class="controls">
    <button id="restockBtn">Restock Shelves</button>
    <button id="knockBtn" class="toggle">Cats Knock Everything</button>
    <button id="floatBtn">Enable Float Mode</button>
  </div>
  <div class="footnote">Footnote: Our shelf insurance only covers objects with a strong sense of purpose.</div>
</section>

<section class="section" id="catalog">
  <h2>Catalog Highlights</h2>
  <div class="grid">
    <div class="card">
      <div class="pill">Best Seller</div>
      <h3>License Plate of Unfinished Chores</h3>
      <p>Includes a complimentary sigh and a tiny broom that sweeps only regrets.</p>
      <div class="small">SKU: HAUNT-0031</div>
    </div>
    <div class="card">
      <div class="pill">Limited</div>
      <h3>Gravity-Optional Tote Bag</h3>
      <p>Holds 27 concepts, 4 muffins, and a single unresolved conflict.</p>
      <div class="small">SKU: FLOAT-889A</div>
    </div>
    <div class="card">
      <div class="pill">New</div>
      <h3>Pharmaceutical Memphis Sticker Set</h3>
      <p>Prescription-strength zigzags for all your bored surfaces.</p>
      <div class="small">SKU: MEM-DRG-55</div>
    </div>
    <div class="card">
      <div class="pill">Cat Approved</div>
      <h3>Gossamer Shelf Wax</h3>
      <p>Guaranteed to be ignored by cats and inanimate objects alike.</p>
      <div class="small">SKU: SHELF-001</div>
    </div>
  </div>
  <div class="controls">
    <button id="addItemBtn">Add Mystery Item</button>
    <button id="clearItemsBtn" class="toggle">Clear Added Items</button>
  </div>
  <div id="mysteryItems" class="grid" aria-live="polite"></div>
</section>

<section class="section" id="queue">
  <h2>Queue Oracles & Paperwork</h2>
  <div class="big-quote" id="oracleQuote">"Your number is important to us. It is also a number."</div>
  <div class="controls">
    <button id="newOracleBtn">Ask the Oracle</button>
    <button id="toggleOracleBtn" class="toggle">Toggle Oracle Volume</button>
  </div>
  <div class="longform">
    <p>Form 13-B: Application for Lasting Echoes. Please check all that apply: <span class="pill">breeze</span>, <span class="pill">cold spot</span>, <span class="pill">mild regret</span>, <span class="pill">dramatic entrance</span>.</p>
    <p>Form 22-C: Cat-Related Disturbance Waiver. By signing, you acknowledge that gravity will be interpreted loosely and shelves are considered advisory.</p>
    <p>Form 0-Ω: Recursive Identity Confirmation. A representative will verify you by reading your aura aloud into a fan.</p>
  </div>
</section>

<section class="section" id="metrics">
  <h2>Operational Metrics</h2>
  <div class="chart" id="gravityChart">
    <div class="bar" style="height:40%"><span>Mon</span></div>
    <div class="bar" style="height:65%"><span>Tue</span></div>
    <div class="bar" style="height:55%"><span>Wed</span></div>
    <div class="bar" style="height:30%"><span>Thu</span></div>
    <div class="bar" style="height:70%"><span>Fri</span></div>
  </div>
  <div class="controls">
    <button id="rechartBtn">Recalculate Gravity</button>
    <button id="pulseChartBtn" class="toggle">Pulse Bars</button>
  </div>
  <table class="table">
    <thead>
      <tr><th>Dept</th><th>Daily Haunts</th><th>Avg. Purrs/hr</th><th>Forms Misplaced</th></tr>
    </thead>
    <tbody>
      <tr><td>Phantom Licensing</td><td>312</td><td>19</td><td>7 (friendly)</td></tr>
      <tr><td>Gravity Compliance</td><td>87</td><td>4</td><td>12 (windy)</td></tr>
      <tr><td>Cat Relations</td><td>∞</td><td>103</td><td>0 (cats took them)</td></tr>
      <tr><td>Shelf Insurance</td><td>42</td><td>2</td><td>3 (shelved)</td></tr>
    </tbody>
  </table>
  <div class="footnote">Disclaimer: Metrics exclude hauntings performed for artistic reasons, boredom, or jazz.</div>
</section>

<section class="section" id="testimonials">
  <h2>Testimonials & Warnings</h2>
  <div class="stickers">
    <div class="sticker">"Got my spectral ID in 40 minutes. Cried the whole time."</div>
    <div class="sticker">"The cat processed my paperwork. I paid in tuna."</div>
    <div class="sticker">"Gravity toggled mid-application. I floated into the refund kiosk."</div>
    <div class="sticker">"Five stars. One star fell off the shelf."</div>
    <div class="sticker">"Staff very polite. The stapler is haunted."</div>
    <div class="sticker">"I bought the existential lanyard. It now whispers during meetings."</div>
    <div class="sticker">"Best DMV? Unclear. Loudest? Definitely."</div>
    <div class="sticker">"They laminate your aura. The laminate is biodegradable."</div>
  </div>
  <div class="controls">
    <button id="shuffleTestimonialBtn">Shuffle Stickers</button>
    <button id="addTestimonialBtn" class="toggle">Add Anonymous Quote</button>
  </div>
</section>

<section class="section" id="faq">
  <h2>FAQ, Footnotes, & Fine Print</h2>
  <div class="faq-item">Q: Are cats employees? A: No, they are managers with veto power.</div>
  <div class="faq-item">Q: What happens if I forget my corporeal form? A: We will issue you a temporary mist.</div>
  <div class="faq-item">Q: Are forms available online? A: Yes, but they prefer to be printed on antique paper.</div>
  <div class="faq-item">Q: Do you accept walk-ins? A: We accept drifts, glides, and dramatic entrances.</div>
  <div class="faq-item">Q: Is gravity required? A: Required? No. Encouraged? Also no.</div>
  <div class="controls">
    <button id="toggleFAQBtn">Toggle FAQ Visibility</button>
  </div>
  <div class="footnote">Note: By reading this FAQ you agree to be haunted by mild curiosity for 3–5 business eons.</div>
</section>

<section class="section" id="paperwork">
  <h2>Interactive Paperwork Counter</h2>
  <div class="grid">
    <div class="card">
      <div class="kpi" id="formsCount">12</div>
      <div class="small">Forms currently floating around the lobby</div>
    </div>
    <div class="card">
      <div class="kpi" id="inkLevel">78%</div>
      <div class="small">Evaporating ink reserves</div>
    </div>
    <div class="card">
      <div class="kpi" id="stampCount">4</div>
      <div class="small">Active stamps (sentient)</div>
    </div>
  </div>
  <div class="controls">
    <button id="addFormBtn">Generate Form</button>
    <button id="spillInkBtn" class="toggle">Spill Ink</button>
    <button id="summonStampBtn">Summon Stamp</button>
  </div>
  <div class="notice" id="paperworkNote">Paperwork status: The printer is in counseling.</div>
</section>

<section class="section" id="checkout">
  <h2>Checkout Ritual</h2>
  <p>Pay with coins, compliments, or a particularly well-timed breeze. Your cart currently contains <span id="cartCount">0</span> items and <span id="shelfDamage">0</span> shelf dents.</p>
  <div class="controls">
    <button id="addToCartBtn">Add Random Item</button>
    <button id="applyCouponBtn" class="toggle">Apply Cat Coupon</button>
    <button id="resetCartBtn">Reset Cart</button>
  </div>
  <div class="notice" id="couponNote">Coupon status: none (cats are evaluating your posture).</div>
</section>

<section class="section" id="fineprint">
  <h2>Long Form Catalog Scroll</h2>
  <div class="longform" id="scrollText">
    <p>Welcome to the Phantom DMV Emporium, the only retail counter built atop a municipal vortex. Our aisles are arranged by mood: wistful, urgent, and "who moved the ceiling."</p>
    <p>Today's featured gel: Anti-Gravity Gel #7, smells like peaches and accountable decisions.</p>
    <p>Our cats are trained in the classical Memphis pharmaceutical tradition: bold shapes, bolder judgment, and zero respect for shelf edges.</p>
    <p>All lanyards are ethically sourced from recycled schedules. Use them to hang your identity, or your snacks, or your feelings.</p>
    <p>We do not guarantee that items will remain on the shelf. Gravity is optional and shelves are largely symbolic.</p>
    <p>Footnote 12: Do not feed the copier. It becomes sentimental and prints sonnets.</p>
    <p>Footnote 13: The poltergeist at register 2 is unionized and requires a 15-minute nap every hour.</p>
    <p>Footnote 14: All refunds are processed in ectoplasm. Please allow 6–9 afterlives.</p>
  </div>
  <div class="controls">
    <button id="expandScrollBtn">Expand Scroll</button>
    <button id="collapseScrollBtn" class="toggle">Collapse Scroll</button>
  </div>
</section>

</div>

<div class="floaty" id="floatyStatus">Gravity: Optional | Cats: Watching</div>

<footer>
  <div class="small">&copy; The Phantom DMV Emporium. All queues are infinite, but polite. All cats are finite, but persuasive.</div>
  <div class="small">Witty disclaimer 1: Any resemblance to a real DMV is purely coincidental and slightly spooky.</div>
  <div class="small">Witty disclaimer 2: If your sandwich floats away, please fill out Form 9-Z: "Lunch, Lost".</div>
  <div class="small">Witty disclaimer 3: Catalog items may or may not exist depending on whether you are observed.</div>
</footer>

<script>
(function(){
  const ticketEl = document.getElementById('ticketNumber');
  const waitEl = document.getElementById('waitTime');
  const gravityEl = document.getElementById('gravityLevel');
  const catsEl = document.getElementById('catsCount');
  const statusNote = document.getElementById('statusNote');
  const floatyStatus = document.getElementById('floatyStatus');
  const shelfArea = document.getElementById('shelfArea');
  const catWidget = document.getElementById('catWidget');
  const mysteryItems = document.getElementById('mysteryItems');
  const oracleQuote = document.getElementById('oracleQuote');
  const gravityChart = document.getElementById('gravityChart');
  const testimonials = document.querySelector('.stickers');
  const faqSection = document.getElementById('faq');
  const formsCount = document.getElementById('formsCount');
  const inkLevel = document.getElementById('inkLevel');
  const stampCount = document.getElementById('stampCount');
  const paperworkNote = document.getElementById('paperworkNote');
  const cartCount = document.getElementById('cartCount');
  const shelfDamage = document.getElementById('shelfDamage');
  const couponNote = document.getElementById('couponNote');
  const scrollText = document.getElementById('scrollText');

  let ticketNum = 42;
  let waitTime = 17;
  let gravity = 0.63;
  let cats = 5;
  let floatMode = false;
  let pulse = false;
  let couponApplied = false;
  let forms = 12;
  let ink = 78;
  let stamps = 4;
  let cart = 0;
  let dents = 0;
  let oracleLoud = true;

  const oracleLines = [
    '"Your number is important to us. It is also a number."',
    '"You will soon be called. Or not. The cat decides."',
    '"Please approach window 7, a polite gust will assist you."',
    '"Your aura is laminate-compatible. Congratulations."',
    '"Gravity is filing for overtime. Consider patience."',
    '"A stamp will find you when you least expect it."',
    '"We regret to inform you: your paperwork is sentient."',
    '"You are approved for a temporary mist, pending breeze."'
  ];

  const wittyStatus = [
    'Status: The line is organized by alphabet, then by era, then by aroma.',
    'Status: We are currently serving anyone with a respectful sigh.',
    'Status: Please take a number and a snack, in that order.',
    'Status: A cat has initiated a reshelving protocol.'
  ];

  const mysteryPool = [
    'Polter-Thermometer',
    'Anti-Gravity Paperclips',
    'Spectral Parking Pass',
    'Ecto-Elastic Band',
    'Lanyard of Mild Inconvenience',
    'Phantom Breath Mints',
    'Queue Oracle Candle',
    'Shelf-Edge Warning Tape'
  ];

  function updateDashboard() {
    ticketEl.textContent = 'B-' + String(ticketNum).padStart(3,'0');
    waitEl.textContent = waitTime;
    gravityEl.textContent = gravity.toFixed(2) + 'g';
    catsEl.textContent = cats;
    floatyStatus.textContent = 'Gravity: ' + (floatMode ? 'Off-ish' : 'Optional') + ' | Cats: ' + cats + ' watching';
  }

  function randomBetween(min, max) {
    return Math.random() * (max - min) + min;
  }

  function restockShelves() {
    shelfArea.querySelectorAll('.shelf-item').forEach(n => n.remove());
    const labels = ['ID', 'BAG', 'INK', 'FORM', 'WAX', 'TOTE', 'STAMP', 'PASS'];
    for (let i = 0; i < 10; i++) {
      const item = document.createElement('div');
      item.className = 'shelf-item';
      item.textContent = labels[i % labels.length];
      item.style.left = (20 + (i % 5) * 80) + 'px';
      item.style.top = (20 + Math.floor(i / 5) * 80) + 'px';
      shelfArea.appendChild(item);
    }
  }

  function knockShelves() {
    shelfArea.querySelectorAll('.shelf-item').forEach((item, idx) => {
      item.style.left = (10 + (idx * 47) % 420) + 'px';
      item.style.top = (120 + (idx * 23) % 60) + 'px';
      item.style.transform = 'rotate(' + (randomBetween(-20,20)) + 'deg)';
    });
    dents += 2;
    shelfDamage.textContent = dents;
  }

  function floatShelves() {
    floatMode = !floatMode;
    shelfArea.querySelectorAll('.shelf-item').forEach((item, idx) => {
      item.style.top = floatMode ? (10 + (idx * 17) % 140) + 'px' : (20 + Math.floor(idx / 5) * 80) + 'px';
      item.style.transform = floatMode ? 'translateY(-10px)' : 'translateY(0)';
    });
    updateDashboard();
  }

  function addMysteryItem() {
    const card = document.createElement('div');
    card.className = 'card';
    const name = mysteryPool[Math.floor(Math.random() * mysteryPool.length)];
    card.innerHTML = '<h3>' + name + '</h3><p>Guaranteed to be confusing but aesthetically consistent.</p><div class="small">Batch: ' + Math.floor(randomBetween(100,999)) + '</div>';
    mysteryItems.appendChild(card);
  }

  function clearMysteryItems() {
    mysteryItems.innerHTML = '';
  }

  function rechart() {
    const bars = gravityChart.querySelectorAll('.bar');
    bars.forEach(bar => {
      const h = Math.floor(randomBetween(25, 80));
      bar.style.height = h + '%';
    });
  }

  function pulseBars() {
    pulse = !pulse;
    gravityChart.querySelectorAll('.bar').forEach(bar => {
      bar.style.transition = pulse ? 'transform 0.6s ease' : '';
      bar.style.transform = pulse ? 'scaleY(1.05)' : 'scaleY(1)';
    });
  }

  function shuffleTestimonials() {
    const nodes = Array.from(testimonials.children);
    nodes.sort(() => Math.random() - 0.5);
    testimonials.innerHTML = '';
    nodes.forEach(n => testimonials.appendChild(n));
  }

  function addTestimonial() {
    const sticker = document.createElement('div');
    sticker.className = 'sticker';
    sticker.textContent = '"Anonymous: My number was called in a dream."';
    testimonials.appendChild(sticker);
  }

  function toggleFAQ() {
    const items = faqSection.querySelectorAll('.faq-item');
    items.forEach(it => it.classList.toggle('hidden'));
  }

  function generateForm() {
    forms += 1;
    formsCount.textContent = forms;
    paperworkNote.textContent = 'Paperwork status: Form ' + forms + ' has achieved sentience.';
  }

  function spillInk() {
    ink = Math.max(0, ink - Math.floor(randomBetween(5,15)));
    inkLevel.textContent = ink + '%';
    paperworkNote.textContent = 'Paperwork status: Ink spill contained by a sigh.';
  }

  function summonStamp() {
    stamps += 1;
    stampCount.textContent = stamps;
    paperworkNote.textContent = 'Paperwork status: Stamp ' + stamps + ' now insists on a lunch break.';
  }

  function addToCart() {
    cart += 1;
    cartCount.textContent = cart;
    couponNote.textContent = 'Coupon status: evaluating ' + cart + ' items for cat compatibility.';
  }

  function applyCoupon() {
    couponApplied = !couponApplied;
    couponNote.textContent = couponApplied ? 'Coupon status: approved by a cat in a tiny vest.' : 'Coupon status: none (cats are evaluating your posture).';
  }

  function resetCart() {
    cart = 0;
    dents = 0;
    cartCount.textContent = cart;
    shelfDamage.textContent = dents;
    couponNote.textContent = 'Coupon status: none (cats are evaluating your posture).';
  }

  function expandScroll() {
    scrollText.innerHTML += '<p>Footnote 21: The line for line length is currently two lines long.</p><p>Footnote 22: If your stamp wanders off, please lure it with snacks.</p><p>Footnote 23: The exit is behind the floating kiosk.</p>';
  }

  function collapseScroll() {
    scrollText.innerHTML = scrollText.innerHTML.split('</p>').slice(0,8).join('</p>') + '</p>';
  }

  function nextTicket() {
    ticketNum += 1;
    waitTime = Math.max(3, waitTime - 1);
    statusNote.textContent = wittyStatus[Math.floor(Math.random() * wittyStatus.length)];
    updateDashboard();
  }

  function shuffleWait() {
    waitTime = Math.floor(randomBetween(5, 40));
    updateDashboard();
  }

  function toggleGravity() {
    gravity = floatMode ? 0.63 : randomBetween(0.2, 1.1);
    gravity = Number(gravity.toFixed(2));
    updateDashboard();
  }

  function summonCat() {
    cats += 1;
    catsEl.textContent = cats;
    catWidget.textContent = 'CAT+' + cats;
    updateDashboard();
  }

  function newOracle() {
    const line = oracleLines[Math.floor(Math.random() * oracleLines.length)];
    oracleQuote.textContent = line + (oracleLoud ? '' : ' (whispered)');
  }

  function toggleOracleVolume() {
    oracleLoud = !oracleLoud;
    oracleQuote.style.opacity = oracleLoud ? '1' : '0.7';
  }

  document.getElementById('nextTicketBtn').addEventListener('click', nextTicket);
  document.getElementById('shuffleWaitBtn').addEventListener('click', shuffleWait);
  document.getElementById('toggleGravityBtn').addEventListener('click', toggleGravity);
  document.getElementById('catSummonBtn').addEventListener('click', summonCat);

  document.getElementById('restockBtn').addEventListener('click', restockShelves);
  document.getElementById('knockBtn').addEventListener('click', knockShelves);
  document.getElementById('floatBtn').addEventListener('click', floatShelves);

  document.getElementById('addItemBtn').addEventListener('click', addMysteryItem);
  document.getElementById('clearItemsBtn').addEventListener('click', clearMysteryItems);

  document.getElementById('newOracleBtn').addEventListener('click', newOracle);
  document.getElementById('toggleOracleBtn').addEventListener('click', toggleOracleVolume);

  document.getElementById('rechartBtn').addEventListener('click', rechart);
  document.getElementById('pulseChartBtn').addEventListener('click', pulseBars);

  document.getElementById('shuffleTestimonialBtn').addEventListener('click', shuffleTestimonials);
  document.getElementById('addTestimonialBtn').addEventListener('click', addTestimonial);

  document.getElementById('toggleFAQBtn').addEventListener('click', toggleFAQ);

  document.getElementById('addFormBtn').addEventListener('click', generateForm);
  document.getElementById('spillInkBtn').addEventListener('click', spillInk);
  document.getElementById('summonStampBtn').addEventListener('click', summonStamp);

  document.getElementById('addToCartBtn').addEventListener('click', addToCart);
  document.getElementById('applyCouponBtn').addEventListener('click', applyCoupon);
  document.getElementById('resetCartBtn').addEventListener('click', resetCart);

  document.getElementById('expandScrollBtn').addEventListener('click', expandScroll);
  document.getElementById('collapseScrollBtn').addEventListener('click', collapseScroll);

  // Auto-updating counters
  setInterval(() => {
    waitTime = Math.max(2, waitTime + (Math.random() > 0.6 ? 1 : -1));
    gravity = Math.max(0.2, Math.min(1.2, gravity + randomBetween(-0.05, 0.05)));
    updateDashboard();
  }, 4000);

  setInterval(() => {
    const mood = ['Cats: plotting', 'Cats: napping', 'Cats: auditing', 'Cats: pushing items'];
    floatyStatus.textContent = 'Gravity: ' + (floatMode ? 'Off-ish' : 'Optional') + ' | ' + mood[Math.floor(Math.random() * mood.length)];
  }, 6000);

  restockShelves();
  updateDashboard();
})();
</script>
</body>
</html>
