<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Crayon Ledger Kitchen Exchange</title>
  <link rel="stylesheet" href="/assets/css/pico.min.css" />
  <link rel="stylesheet" href="/assets/css/fonts.css" />
  <style>
    :root {
      --ink: #121212;
      --paper: #fff7ea;
      --cream: #fffdf7;
      --night: #101425;
      --rain-1: #ffd3e0;
      --rain-2: #ffe9b3;
      --rain-3: #d0ffd8;
      --rain-4: #cfe8ff;
      --rain-5: #efd7ff;
      --rain-6: #ffc9a8;
      --accent: #211eff;
      --border: 3px solid #111;
      --shadow: 8px 8px 0 #111;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      color: var(--ink);
      font-family: 'Space Grotesk', sans-serif;
      background:
        radial-gradient(circle at 10% 15%, var(--rain-1) 0 20%, transparent 21%),
        radial-gradient(circle at 88% 24%, var(--rain-2) 0 18%, transparent 19%),
        radial-gradient(circle at 34% 78%, var(--rain-3) 0 23%, transparent 24%),
        radial-gradient(circle at 76% 76%, var(--rain-4) 0 18%, transparent 19%),
        linear-gradient(120deg, var(--rain-5), var(--rain-6), var(--rain-1), var(--rain-3));
      background-size: 120% 120%;
      animation: drift 20s linear infinite;
      overflow-x: hidden;
    }

    body.night {
      color: #f9fbff;
      background:
        radial-gradient(circle at 10% 15%, #302e6f 0 20%, transparent 21%),
        radial-gradient(circle at 88% 24%, #65417a 0 18%, transparent 19%),
        radial-gradient(circle at 34% 78%, #234d61 0 23%, transparent 24%),
        radial-gradient(circle at 76% 76%, #4f1f3e 0 18%, transparent 19%),
        linear-gradient(130deg, #1f1c3a, #2c1a38, #1b2c45);
    }

    @keyframes drift {
      0% { background-position: 0% 0%; }
      50% { background-position: 100% 40%; }
      100% { background-position: 0% 0%; }
    }

    .page {
      max-width: 1200px;
      margin: 0 auto;
      padding: 1rem 1rem 3rem;
      position: relative;
    }

    .masthead {
      position: relative;
      padding: 1.2rem;
      margin: 0.8rem 0 1rem;
      background: linear-gradient(90deg, var(--cream), #fff1d8);
      border: var(--border);
      box-shadow: var(--shadow);
      overflow: hidden;
    }

    body.night .masthead {
      background: linear-gradient(90deg, #1b2038, #1f2947);
      border-color: #f5f7ff;
      box-shadow: 8px 8px 0 #f5f7ff;
    }

    .masthead::before,
    .masthead::after {
      content: '';
      position: absolute;
      inset: auto;
      width: 220px;
      height: 120px;
      background: repeating-linear-gradient(45deg, #ff6f61 0 9px, #ffd966 9px 18px, #83e377 18px 27px, #58a6ff 27px 36px);
      opacity: 0.3;
      clip-path: polygon(8% 0, 100% 12%, 88% 100%, 0 78%);
      pointer-events: none;
    }

    .masthead::before {
      top: -38px;
      left: -55px;
      transform: rotate(-12deg);
    }

    .masthead::after {
      bottom: -48px;
      right: -64px;
      transform: rotate(12deg);
    }

    .topline {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 1rem;
      flex-wrap: wrap;
      font-size: 0.82rem;
      font-weight: 700;
      letter-spacing: 0.07em;
      text-transform: uppercase;
    }

    .brand {
      margin: 0.3rem 0 0.7rem;
      font-family: 'Crimson Pro', serif;
      font-size: clamp(2rem, 6vw, 4.4rem);
      font-weight: 700;
      line-height: 0.92;
      text-transform: uppercase;
      position: relative;
      display: inline-block;
    }

    .brand .stroke {
      display: block;
      font-size: clamp(0.9rem, 2.1vw, 1.35rem);
      letter-spacing: 0.2em;
      margin-top: 0.2rem;
      font-family: 'Space Grotesk', sans-serif;
      font-weight: 800;
    }

    .main-nav {
      display: flex;
      flex-wrap: wrap;
      gap: 0.55rem;
      margin: 0.5rem 0 0;
    }

    .main-nav a,
    .action,
    button,
    input[type='range'] {
      font-family: 'Space Grotesk', sans-serif;
    }

    .main-nav a,
    .action {
      text-decoration: none;
      background: #fff;
      color: #111;
      border: var(--border);
      padding: 0.45rem 0.65rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      font-size: 0.78rem;
      box-shadow: 4px 4px 0 #111;
      transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
    }

    body.night .main-nav a,
    body.night .action {
      background: #f4f8ff;
      color: #101425;
      border-color: #f4f8ff;
      box-shadow: 4px 4px 0 #f4f8ff;
    }

    .main-nav a:hover,
    .action:hover {
      transform: translate(-2px, -2px) rotate(-1.3deg);
      box-shadow: 7px 7px 0 #111;
      background: #ffe6ff;
      color: #111;
    }

    .columns {
      column-count: 3;
      column-gap: 1rem;
      margin-top: 1rem;
    }

    @media (max-width: 980px) {
      .columns { column-count: 2; }
    }

    @media (max-width: 680px) {
      .columns { column-count: 1; }
    }

    .panel {
      break-inside: avoid;
      margin: 0 0 1rem;
      padding: 1rem;
      border: var(--border);
      box-shadow: var(--shadow);
      background: linear-gradient(155deg, #fffefa, #fff2d8 58%, #fbe8ff);
      position: relative;
      overflow: hidden;
    }

    .panel.dark {
      background: linear-gradient(145deg, #141b31, #1a2444 50%, #2e1f4b);
      color: #fbfdff;
      border-color: #fbfdff;
      box-shadow: 8px 8px 0 #fbfdff;
    }

    .panel h2,
    .panel h3,
    .panel p,
    .panel li,
    .panel small,
    .panel label,
    .panel strong {
      color: inherit;
    }

    .kicker {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      font-weight: 800;
      margin-bottom: 0.35rem;
      display: inline-block;
      background: #111;
      color: #fff;
      padding: 0.2rem 0.45rem;
    }

    .panel.dark .kicker {
      background: #fff;
      color: #111;
    }

    .headline {
      margin: 0 0 0.4rem;
      font-family: 'Crimson Pro', serif;
      font-size: clamp(1.35rem, 2.4vw, 2rem);
      line-height: 0.98;
      text-transform: uppercase;
    }

    .mini-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0.6rem;
      margin-top: 0.7rem;
    }

    .cat-seal {
      border: 3px solid currentColor;
      min-height: 110px;
      padding: 0.65rem;
      position: relative;
      display: grid;
      place-content: center;
      text-align: center;
      font-size: 0.8rem;
      font-weight: 700;
      text-transform: uppercase;
      background: linear-gradient(160deg, #ffe2f4, #e6fff1, #e7eeff);
      clip-path: polygon(10% 0, 90% 0, 100% 15%, 100% 85%, 90% 100%, 10% 100%, 0 85%, 0 15%);
      transition: transform 0.35s ease, clip-path 0.35s ease, filter 0.35s ease;
      cursor: pointer;
      color: #101010;
    }

    .cat-seal:nth-child(2n) {
      background: linear-gradient(165deg, #fff3bd, #ffd7d3, #d5f0ff);
    }

    .cat-seal:hover {
      transform: rotate(-2deg) scale(1.03);
      clip-path: polygon(0 0, 100% 8%, 95% 100%, 4% 95%);
      filter: saturate(1.4);
    }

    .market-strip {
      margin-top: 0.8rem;
      border: var(--border);
      padding: 0.45rem;
      overflow: hidden;
      background: #fff;
      color: #111;
    }

    .ticker {
      white-space: nowrap;
      display: inline-block;
      font-weight: 800;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      animation: crawl 13s linear infinite;
    }

    @keyframes crawl {
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }

    .note-stage {
      margin-top: 0.85rem;
      padding: 0.8rem;
      border: var(--border);
      background: #fff;
      color: #111;
      position: relative;
      min-height: 145px;
      overflow: hidden;
    }

    .compliment-note {
      width: min(260px, 100%);
      min-height: 100px;
      border: var(--border);
      background: linear-gradient(145deg, #fff1f1, #fff9d2 35%, #e8ffec 70%, #ecedff);
      transform: rotate(-2deg);
      padding: 0.7rem;
      font-family: 'Crimson Pro', serif;
      font-size: 1.12rem;
      line-height: 1.08;
      box-shadow: 6px 6px 0 #111;
      color: #111;
    }

    .crayon-meter {
      margin-top: 0.5rem;
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 0.6rem;
      align-items: center;
    }

    .crayon-meter output {
      font-weight: 800;
      border: var(--border);
      background: #111;
      color: #fff;
      padding: 0.22rem 0.45rem;
      min-width: 3.8rem;
      text-align: center;
    }

    input[type='range'] {
      width: 100%;
      accent-color: #111;
      margin: 0;
    }

    .price-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 0.55rem;
      font-size: 0.9rem;
      background: #fff;
      color: #111;
    }

    .price-table th,
    .price-table td {
      border: 2px solid #111;
      padding: 0.4rem;
      text-align: left;
      color: inherit;
    }

    .price-table th {
      background: #111;
      color: #fff;
      text-transform: uppercase;
      font-size: 0.76rem;
    }

    .chipline {
      display: flex;
      flex-wrap: wrap;
      gap: 0.4rem;
      margin-top: 0.6rem;
    }

    .chip {
      border: var(--border);
      background: #fff;
      color: #111;
      padding: 0.3rem 0.55rem;
      font-size: 0.72rem;
      text-transform: uppercase;
      font-weight: 800;
    }

    .artboard {
      min-height: 170px;
      border: var(--border);
      background: linear-gradient(180deg, #fff, #ffe7c8 30%, #f9ddff 70%, #d6f3ff);
      position: relative;
      overflow: hidden;
      margin-top: 0.7rem;
      color: #111;
    }

    .stroke-piece {
      position: absolute;
      width: 14px;
      height: 68px;
      border: 2px solid #111;
      border-radius: 10px;
      transform-origin: center;
      opacity: 0.95;
    }

    .stamp {
      margin-top: 0.6rem;
      border: var(--border);
      padding: 0.5rem;
      background: #fff;
      color: #111;
      display: flex;
      align-items: center;
      gap: 0.45rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .stamp i {
      width: 18px;
      height: 18px;
    }

    .footer-note {
      margin-top: 1rem;
      border: var(--border);
      background: #111;
      color: #fff;
      padding: 0.8rem;
      box-shadow: var(--shadow);
      text-transform: uppercase;
      letter-spacing: 0.06em;
      font-size: 0.74rem;
      text-align: center;
    }

    .pulse {
      animation: pulse 1.2s ease-in-out 1;
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.04); }
      100% { transform: scale(1); }
    }
  </style>
</head>
<body>
  <div class="page" id="pageRoot">
    <header class="masthead">
      <div class="topline">
        <span>Certified Kitchen Committee Ledger Since 1987</span>
        <a class="action" href="#ledger" id="modeBell">Ring Closing Bell</a>
      </div>
      <h1 class="brand">Crayon Ledger Kitchen Exchange<span class="stroke">Committee of Nine Domestic Cats</span></h1>
      <nav class="main-nav" aria-label="Primary">
        <a href="#auction">Auction Floor</a>
        <a href="#ledger">Compliment Ledger</a>
        <a href="#pricing">Seat Pricing</a>
        <a href="#reviews">Kitchen Audits</a>
      </nav>
    </header>

    <main class="columns">
      <article class="panel" id="auction">
        <span class="kicker">Morning Session</span>
        <h2 class="headline">Live Board Approves Saffron Custard Futures</h2>
        <p>Open lots move by applause quality and diction. Bids settle in signed compliments on crayon bond sheets.</p>
        <div class="mini-grid">
          <div class="cat-seal">Chaircat Nyla<br /><small>Whisk Treasury</small></div>
          <div class="cat-seal">Vicecat Orbit<br /><small>Pan Equity</small></div>
          <div class="cat-seal">Clerk Juniper<br /><small>Sauce Audits</small></div>
          <div class="cat-seal">Marshal Fig<br /><small>Heat Control</small></div>
        </div>
        <div class="market-strip" aria-label="Live tape">
          <div class="ticker">Compliment Index +7.2 | Toast Volatility Calm | Fennel Bond Stable | Apricot Derivative Limit Up | Catnip Reserve Neutral | Compliment Index +7.2 | Toast Volatility Calm | Fennel Bond Stable</div>
        </div>
      </article>

      <article class="panel dark" id="ledger">
        <span class="kicker">Ledger Desk</span>
        <h2 class="headline">Mint a Compliment Note</h2>
        <p>Issue a negotiable kitchen note with your preferred generosity tier. Notes clear instantly at the prep island.</p>
        <div class="note-stage" id="noteStage">
          <div class="compliment-note" id="noteCard">Your knife work carries sunrise confidence.</div>
        </div>
        <div class="crayon-meter">
          <input type="range" id="praiseScale" min="1" max="9" value="4" aria-label="Compliment strength" />
          <output id="praiseOutput">Tier 4</output>
        </div>
        <div class="chipline">
          <span class="chip">Clearing Window 3 Mins</span>
          <span class="chip">Ink Type: Wax Crayon</span>
          <span class="chip">Default Collateral: Warm Scones</span>
        </div>
      </article>

      <article class="panel" id="pricing">
        <span class="kicker">Membership</span>
        <h2 class="headline">Floor Seat Pricing</h2>
        <table class="price-table">
          <thead>
            <tr><th>Seat</th><th>Monthly Rate</th><th>Perks</th></tr>
          </thead>
          <tbody>
            <tr><td>Gallery Stool</td><td>38 compliments</td><td>One tasting spoon</td></tr>
            <tr><td>Apron Rail</td><td>94 compliments</td><td>Priority bid paddle</td></tr>
            <tr><td>Prime Burner</td><td>240 compliments</td><td>Chef bell voting rights</td></tr>
          </tbody>
        </table>
        <p style="margin-top:0.6rem;">Every seat receives weekly crayon transcript bundles and pre-market broth notes.</p>
      </article>

      <article class="panel" id="reviews">
        <span class="kicker">Auditor Wire</span>
        <h3 class="headline">Counterparty Testimonials</h3>
        <p><strong>Ridge Bakery Union:</strong> "Our tart allotment tripled after a single compliment credit line."</p>
        <p><strong>Mercer Soup Co-op:</strong> "Settlement is strict, warm, and beautifully handwritten."</p>
        <p><strong>North Dock Banquet Hall:</strong> "Their cats rejected our weak adjectives, and margins improved."</p>
        <div class="stamp"><i data-lucide="seal-check"></i> verified by municipal pantry office</div>
      </article>

      <article class="panel dark">
        <span class="kicker">Art Control</span>
        <h3 class="headline">Crayon Audit Burst</h3>
        <p>Run a visual stress test of document authenticity and pigment liquidity.</p>
        <button class="action" id="burstBtn" type="button">Run Audit Burst</button>
        <div class="artboard" id="artboard" aria-hidden="true"></div>
      </article>

      <article class="panel">
        <span class="kicker">Dispatch</span>
        <h3 class="headline">Today on the Main Burner</h3>
        <ul>
          <li>08:30 committee roll call and ladle oath</li>
          <li>09:00 citrus glaze opening auction</li>
          <li>11:40 emergency compliment infusion</li>
          <li>15:10 closing bell and biscuit dividend</li>
        </ul>
      </article>
    </main>

    <footer class="footer-note">Paper trail hotline: desk three, red crayon drawer. all official records stamped before plating.</footer>
  </div>

  <script src="/assets/js/alpine.min.js" defer></script>
  <script src="/assets/js/gsap.min.js"></script>
  <script src="/assets/js/lucide.min.js"></script>
  <script>
    (function () {
      const praiseLines = [
        'Your knife work carries sunrise confidence.',
        'Your reductions whisper discipline and grace.',
        'Your timing could calm a volatile oven.',
        'Your seasoning strategy inspires market trust.',
        'Your plating makes auditors applaud twice.',
        'Your pastry fold is a masterclass in patience.',
        'Your broth clarity guides the entire floor.',
        'Your grill marks read like poetry in wax.',
        'Your pantry logic could anchor a decade.'
      ];

      function safeGsapTo(target, vars) {
        if (window.gsap && target) {
          window.gsap.to(target, vars);
        }
      }

      function safeGsapFrom(target, vars) {
        if (window.gsap && target) {
          window.gsap.from(target, vars);
        }
      }

      document.addEventListener('DOMContentLoaded', function () {
        if (window.lucide && typeof window.lucide.createIcons === 'function') {
          window.lucide.createIcons();
        }

        const body = document.body;
        const pageRoot = document.getElementById('pageRoot');
        const bell = document.getElementById('modeBell');
        const slider = document.getElementById('praiseScale');
        const output = document.getElementById('praiseOutput');
        const note = document.getElementById('noteCard');
        const burstBtn = document.getElementById('burstBtn');
        const artboard = document.getElementById('artboard');
        const seals = document.querySelectorAll('.cat-seal');

        if (bell) {
          bell.addEventListener('click', function (event) {
            event.preventDefault();
            body.classList.toggle('night');
            safeGsapTo(pageRoot, {
              duration: 0.6,
              rotate: body.classList.contains('night') ? -0.3 : 0,
              filter: body.classList.contains('night') ? 'hue-rotate(26deg) saturate(1.15)' : 'hue-rotate(0deg) saturate(1)',
              ease: 'power2.out'
            });
          });
        }

        if (slider && output && note) {
          slider.addEventListener('input', function () {
            const tier = Number(slider.value);
            output.textContent = 'Tier ' + tier;
            note.textContent = praiseLines[tier - 1];
            note.classList.remove('pulse');
            requestAnimationFrame(function () {
              note.classList.add('pulse');
            });
            safeGsapTo(note, {
              duration: 0.35,
              rotate: -4 + tier * 0.7,
              y: (5 - tier) * 1.4,
              boxShadow: (3 + tier) + 'px ' + (3 + tier) + 'px 0 #111',
              ease: 'back.out(1.6)'
            });
          });
        }

        seals.forEach(function (seal, idx) {
          seal.addEventListener('mouseenter', function () {
            safeGsapTo(seal, {
              duration: 0.4,
              rotation: idx % 2 === 0 ? -3 : 3,
              y: -4,
              ease: 'power2.out'
            });
          });
          seal.addEventListener('mouseleave', function () {
            safeGsapTo(seal, {
              duration: 0.35,
              rotation: 0,
              y: 0,
              ease: 'power2.out'
            });
          });
        });

        if (burstBtn && artboard) {
          burstBtn.addEventListener('click', function () {
            artboard.innerHTML = '';
            const colors = ['#ff6b6b', '#ffd93d', '#6bcb77', '#4d96ff', '#c77dff', '#ff9f68'];
            for (let i = 0; i < 26; i += 1) {
              const stroke = document.createElement('span');
              stroke.className = 'stroke-piece';
              const left = Math.random() * 96;
              const top = Math.random() * 72;
              const rotate = -35 + Math.random() * 70;
              const color = colors[Math.floor(Math.random() * colors.length)];
              stroke.style.left = left + '%';
              stroke.style.top = top + '%';
              stroke.style.transform = 'rotate(' + rotate + 'deg) scale(0.4)';
              stroke.style.background = color;
              artboard.appendChild(stroke);
              safeGsapFrom(stroke, {
                duration: 0.55 + Math.random() * 0.7,
                scale: 0,
                opacity: 0,
                y: 20 - Math.random() * 40,
                ease: 'back.out(1.8)'
              });
            }
          });
        }
      });
    })();
  </script>
</body>
</html>
