<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Federal Feline Dust Liability Office</title>
  <link rel="stylesheet" href="/assets/css/pico.min.css" />
  <link rel="stylesheet" href="/assets/css/fonts.css" />
  <style>
    :root {
      --bg-0: #14041f;
      --bg-1: #220736;
      --ink: #f8f7ff;
      --ink-dark: #0d0b12;
      --magenta: #ff2fb9;
      --cyan: #42f5ff;
      --chrome: #d8deff;
      --grid: rgba(66, 245, 255, 0.22);
      --panel: rgba(27, 8, 43, 0.9);
      --panel-strong: rgba(18, 4, 31, 0.96);
      --ring: 0 0 0 2px #42f5ff, 0 0 32px rgba(255, 47, 185, 0.45);
      --radius: 16px;
      --alert: 38;
      --holo-tilt: 0deg;
    }

    * {
      box-sizing: border-box;
      font-family: "IBM Plex Mono", monospace;
    }

    html,
    body {
      margin: 0;
      min-height: 100%;
      color: var(--ink);
      background:
        radial-gradient(circle at 10% 12%, rgba(255, 47, 185, 0.25), transparent 34%),
        radial-gradient(circle at 90% 80%, rgba(66, 245, 255, 0.22), transparent 30%),
        linear-gradient(155deg, var(--bg-0), var(--bg-1));
      background-attachment: fixed;
    }

    body::before {
      content: "";
      position: fixed;
      inset: 0;
      pointer-events: none;
      background-image:
        linear-gradient(var(--grid) 1px, transparent 1px),
        linear-gradient(90deg, var(--grid) 1px, transparent 1px);
      background-size: 38px 38px;
      mix-blend-mode: screen;
      opacity: 0.5;
      z-index: -2;
    }

    body::after {
      content: "";
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: -1;
      background:
        repeating-linear-gradient(
          0deg,
          rgba(248, 247, 255, 0.03) 0,
          rgba(248, 247, 255, 0.03) 1px,
          transparent 2px,
          transparent 4px
        );
    }

    main {
      width: min(1180px, 94vw);
      margin: 0 auto;
      padding: 1rem 0 3rem;
    }

    .topbar {
      display: grid;
      grid-template-columns: auto 1fr auto;
      gap: 1rem;
      align-items: center;
      border: 2px solid var(--cyan);
      border-radius: var(--radius);
      background: rgba(16, 3, 30, 0.9);
      box-shadow: var(--ring);
      padding: 0.85rem 1rem;
      margin-bottom: 1rem;
    }

    .logo {
      display: flex;
      gap: 0.65rem;
      align-items: center;
      color: var(--ink);
      font-weight: 700;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      margin: 0;
      font-size: 0.88rem;
      white-space: nowrap;
    }

    .logo i {
      color: var(--cyan);
    }

    .ticker {
      border: 1px solid var(--magenta);
      padding: 0.45rem 0.6rem;
      overflow: hidden;
      white-space: nowrap;
      border-radius: 999px;
      color: #ffffff;
      background: rgba(53, 6, 67, 0.92);
    }

    .ticker span {
      display: inline-block;
      animation: crawl 17s linear infinite;
    }

    @keyframes crawl {
      from { transform: translateX(0); }
      to { transform: translateX(-50%); }
    }

    nav {
      display: flex;
      gap: 0.45rem;
      flex-wrap: wrap;
      justify-content: flex-end;
    }

    nav a {
      text-decoration: none;
      color: var(--ink-dark);
      background: linear-gradient(120deg, var(--cyan), #8fe7ff);
      padding: 0.45rem 0.62rem;
      border-radius: 8px;
      font-size: 0.73rem;
      font-weight: 700;
      text-transform: uppercase;
      border: 1px solid #9cf2ff;
      transition: transform 0.25s ease, box-shadow 0.25s ease;
    }

    nav a:hover,
    nav a:focus-visible {
      transform: translateY(-2px);
      box-shadow: 0 0 0 2px var(--magenta);
      color: #05050a;
    }

    .console {
      display: grid;
      gap: 1rem;
      grid-template-columns: 1.12fr 0.88fr;
      margin-bottom: 1rem;
    }

    .panel {
      background: var(--panel);
      border: 1px solid var(--cyan);
      border-radius: var(--radius);
      padding: 1rem;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.45), inset 0 0 0 1px rgba(255, 47, 185, 0.35);
      position: relative;
      overflow: hidden;
    }

    .panel h2,
    .panel h3,
    .panel p,
    .panel label,
    .panel dt,
    .panel dd,
    .panel li,
    .panel small,
    .panel strong,
    .panel span,
    .panel a,
    .panel button {
      color: var(--ink);
    }

    .panel h2 {
      margin-top: 0;
      font-size: clamp(1.6rem, 2.8vw, 2.4rem);
      line-height: 1.1;
      text-transform: uppercase;
      letter-spacing: 0.04em;
    }

    .panel p {
      max-width: 58ch;
      font-size: 0.93rem;
      margin-bottom: 1rem;
    }

    .chip-row {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      margin-bottom: 1rem;
    }

    .chip {
      border: 1px solid var(--cyan);
      border-radius: 999px;
      padding: 0.25rem 0.65rem;
      font-size: 0.72rem;
      background: rgba(10, 32, 50, 0.72);
      color: #ffffff;
    }

    .controls {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 0.5rem;
      margin: 0.5rem 0 1rem;
    }

    .mode-btn {
      border: 1px solid var(--cyan);
      background: linear-gradient(160deg, rgba(9, 43, 57, 0.88), rgba(60, 11, 77, 0.9));
      color: #ffffff;
      border-radius: 9px;
      padding: 0.6rem 0.4rem;
      font-size: 0.73rem;
      font-weight: 700;
      text-transform: uppercase;
      cursor: pointer;
      transition: transform 0.25s ease, box-shadow 0.25s ease, filter 0.25s ease;
    }

    .mode-btn:hover,
    .mode-btn:focus-visible {
      transform: translateY(-2px);
      box-shadow: 0 0 0 2px var(--magenta);
      filter: brightness(1.15);
    }

    .hero-art {
      min-height: 360px;
      display: grid;
      place-items: center;
      position: relative;
      isolation: isolate;
      border: 1px solid var(--magenta);
      border-radius: 14px;
      background:
        radial-gradient(circle at 50% 76%, rgba(66, 245, 255, 0.2), transparent 37%),
        linear-gradient(180deg, rgba(19, 4, 35, 0.95), rgba(6, 22, 35, 0.92));
      overflow: hidden;
      transform: perspective(1100px) rotateX(7deg) rotateZ(var(--holo-tilt));
      transition: transform 0.45s ease;
    }

    .hero-art::before {
      content: "";
      position: absolute;
      inset: 8% 9%;
      border-radius: 18px;
      border: 2px dashed rgba(216, 222, 255, 0.58);
      filter: drop-shadow(0 0 20px rgba(66, 245, 255, 0.42));
    }

    .orbital {
      position: absolute;
      inset: 0;
      background:
        radial-gradient(circle at 30% 27%, rgba(255, 47, 185, 0.46), transparent 25%),
        radial-gradient(circle at 72% 59%, rgba(66, 245, 255, 0.43), transparent 23%),
        radial-gradient(circle at 48% 44%, rgba(216, 222, 255, 0.24), transparent 30%);
      mix-blend-mode: screen;
      opacity: 0.92;
      transition: filter 0.4s ease;
    }

    .seal {
      width: min(360px, 78%);
      aspect-ratio: 1 / 1;
      position: relative;
      border-radius: 50%;
      border: 4px solid var(--chrome);
      background:
        radial-gradient(circle at 50% 74%, rgba(66, 245, 255, 0.2), transparent 35%),
        radial-gradient(circle at 24% 30%, rgba(255, 47, 185, 0.4), transparent 35%),
        linear-gradient(145deg, rgba(16, 3, 30, 0.98), rgba(35, 8, 51, 0.98));
      box-shadow: 0 0 0 6px rgba(255, 47, 185, 0.2), 0 0 48px rgba(66, 245, 255, 0.45);
      overflow: visible;
      transition: transform 0.35s ease, filter 0.35s ease;
    }

    .seal::before,
    .seal::after {
      content: "";
      position: absolute;
      width: 34%;
      height: 34%;
      top: -10%;
      border: 4px solid var(--chrome);
      background: linear-gradient(160deg, rgba(255, 47, 185, 0.72), rgba(66, 245, 255, 0.56));
      clip-path: polygon(50% 0, 100% 100%, 0 100%);
      filter: drop-shadow(0 0 12px rgba(255, 47, 185, 0.5));
    }

    .seal::before { left: 12%; transform: rotate(-8deg); }
    .seal::after { right: 12%; transform: rotate(8deg); }

    .face {
      position: absolute;
      inset: 18% 16% 16%;
      border-radius: 46% 46% 54% 54%;
      border: 2px solid rgba(66, 245, 255, 0.9);
      background: linear-gradient(170deg, rgba(12, 42, 57, 0.48), rgba(79, 14, 88, 0.5));
      overflow: hidden;
    }

    .eyes,
    .whiskers,
    .nose {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
    }

    .eyes {
      width: 68%;
      top: 27%;
      height: 22%;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 18%;
    }

    .eyes b {
      display: block;
      border: 2px solid var(--cyan);
      border-radius: 50% 50% 42% 42%;
      background:
        radial-gradient(circle at 50% 50%, #101318 0 30%, var(--magenta) 31% 64%, #d8deff 65% 70%, transparent 71%);
      box-shadow: 0 0 16px rgba(66, 245, 255, 0.65);
      animation: blink 5s infinite;
      transform-origin: center;
    }

    @keyframes blink {
      0%, 43%, 49%, 100% { transform: scaleY(1); }
      46% { transform: scaleY(0.1); }
    }

    .nose {
      width: 18%;
      height: 10%;
      top: 53%;
      border: 2px solid var(--chrome);
      clip-path: polygon(50% 100%, 100% 0, 0 0);
      background: linear-gradient(180deg, var(--magenta), #ff8bdf);
    }

    .whiskers {
      width: 88%;
      top: 61%;
      height: 20%;
      background:
        linear-gradient(8deg, transparent 0 17%, rgba(216, 222, 255, 0.9) 18% 19%, transparent 20%),
        linear-gradient(-8deg, transparent 0 17%, rgba(216, 222, 255, 0.9) 18% 19%, transparent 20%),
        linear-gradient(172deg, transparent 0 17%, rgba(216, 222, 255, 0.9) 18% 19%, transparent 20%),
        linear-gradient(188deg, transparent 0 17%, rgba(216, 222, 255, 0.9) 18% 19%, transparent 20%);
      opacity: 0.95;
    }

    .paw-audit {
      display: inline-flex;
      align-items: center;
      gap: 0.45rem;
      border: 1px solid var(--magenta);
      border-radius: 999px;
      padding: 0.45rem 0.8rem;
      background: linear-gradient(130deg, #36ecff, #ff45c0);
      color: #05060b;
      font-weight: 800;
      text-transform: uppercase;
      cursor: pointer;
      letter-spacing: 0.03em;
      transition: transform 0.25s ease, filter 0.25s ease;
    }

    .paw-audit:hover,
    .paw-audit:focus-visible {
      transform: scale(1.03);
      filter: saturate(1.25);
    }

    .trail {
      pointer-events: none;
      position: absolute;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background:
        radial-gradient(circle at 35% 30%, #ffffff 0 14%, transparent 15%),
        radial-gradient(circle at 64% 30%, #ffffff 0 14%, transparent 15%),
        radial-gradient(circle at 28% 55%, #ffffff 0 14%, transparent 15%),
        radial-gradient(circle at 72% 55%, #ffffff 0 14%, transparent 15%),
        radial-gradient(circle at 50% 77%, var(--magenta) 0 40%, transparent 41%);
      filter: drop-shadow(0 0 10px rgba(66, 245, 255, 0.8));
    }

    .grid-stack {
      display: grid;
      gap: 1rem;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      margin-bottom: 1rem;
    }

    .stack-card {
      min-height: 220px;
      position: relative;
      padding: 1rem;
      border-radius: var(--radius);
      border: 1px solid var(--cyan);
      background: linear-gradient(145deg, rgba(28, 6, 42, 0.95), rgba(12, 30, 46, 0.9));
      overflow: hidden;
      cursor: pointer;
      transition: transform 0.35s ease, box-shadow 0.35s ease;
    }

    .stack-card:hover,
    .stack-card:focus-visible {
      transform: translateY(-5px) rotate(-0.6deg);
      box-shadow: 0 0 0 2px var(--magenta), 0 18px 34px rgba(0, 0, 0, 0.4);
    }

    .stack-card h3 {
      margin: 0;
      text-transform: uppercase;
      font-size: 0.95rem;
      letter-spacing: 0.05em;
    }

    .stack-card p {
      margin-top: 0.5rem;
      font-size: 0.85rem;
      max-width: 34ch;
    }

    .catwave,
    .ledger,
    .moonline {
      position: absolute;
      right: -10%;
      bottom: -20%;
      width: 76%;
      aspect-ratio: 1/1;
      opacity: 0.95;
      transition: transform 0.4s ease, filter 0.4s ease;
    }

    .catwave {
      border-radius: 44% 56% 42% 58%;
      border: 2px solid var(--magenta);
      background:
        conic-gradient(from 60deg, rgba(255, 47, 185, 0.8), rgba(66, 245, 255, 0.6), rgba(216, 222, 255, 0.65), rgba(255, 47, 185, 0.8));
      clip-path: polygon(24% 0, 44% 24%, 56% 24%, 76% 0, 100% 42%, 80% 100%, 20% 100%, 0 42%);
    }

    .ledger {
      border: 2px dashed var(--cyan);
      background:
        repeating-linear-gradient(90deg, rgba(216, 222, 255, 0.9) 0 2px, transparent 2px 14px),
        linear-gradient(170deg, rgba(255, 47, 185, 0.5), rgba(66, 245, 255, 0.35));
      clip-path: polygon(12% 0, 88% 0, 100% 14%, 100% 88%, 88% 100%, 12% 100%, 0 88%, 0 14%);
    }

    .moonline {
      border-radius: 50%;
      background:
        radial-gradient(circle at 32% 42%, rgba(255, 47, 185, 0.86), transparent 34%),
        radial-gradient(circle at 66% 68%, rgba(66, 245, 255, 0.66), transparent 32%),
        #10122a;
      border: 2px solid var(--chrome);
    }

    .stack-card:hover .catwave,
    .stack-card:hover .ledger,
    .stack-card:hover .moonline {
      transform: rotate(12deg) scale(1.08);
      filter: brightness(1.15) saturate(1.2);
    }

    .dock {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
      margin-bottom: 1rem;
    }

    .pricing {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 0.7rem;
    }

    .tier {
      padding: 0.8rem;
      border: 1px solid var(--magenta);
      border-radius: 12px;
      background: rgba(45, 8, 59, 0.82);
    }

    .tier strong {
      display: block;
      color: #ffffff;
      font-size: 1rem;
    }

    .tier span {
      display: block;
      margin-top: 0.35rem;
      color: #ffffff;
      font-size: 0.84rem;
    }

    .testimonials {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0.6rem;
      margin-top: 0.5rem;
    }

    blockquote {
      margin: 0;
      border-left: 3px solid var(--cyan);
      border-radius: 8px;
      padding: 0.6rem 0.7rem;
      background: rgba(8, 34, 50, 0.65);
      color: #ffffff;
      font-size: 0.85rem;
    }

    .faq details {
      border: 1px solid var(--cyan);
      border-radius: 10px;
      margin-bottom: 0.5rem;
      padding: 0.5rem 0.7rem;
      background: rgba(10, 26, 40, 0.72);
    }

    .faq summary {
      color: #ffffff;
      cursor: pointer;
      font-weight: 700;
      text-transform: uppercase;
      font-size: 0.8rem;
    }

    .faq p {
      margin: 0.55rem 0 0.2rem;
      font-size: 0.85rem;
      color: #ffffff;
    }

    .meter-wrap {
      margin-top: 0.7rem;
      border: 1px solid var(--cyan);
      border-radius: 10px;
      padding: 0.6rem;
      background: rgba(13, 4, 26, 0.9);
    }

    .meter-wrap label {
      display: block;
      font-size: 0.78rem;
      text-transform: uppercase;
      margin-bottom: 0.3rem;
      color: #ffffff;
      font-weight: 700;
    }

    input[type="range"] {
      width: 100%;
      accent-color: var(--magenta);
    }

    .statusline {
      margin-top: 0.35rem;
      font-size: 0.78rem;
      color: #ffffff;
      font-weight: 700;
    }

    footer {
      border: 1px solid var(--cyan);
      border-radius: var(--radius);
      background: var(--panel-strong);
      padding: 0.9rem 1rem;
      display: grid;
      gap: 0.5rem;
      margin-top: 0.9rem;
    }

    footer p,
    footer a,
    footer strong,
    footer small {
      margin: 0;
      color: #ffffff;
      font-size: 0.78rem;
    }

    footer a {
      text-decoration: underline;
      text-decoration-color: var(--cyan);
    }

    .spark {
      position: absolute;
      inset: auto 4% 5% auto;
      width: 120px;
      height: 120px;
      border: 1px dashed var(--magenta);
      border-radius: 50%;
      animation: spin 7s linear infinite;
      opacity: 0.85;
    }

    .spark::before,
    .spark::after {
      content: "";
      position: absolute;
      inset: 50% auto auto 50%;
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: var(--cyan);
      box-shadow: 0 0 12px var(--cyan);
    }

    .spark::before { transform: translate(-50%, -58px); }
    .spark::after { transform: translate(-50%, 47px); background: var(--magenta); box-shadow: 0 0 12px var(--magenta); }

    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    @media (max-width: 980px) {
      .console,
      .grid-stack,
      .dock,
      .pricing,
      .testimonials {
        grid-template-columns: 1fr;
      }

      .controls {
        grid-template-columns: 1fr;
      }

      .topbar {
        grid-template-columns: 1fr;
      }

      nav {
        justify-content: flex-start;
      }
    }
  </style>
</head>
<body>
  <main>
    <header class="topbar" aria-label="Site navigation">
      <p class="logo"><i data-lucide="shield-check"></i> FFDLO.GOV // Federal Feline Dust Liability Office</p>
      <div class="ticker" aria-live="polite">
        <span>Ledger Feed: Zone 04 whisker sweep at 06:40 EST | Dust futures stabilized at 2.1 pawpoints | Purrmit renewals due before March 31 | Midnight laser inspection cycle authorized |</span>
      </div>
      <nav>
        <a href="#registry">Registry</a>
        <a href="#levy">Levy Bands</a>
        <a href="#voices">Field Notes</a>
        <a href="#faq">Protocol</a>
      </nav>
    </header>

    <section class="console" id="registry">
      <article class="panel">
        <h2>National Dust Compliance Pawtal</h2>
        <p>We quantify airborne particulate negligence through cat-standard observation. Licensed clawditors convert every drifting speck into a measurable federal liability event.</p>
        <div class="chip-row">
          <span class="chip">Form 9-LITTER</span>
          <span class="chip">Whisker Radar Active</span>
          <span class="chip">Treasury Purrtocol 11</span>
          <span class="chip">Catnip Grade: Sovereign</span>
        </div>
        <div class="controls" aria-label="visual profile controls">
          <button class="mode-btn" data-mode="magenta">Magenta Purrge</button>
          <button class="mode-btn" data-mode="cyan">Cyan Collar Shift</button>
          <button class="mode-btn" data-mode="chrome">Chrome Night Patrol</button>
        </div>
        <button class="paw-audit" id="pawAudit" type="button"><i data-lucide="paw-print"></i> Stamp Compliance Trail</button>
        <small style="display:block;margin-top:0.55rem;color:#ffffff;">Certified by the Bureau of Quiet Landings.</small>
      </article>

      <aside class="panel">
        <div class="hero-art" id="heroArt" aria-hidden="true">
          <div class="orbital" id="orbital"></div>
          <div class="seal" id="seal">
            <div class="face">
              <div class="eyes"><b></b><b></b></div>
              <div class="nose"></div>
              <div class="whiskers"></div>
            </div>
          </div>
          <div class="spark"></div>
        </div>
      </aside>
    </section>

    <section class="grid-stack" aria-label="program tools">
      <article class="stack-card" tabindex="0">
        <h3>Whisker Lidar Mesh</h3>
        <p>Municipal cats map dust currents by moon angle and heating vent harmonics.</p>
        <div class="catwave"></div>
      </article>
      <article class="stack-card" tabindex="0">
        <h3>Clawback Ledger</h3>
        <p>Each unpaid dust gram receives a progressive fluff surcharge after seven business naps.</p>
        <div class="ledger"></div>
      </article>
      <article class="stack-card" tabindex="0">
        <h3>Nocturne Patrol Grid</h3>
        <p>Night inspectors with reflective collars issue immediate purrmits and vacuum embargoes.</p>
        <div class="moonline"></div>
      </article>
    </section>

    <section class="dock" id="levy">
      <article class="panel">
        <h3>Levy Bands (FY 2026)</h3>
        <div class="pricing">
          <div class="tier">
            <strong>Domestic Tabby Tier</strong>
            <span>$29 / month</span>
            <span>Up to 3 rooms, 14 grams drift tolerance.</span>
          </div>
          <div class="tier">
            <strong>Commercial Panther Tier</strong>
            <span>$149 / month</span>
            <span>Retail corridors, daily whisker scans, legal hiss support.</span>
          </div>
          <div class="tier">
            <strong>Industrial Lion Tier</strong>
            <span>$499 / month</span>
            <span>Dockyards and mills, emergency fur response in under 9 minutes.</span>
          </div>
        </div>

        <div class="meter-wrap">
          <label for="dustMeter">Dust Alert Dial</label>
          <input id="dustMeter" type="range" min="10" max="90" value="38" />
          <p class="statusline" id="statusLine">Alert Level: 38 pawpoints // Hushed Growl</p>
        </div>
      </article>

      <article class="panel" id="voices">
        <h3>Citizen Remarks</h3>
        <div class="testimonials">
          <blockquote>“Our bakery paid three quarters of penalties before the office assigned us a tuxedo cat inspector. Dust events dropped by 87%.”<br><strong>- M. Hall, Erie</strong></blockquote>
          <blockquote>“The midnight paw patrol spotted lint under our server cages. We avoided a federal clawback notice.”<br><strong>- T. Alvarez, Boise</strong></blockquote>
        </div>

        <section class="faq" id="faq" style="margin-top:0.8rem;">
          <details>
            <summary>Do I need a purrmit for attic dust?</summary>
            <p>Yes. Unregistered attic drift is categorized as elevated feline concern under Circular 22-PAW.</p>
          </details>
          <details>
            <summary>Can penalties be paid in cat food futures?</summary>
            <p>No. Treasury accepts USD, certified barter silver, and approved vacuum credits only.</p>
          </details>
          <details>
            <summary>How often are whisker audits scheduled?</summary>
            <p>Standard properties: monthly. High-turbulence industries: nightly plus lunar surge windows.</p>
          </details>
        </section>
      </article>
    </section>

    <footer>
      <p><strong>Federal Feline Dust Liability Office</strong> // 800 Whisker Annex, Capital District</p>
      <p>Operations Desk: 1-800-PAW-LEDGER | Secure Fax: 1-800-CLAW-TAX</p>
      <p><a href="#">Records Act</a> | <a href="#">Inspector Registry</a> | <a href="#">Emergency Furline</a></p>
      <small>Last ratified: February 9, 2026. This is an official United States municipal compliance service.</small>
    </footer>
  </main>

  <script src="/assets/js/gsap.min.js"></script>
  <script src="/assets/js/lucide.min.js"></script>
  <script>
    (function () {
      const root = document.documentElement;
      const seal = document.getElementById('seal');
      const orbital = document.getElementById('orbital');
      const heroArt = document.getElementById('heroArt');
      const modeButtons = document.querySelectorAll('.mode-btn');
      const meter = document.getElementById('dustMeter');
      const statusLine = document.getElementById('statusLine');
      const pawAudit = document.getElementById('pawAudit');

      if (window.lucide && typeof window.lucide.createIcons === 'function') {
        window.lucide.createIcons();
      }

      if (window.gsap) {
        gsap.to(seal, {
          rotate: 4,
          yoyo: true,
          repeat: -1,
          duration: 3.2,
          ease: 'sine.inOut'
        });

        gsap.to('.spark', {
          scale: 1.1,
          yoyo: true,
          repeat: -1,
          duration: 1.8,
          ease: 'sine.inOut'
        });
      }

      const modes = {
        magenta: {
          '--magenta': '#ff2fb9',
          '--cyan': '#42f5ff',
          '--chrome': '#d8deff'
        },
        cyan: {
          '--magenta': '#ff5aa8',
          '--cyan': '#5dffef',
          '--chrome': '#e8fdff'
        },
        chrome: {
          '--magenta': '#ff4fd4',
          '--cyan': '#97b3ff',
          '--chrome': '#f4f7ff'
        }
      };

      modeButtons.forEach((button) => {
        button.addEventListener('click', () => {
          const mode = button.getAttribute('data-mode');
          const palette = modes[mode];
          if (!palette) return;

          Object.entries(palette).forEach(([key, value]) => {
            root.style.setProperty(key, value);
          });

          if (window.gsap) {
            gsap.fromTo(
              heroArt,
              { filter: 'hue-rotate(0deg) brightness(1)' },
              { filter: 'hue-rotate(24deg) brightness(1.12)', duration: 0.35, yoyo: true, repeat: 1, ease: 'power1.inOut' }
            );
          }
        });
      });

      function updateMeter() {
        const value = Number(meter.value || 0);
        root.style.setProperty('--alert', String(value));
        root.style.setProperty('--holo-tilt', ((value - 50) / 11).toFixed(2) + 'deg');
        const status = value < 30 ? 'Purring Calm' : value < 60 ? 'Hushed Growl' : 'Full Hairball Alert';
        statusLine.textContent = 'Alert Level: ' + value + ' pawpoints // ' + status;
        orbital.style.filter = 'hue-rotate(' + Math.round(value * 1.8) + 'deg) saturate(' + (1 + value / 110).toFixed(2) + ')';
      }

      meter.addEventListener('input', updateMeter);
      updateMeter();

      pawAudit.addEventListener('click', () => {
        const rect = heroArt.getBoundingClientRect();
        for (let i = 0; i < 12; i += 1) {
          const paw = document.createElement('span');
          paw.className = 'trail';
          paw.style.left = Math.random() * (rect.width - 24) + 'px';
          paw.style.top = Math.random() * (rect.height - 24) + 'px';
          paw.style.transform = 'scale(' + (0.7 + Math.random() * 1.1).toFixed(2) + ') rotate(' + Math.round(Math.random() * 360) + 'deg)';
          heroArt.appendChild(paw);

          if (window.gsap) {
            gsap.fromTo(
              paw,
              { opacity: 0, scale: 0.2 },
              {
                opacity: 1,
                scale: 1,
                duration: 0.22,
                ease: 'back.out(2)',
                onComplete: function () {
                  gsap.to(paw, {
                    opacity: 0,
                    duration: 1,
                    delay: 0.8,
                    onComplete: function () {
                      paw.remove();
                    }
                  });
                }
              }
            );
          } else {
            setTimeout(function () {
              paw.remove();
            }, 1300);
          }
        }
      });

      document.querySelectorAll('.stack-card').forEach((card) => {
        card.addEventListener('mouseenter', () => {
          if (!window.gsap) return;
          gsap.fromTo(card, { rotateY: 0 }, { rotateY: 7, duration: 0.24, yoyo: true, repeat: 1, ease: 'sine.inOut' });
        });
      });
    })();
  </script>
</body>
</html>
