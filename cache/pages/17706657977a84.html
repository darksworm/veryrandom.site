<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Red Lark Aerial Estate & Tribute Office</title>
  <link rel="stylesheet" href="/assets/css/pico.min.css" />
  <link rel="stylesheet" href="/assets/css/fonts.css" />
  <style>
    :root {
      --bg: #0b0b0b;
      --panel: #121212;
      --panel-2: #181818;
      --ink: #f5f5f5;
      --ink-strong: #ffffff;
      --accent: #ff1a3d;
      --accent-2: #ff415f;
      --line: #2c2c2c;
      --ok: #8cff66;
      --warn: #ffd24d;
    }

    * {
      box-sizing: border-box;
      font-family: 'IBM Plex Mono', monospace;
    }

    html,
    body {
      margin: 0;
      background:
        linear-gradient(180deg, #070707 0%, #0d0d0d 45%, #090909 100%);
      color: var(--ink);
      min-height: 100%;
      letter-spacing: 0.01em;
    }

    body {
      padding: 1rem;
      border: 1px solid var(--line);
      position: relative;
      overflow-x: hidden;
    }

    body::before {
      content: "";
      position: absolute;
      inset: 0;
      background:
        repeating-linear-gradient(
          0deg,
          rgba(255, 255, 255, 0.03) 0,
          rgba(255, 255, 255, 0.03) 1px,
          transparent 1px,
          transparent 24px
        ),
        repeating-linear-gradient(
          90deg,
          rgba(255, 255, 255, 0.025) 0,
          rgba(255, 255, 255, 0.025) 1px,
          transparent 1px,
          transparent 24px
        );
      pointer-events: none;
      z-index: 0;
    }

    main {
      max-width: 1360px;
      margin: 0 auto;
      position: relative;
      z-index: 1;
    }

    .topline {
      display: grid;
      grid-template-columns: 1.5fr 1fr;
      gap: 0.8rem;
      margin-bottom: 0.8rem;
    }

    .bar,
    .panel,
    .hero,
    .table-shell,
    .faq,
    .footer-grid {
      background: var(--panel);
      border: 1px solid var(--line);
      padding: 0.8rem;
      box-shadow: 0 0 0 1px #000 inset;
    }

    .bar {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      gap: 0.65rem;
      background: var(--panel-2);
    }

    .brand {
      font-weight: 700;
      color: var(--ink-strong);
      text-transform: uppercase;
    }

    .tag {
      border: 1px solid var(--accent);
      color: var(--ink-strong);
      padding: 0.2rem 0.45rem;
      font-size: 0.75rem;
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      background: #1f0b10;
    }

    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 0.45rem;
      align-items: center;
    }

    button,
    [role="button"],
    input,
    select,
    textarea {
      font-family: 'IBM Plex Mono', monospace;
      color: var(--ink-strong);
      border-color: var(--line);
    }

    button {
      background: #111;
      color: var(--ink-strong);
      border: 1px solid var(--line);
      padding: 0.4rem 0.6rem;
      margin: 0;
    }

    button:hover {
      border-color: var(--accent);
      color: var(--ink-strong);
      background: #1a0c10;
    }

    .btn-accent {
      background: var(--accent);
      color: #000;
      font-weight: 700;
      border-color: var(--accent);
    }

    .btn-accent:hover {
      background: var(--accent-2);
      color: #000;
    }

    .hero {
      display: grid;
      grid-template-columns: 1.25fr 1fr;
      gap: 0.8rem;
      background: linear-gradient(140deg, #130f10 0%, #151515 45%, #110a0e 100%);
      margin-bottom: 0.8rem;
    }

    .hero h1 {
      margin: 0 0 0.4rem;
      font-size: clamp(1.25rem, 2.8vw, 2.2rem);
      color: var(--ink-strong);
      text-transform: uppercase;
      line-height: 1.15;
    }

    .hero p {
      margin: 0.35rem 0;
      color: var(--ink);
      font-size: 0.93rem;
    }

    .ledger {
      border: 1px solid var(--line);
      background: #0e0e0e;
      padding: 0.6rem;
    }

    .ledger-row {
      display: flex;
      justify-content: space-between;
      gap: 0.8rem;
      padding: 0.22rem 0;
      border-bottom: 1px dotted #2f2f2f;
      font-size: 0.84rem;
    }

    .ledger-row:last-child {
      border-bottom: 0;
    }

    .value-hot {
      color: var(--accent-2);
      font-weight: 700;
    }

    .value-ok {
      color: var(--ok);
      font-weight: 700;
    }

    .dashboard {
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 0.8rem;
      margin-bottom: 0.8rem;
    }

    .span-3 { grid-column: span 3; }
    .span-4 { grid-column: span 4; }
    .span-5 { grid-column: span 5; }
    .span-6 { grid-column: span 6; }
    .span-7 { grid-column: span 7; }
    .span-8 { grid-column: span 8; }
    .span-12 { grid-column: span 12; }

    .kpi {
      background: #101010;
      border: 1px solid var(--line);
      padding: 0.6rem;
      min-height: 7.5rem;
    }

    .kpi h3,
    .panel h3,
    .faq h3 {
      margin: 0 0 0.4rem;
      font-size: 0.9rem;
      text-transform: uppercase;
      color: var(--ink-strong);
    }

    .big {
      font-size: 1.6rem;
      font-weight: 700;
      color: var(--ink-strong);
      line-height: 1;
      margin: 0.25rem 0;
    }

    .tiny {
      font-size: 0.75rem;
      color: var(--ink);
      line-height: 1.35;
    }

    .meter {
      height: 0.7rem;
      border: 1px solid var(--line);
      background: #080808;
      margin: 0.4rem 0;
      position: relative;
      overflow: hidden;
    }

    .meter > span {
      display: block;
      height: 100%;
      background: linear-gradient(90deg, var(--accent) 0%, var(--accent-2) 100%);
    }

    .ascii-chart {
      font-size: 0.73rem;
      line-height: 1.3;
      background: #0a0a0a;
      border: 1px solid #282828;
      padding: 0.5rem;
      white-space: pre;
      color: var(--ink-strong);
      min-height: 8.4rem;
    }

    .ticker {
      border: 1px solid var(--line);
      background: #0f0f0f;
      overflow: hidden;
      white-space: nowrap;
      padding: 0.35rem 0;
      margin: 0.7rem 0;
    }

    .ticker-track {
      display: inline-block;
      padding-left: 100%;
      animation: ticker 22s linear infinite;
      color: var(--ink-strong);
      font-size: 0.83rem;
    }

    @keyframes ticker {
      from { transform: translateX(0); }
      to { transform: translateX(-100%); }
    }

    .grid-mini {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 0.5rem;
    }

    .grid-mini .cell {
      border: 1px solid var(--line);
      padding: 0.45rem;
      background: #111;
      min-height: 5.3rem;
    }

    .dial {
      width: 100%;
      height: 0.8rem;
      background: #090909;
      border: 1px solid var(--line);
      margin: 0.35rem 0 0.2rem;
      position: relative;
    }

    .dial i {
      position: absolute;
      top: -2px;
      width: 0.45rem;
      height: 1rem;
      background: var(--accent);
      display: block;
    }

    .pricing {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 0.6rem;
    }

    .tier {
      border: 1px solid var(--line);
      background: #101010;
      padding: 0.6rem;
    }

    .tier h4 {
      margin: 0;
      text-transform: uppercase;
      font-size: 0.86rem;
      color: var(--ink-strong);
    }

    .price {
      margin: 0.35rem 0;
      font-size: 1.2rem;
      color: var(--accent-2);
      font-weight: 700;
    }

    .table-shell {
      overflow: auto;
      margin-bottom: 0.8rem;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.8rem;
    }

    th,
    td {
      border: 1px solid var(--line);
      padding: 0.4rem;
      text-align: left;
      color: var(--ink-strong);
      background: #0f0f0f;
    }

    th {
      background: #1a1a1a;
      text-transform: uppercase;
      font-size: 0.72rem;
    }

    .faq details {
      border: 1px solid var(--line);
      padding: 0.45rem;
      margin-bottom: 0.45rem;
      background: #0f0f0f;
    }

    .faq summary {
      cursor: pointer;
      color: var(--ink-strong);
      font-size: 0.86rem;
    }

    .faq p {
      margin: 0.4rem 0 0;
      color: var(--ink);
      font-size: 0.82rem;
    }

    .footer-grid {
      display: grid;
      grid-template-columns: 1.1fr 1fr 1fr;
      gap: 0.7rem;
      margin-bottom: 2.8rem;
    }

    a {
      color: var(--accent-2);
    }

    .pulse {
      animation: pulse 0.9s ease-in-out 2;
    }

    @keyframes pulse {
      0% { box-shadow: 0 0 0 0 rgba(255, 26, 61, 0.75); }
      100% { box-shadow: 0 0 0 14px rgba(255, 26, 61, 0); }
    }

    .blink {
      animation: blink 1s steps(1) infinite;
    }

    @keyframes blink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0.45; }
    }

    .note {
      font-size: 0.73rem;
      color: var(--ink);
      border-top: 1px dashed #353535;
      padding-top: 0.4rem;
      margin-top: 0.4rem;
    }

    @media (max-width: 1080px) {
      .hero,
      .topline,
      .footer-grid {
        grid-template-columns: 1fr;
      }

      .dashboard {
        grid-template-columns: repeat(6, 1fr);
      }

      .span-8,
      .span-7,
      .span-6,
      .span-5,
      .span-4,
      .span-3 {
        grid-column: span 6;
      }

      .pricing {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body x-data="balloonOffice()" :style="`--accent:${accent};--accent-2:${accent2}`">
  <main>
    <section class="topline">
      <div class="bar">
        <div>
          <div class="brand">Red Lark Aerial Estate & Tribute Office</div>
          <small style="color:#ffffff">Licensed feline fiduciary and memorial convoy bureau</small>
        </div>
        <div class="controls">
          <span class="tag"><i data-lucide="cat"></i> Senior Advisor Onboard</span>
          <span class="tag"><i data-lucide="wind"></i> Basket Stable</span>
          <span class="tag"><i data-lucide="message-square-heart"></i> Wallet: <strong x-text="compliments + ' compliments'"></strong></span>
        </div>
      </div>
      <div class="bar">
        <div class="controls">
          <button @click="panicDrill">Run Weather Drill</button>
          <button @click="mintCompliment(3)">Deposit +3 Compliments</button>
          <button class="btn-accent" @click="intensify">Increase Alert Contrast</button>
        </div>
        <div>
          <small style="color:#ffffff">UTC <span x-text="clock"></span> / Lift Window <span x-text="liftWindow"></span></small>
        </div>
      </div>
    </section>

    <section class="hero">
      <div>
        <h1>Estate Closure, Balloon Transit, and Tribute Capital Planning</h1>
        <p>
          Every consult occurs in-flight at regulated altitude so final wishes and asset pacing are settled above street-level noise.
          Clients settle invoices exclusively in professional compliments, archived and audited by our whiskered principal.
        </p>
        <p>
          Current route: <strong x-text="route"></strong>. Next ascent in <strong class="value-hot" x-text="nextAscent + 'm'"></strong>.
          Wind confidence index: <strong class="value-ok" x-text="windConfidence + '%'"></strong>.
        </p>

        <div class="ticker" aria-label="compliment market ticker">
          <div class="ticker-track" x-text="tickerText"></div>
        </div>

        <div class="ledger">
          <div class="ledger-row"><span>Compliment Reserve</span><span class="value-ok" x-text="compliments + ' units'"></span></div>
          <div class="ledger-row"><span>Pending Goodbyes</span><span x-text="pendingFarewells"></span></div>
          <div class="ledger-row"><span>Balloon Fuel Ledger</span><span x-text="fuelPhrases + ' affirmations'" class="value-hot"></span></div>
          <div class="ledger-row"><span>Advisor Mood Credit</span><span x-text="advisorMood"></span></div>
          <div class="ledger-row"><span>Vaulted Kindness APR</span><span class="value-ok" x-text="apr + '%' "></span></div>
        </div>
      </div>

      <div>
        <div class="panel" style="height:100%">
          <h3>Flight Deck Controls</h3>
          <label for="alt">Meeting Altitude: <strong x-text="altitude + ' ft'"></strong></label>
          <input id="alt" type="range" min="800" max="6200" step="100" x-model="altitude" @input="syncAltitude" />
          <div class="dial"><i :style="`left:${needle}%`"></i></div>
          <small style="color:#ffffff">Below 1200 ft disables tea service. Above 4200 ft requires two additional compliments for thermal confidence.</small>

          <div class="grid-mini" style="margin-top:0.65rem">
            <div class="cell">
              <div class="tiny">Condolence Throughput</div>
              <div class="big" x-text="throughput"></div>
              <div class="meter"><span :style="`width:${throughput}%`"></span></div>
            </div>
            <div class="cell">
              <div class="tiny">Basket Load Ratio</div>
              <div class="big" x-text="loadRatio + '%' "></div>
              <div class="meter"><span :style="`width:${loadRatio}%`"></span></div>
            </div>
            <div class="cell">
              <div class="tiny">Solemnity Index</div>
              <div class="big" x-text="solemnity"></div>
              <button @click="solemnity = (solemnity + 7) % 100">Adjust Tone +7</button>
            </div>
            <div class="cell">
              <div class="tiny">Ribbon Logistics</div>
              <div class="big" x-text="ribbons + ' spools'"></div>
              <button @click="ribbons++">Add spool</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="dashboard">
      <article class="kpi span-3">
        <h3>Advisor Temperament</h3>
        <div class="big" x-text="temperament"></div>
        <div class="tiny">Recomputed every 9s from purring cadence and account neatness.</div>
        <button @click="cycleTemperament">Cycle</button>
      </article>

      <article class="kpi span-3">
        <h3>Compliment Mint</h3>
        <div class="big"><span x-text="mintedToday"></span> minted</div>
        <div class="tiny">Issue formal praise certificates to grow portfolio liquidity.</div>
        <button class="btn-accent" @click="mintCompliment(1)">Mint 1</button>
      </article>

      <article class="kpi span-3">
        <h3>Condolence Queue</h3>
        <div class="big" x-text="queue + ' parties'"></div>
        <div class="tiny">Queue surges at dawn and post-lunch remembrance windows.</div>
        <button @click="queue = Math.max(0, queue - 1)">Board next</button>
      </article>

      <article class="kpi span-3">
        <h3>Drafted Eulogies</h3>
        <div class="big" x-text="eulogies"></div>
        <div class="tiny">Approved by the brass stamp committee before ascent.</div>
        <button @click="eulogies++">Draft new</button>
      </article>

      <article class="panel span-5">
        <h3>Route Allocation Matrix</h3>
        <div class="ascii-chart" x-text="routeChart"></div>
        <div class="note">Footnote A12: wind reallocation may shift dignitary seating by one crate. No refunds on rearranged chrysanthemums.</div>
      </article>

      <article class="panel span-7">
        <h3>Service Packages Settled in Compliments</h3>
        <div class="pricing">
          <div class="tier" :class="selectedTier === 'quiet' ? 'pulse' : ''">
            <h4>Quiet Ledger</h4>
            <div class="price">14 compliments</div>
            <div class="tiny">Single ascent, estate filing, one respectful hymn played on tin speaker.</div>
            <button @click="selectTier('quiet',14)">Select</button>
          </div>
          <div class="tier" :class="selectedTier === 'procession' ? 'pulse' : ''">
            <h4>Procession Route</h4>
            <div class="price">29 compliments</div>
            <div class="tiny">Dual-pass memorial glide, heirloom inventory pacing, cat-approved closing toast.</div>
            <button @click="selectTier('procession',29)">Select</button>
          </div>
          <div class="tier" :class="selectedTier === 'regimental' ? 'pulse' : ''">
            <h4>Regimental Canopy</h4>
            <div class="price">47 compliments</div>
            <div class="tiny">Ceremonial hover, brass ledger escort, sunrise vault handoff and legacy indexing.</div>
            <button @click="selectTier('regimental',47)">Select</button>
          </div>
        </div>
        <p style="margin-top:0.5rem;color:#ffffff">
          Active package: <strong x-text="selectedTier.toUpperCase()"></strong>. Draft invoice:
          <strong class="value-hot" x-text="selectedPrice + ' compliments'"></strong>.
          <button style="margin-left:0.4rem" @click="compliments = Math.max(0, compliments - selectedPrice)">Settle from Wallet</button>
        </p>
      </article>

      <article class="panel span-8">
        <h3>Operations Board</h3>
        <div class="grid-mini">
          <div class="cell">
            <div class="tiny">Risk Profile</div>
            <div class="controls" style="margin-top:0.3rem">
              <button @click="setRisk('Conservative Drift')">Conservative Drift</button>
              <button @click="setRisk('Balanced Hover')">Balanced Hover</button>
              <button @click="setRisk('Aggressive Thermal')">Aggressive Thermal</button>
            </div>
            <div class="note">Current risk brief: <strong x-text="riskProfile"></strong></div>
          </div>

          <div class="cell">
            <div class="tiny">Compliment APR Simulator</div>
            <label for="aprInput">APR Target</label>
            <input id="aprInput" type="range" min="2" max="28" step="1" x-model="apr" />
            <div class="note">Projected annual kindness yield: <strong x-text="Math.floor((compliments * apr)/100)"></strong> compliments.</div>
          </div>

          <div class="cell">
            <div class="tiny">Ceremony Noise Gate</div>
            <label><input type="checkbox" x-model="bellMode"> Enable brass bell punctuation</label>
            <label><input type="checkbox" x-model="teaMode"> Serve black tea in turbulence</label>
            <label><input type="checkbox" x-model="silentMode"> Activate whisper-only deck</label>
            <div class="note" x-text="modeSummary"></div>
          </div>

          <div class="cell">
            <div class="tiny">Referral Intake</div>
            <label for="family">Family Name</label>
            <input id="family" x-model="newFamily" placeholder="e.g. Harrow & Sons" />
            <button @click="addFamily">Queue Family</button>
            <div class="note">Latest intake: <strong x-text="families[families.length - 1]"></strong></div>
          </div>
        </div>
      </article>

      <article class="panel span-4">
        <h3>Proof of Praise Register</h3>
        <ol style="margin:0;padding-left:1.1rem;max-height:18rem;overflow:auto">
          <template x-for="(entry, idx) in complimentsLog" :key="idx">
            <li style="margin-bottom:0.28rem;color:#ffffff" x-text="entry"></li>
          </template>
        </ol>
      </article>
    </section>

    <section class="table-shell">
      <h3 style="margin-top:0">Daily Convoy Ledger</h3>
      <table>
        <thead>
          <tr>
            <th>Route ID</th>
            <th>Altitude</th>
            <th>Primary Rite</th>
            <th>Compliment Cost</th>
            <th>Status</th>
            <th>Escort Cat</th>
          </tr>
        </thead>
        <tbody>
          <template x-for="row in convoyRows" :key="row.id">
            <tr>
              <td x-text="row.id"></td>
              <td x-text="row.alt + ' ft'"></td>
              <td x-text="row.rite"></td>
              <td x-text="row.cost + ' compliments'"></td>
              <td x-text="row.status"></td>
              <td x-text="row.cat"></td>
            </tr>
          </template>
        </tbody>
      </table>
      <div class="note">Compliance note C-77: all ascent ceremonies include a seven-second silence for paperwork, then immediate tea stabilization.</div>
    </section>

    <section class="faq">
      <h3>Questions from Families and Trustees</h3>
      <details>
        <summary>Can we pay partially in compliments and partially in handwritten gratitude?</summary>
        <p>Yes. Handwritten gratitude is converted at desk rate: 1 paragraph = 2 compliments, subject to legibility review.</p>
      </details>
      <details>
        <summary>How does the advisor maintain concentration while airborne?</summary>
        <p>The advisor uses a lap harness, a lacquered ledger board, and disciplined purring intervals measured by quarter-minute chimes.</p>
      </details>
      <details>
        <summary>Do you provide military honors protocol without overstatement?</summary>
        <p>We maintain strict ceremonial restraint. Banner folds, timing calls, and ribbon routes follow our field manual revision 11.4.</p>
      </details>
      <details>
        <summary>What happens during sudden crosswinds?</summary>
        <p>Consultations pause, tea lids engage, and documents move into clip-lock pouches until basket drift is corrected.</p>
      </details>
    </section>

    <section class="footer-grid" style="margin-top:0.8rem">
      <div class="panel">
        <h3>Client Notices</h3>
        <p class="tiny">All timelines are weather-adjusted and kindness-weighted. Kind but vague compliments may be challenged by audit scribes.</p>
        <p class="tiny">No synthetic praise accepted. Counterfeit flattery voids descent priority.</p>
      </div>
      <div class="panel">
        <h3>Testimonials</h3>
        <p class="tiny">"Our inheritance plan was clean, respectful, and somehow gentler at 3,000 feet." — R. Tallow</p>
        <p class="tiny">"The cat caught an arithmetic mistake before we did. Best advisory retainer we've ever hired." — H. Morrow</p>
      </div>
      <div class="panel">
        <h3>Dispatch</h3>
        <p class="tiny">Hangar Ledger Office, North Meadow Aerodrome</p>
        <p class="tiny">Bellline: 07-RED-LARK</p>
        <p class="tiny">Open from first kettle to last lantern</p>
      </div>
    </section>
  </main>

  <script defer src="/assets/js/alpine.min.js"></script>
  <script src="/assets/js/gsap.min.js"></script>
  <script src="/assets/js/lucide.min.js"></script>
  <script>
    function balloonOffice() {
      return {
        accent: '#ff1a3d',
        accent2: '#ff415f',
        compliments: 88,
        mintedToday: 13,
        pendingFarewells: 6,
        fuelPhrases: 24,
        advisorMood: 'Steady Purr',
        apr: 12,
        route: 'Meadow Ring -> Chapel Ridge -> Dusk Canal',
        nextAscent: 17,
        windConfidence: 92,
        altitude: 2400,
        needle: 31,
        throughput: 74,
        loadRatio: 63,
        solemnity: 46,
        ribbons: 19,
        temperament: 'Measured',
        queue: 11,
        eulogies: 27,
        selectedTier: 'procession',
        selectedPrice: 29,
        riskProfile: 'Balanced Hover',
        bellMode: true,
        teaMode: true,
        silentMode: false,
        newFamily: '',
        families: ['Harrow Estate', 'Bellmere Kin Office'],
        clock: '--:--:--',
        liftWindow: 'open',
        complimentsLog: [
          '09:11  "Impeccable whisker discipline" +2',
          '09:34  "Steady paws under pressure" +1',
          '10:05  "Exceptionally tidy ledgers" +3',
          '10:42  "Warm and exact protocol" +2'
        ],
        convoyRows: [
          { id: 'RL-401', alt: 1800, rite: 'Quiet Transfer', cost: 14, status: 'Boarding', cat: 'Marshal Pippin' },
          { id: 'RL-417', alt: 2600, rite: 'Canopy Procession', cost: 29, status: 'In Flight', cat: 'Quartermaster Dot' },
          { id: 'RL-433', alt: 3400, rite: 'Regimental Tribute', cost: 47, status: 'Ledger Check', cat: 'Captain Oat' },
          { id: 'RL-439', alt: 2200, rite: 'Dawn Farewell', cost: 21, status: 'Awaiting Wind', cat: 'Lieutenant Moth' },
          { id: 'RL-445', alt: 3000, rite: 'Estate Seal', cost: 33, status: 'Final Signatures', cat: 'Sergeant Nib' }
        ],
        tickerText: 'PRAISE/USD +4.2%  |  BASKET STABILITY INDEX 97  |  RIBBON FUTURES STRONG  |  DAWN ASCENT LOTTERY CLOSED  |  LEGACY BOND OVERSUBSCRIBED  |  ',
        routeChart:
`NORTH LIFT CORRIDOR      [##########....] 71%
CHAPEL RIDGE PASS         [########......] 57%
RIVER ECHO LOOP           [###########...] 79%
BELL TOWER ARC            [######........] 44%
MEADOW RETURN DESCENT     [#########.....] 66%
KINDNESS CLEARANCE SPEED  [############..] 84%`,
        get modeSummary() {
          const modes = [];
          if (this.bellMode) modes.push('bells');
          if (this.teaMode) modes.push('tea');
          if (this.silentMode) modes.push('whisper deck');
          return modes.length ? 'Active: ' + modes.join(', ') : 'All auxiliary modes offline.';
        },
        syncAltitude() {
          const min = 800;
          const max = 6200;
          this.needle = ((this.altitude - min) / (max - min)) * 100;
          this.loadRatio = Math.min(99, Math.max(18, Math.floor((this.altitude / 6200) * 92)));
          this.throughput = Math.min(98, Math.max(26, 100 - Math.floor(this.altitude / 110)));
          this.windConfidence = Math.min(99, Math.max(52, 95 - Math.floor((this.altitude - 2000) / 260)));
        },
        setRisk(mode) {
          this.riskProfile = mode;
          this.complimentsLog.unshift(`${this.clock}  Risk profile shifted -> ${mode}`);
          this.complimentsLog = this.complimentsLog.slice(0, 12);
        },
        selectTier(tier, price) {
          this.selectedTier = tier;
          this.selectedPrice = price;
        },
        mintCompliment(amount) {
          this.compliments += amount;
          this.mintedToday += amount;
          this.complimentsLog.unshift(`${this.clock}  Minted +${amount} compliment${amount > 1 ? 's' : ''}`);
          this.complimentsLog = this.complimentsLog.slice(0, 12);
        },
        addFamily() {
          const name = this.newFamily.trim();
          if (!name) return;
          this.families.push(name);
          this.queue += 1;
          this.newFamily = '';
        },
        cycleTemperament() {
          const states = ['Measured', 'Attentive', 'Ceremonial', 'Tactically Gentle'];
          const idx = states.indexOf(this.temperament);
          this.temperament = states[(idx + 1) % states.length];
        },
        intensify() {
          this.accent = this.accent === '#ff1a3d' ? '#ff0030' : '#ff1a3d';
          this.accent2 = this.accent2 === '#ff415f' ? '#ff2247' : '#ff415f';
        },
        panicDrill() {
          this.liftWindow = 'drill';
          const hero = document.querySelector('.hero');
          if (hero && window.gsap) {
            gsap.fromTo(hero, { x: -8 }, { x: 8, duration: 0.08, repeat: 5, yoyo: true, onComplete: () => gsap.set(hero, { x: 0 }) });
          }
          setTimeout(() => {
            this.liftWindow = 'open';
          }, 1400);
        },
        tickClock() {
          const now = new Date();
          this.clock = now.toLocaleTimeString('en-US', { hour12: false });
          this.nextAscent = (this.nextAscent + 59) % 60;
          if (this.nextAscent === 0) this.nextAscent = 60;
          if (now.getSeconds() % 7 === 0) {
            this.pendingFarewells = Math.max(2, this.pendingFarewells + (Math.random() > 0.5 ? 1 : -1));
          }
          if (now.getSeconds() % 9 === 0) {
            this.fuelPhrases = Math.max(10, this.fuelPhrases + (Math.random() > 0.52 ? 1 : -1));
          }
          if (now.getSeconds() % 11 === 0) {
            this.advisorMood = ['Steady Purr', 'Focused Blink', 'Ledger Stare'][Math.floor(Math.random() * 3)];
          }
        },
        init() {
          this.syncAltitude();
          this.tickClock();
          setInterval(() => this.tickClock(), 1000);
          if (window.gsap) {
            gsap.from('.bar, .hero, .kpi, .panel, .table-shell, .faq, .footer-grid', {
              opacity: 0,
              y: 12,
              duration: 0.5,
              stagger: 0.03,
              ease: 'power1.out'
            });
          }
        }
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      if (window.lucide) {
        lucide.createIcons();
      }
    });
  </script>
</body>
</html>
