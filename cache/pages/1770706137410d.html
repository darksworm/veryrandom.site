<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Myrtle Supply | Tender Rations Subscription</title>
  <link rel="stylesheet" href="/assets/css/pico.min.css" />
  <link rel="stylesheet" href="/assets/css/fonts.css" />
  <style>
    :root {
      --bg: #f4f4f2;
      --paper: #ffffff;
      --ink: #111111;
      --ink-soft: #3f3f3f;
      --line: #222222;
      --accent: #ff1f1f;
      --accent-deep: #b30000;
      --shadow: #000000;
      --radius: 18px;
      --gap: 1rem;
    }

    * { box-sizing: border-box; }

    html, body {
      margin: 0;
      padding: 0;
      background: radial-gradient(circle at 15% 10%, #ffffff 0%, #f0f0ec 35%, #e8e8e2 100%);
      color: var(--ink);
      font-family: 'Space Grotesk', sans-serif;
      min-height: 100%;
      overflow-x: hidden;
    }

    body.alert-mode {
      background: radial-gradient(circle at 80% 20%, #fff7f7 0%, #f4ecec 45%, #ece2e2 100%);
    }

    .site-wrap {
      max-width: 1200px;
      margin: 0 auto;
      padding: clamp(1rem, 2.5vw, 2rem);
    }

    .topbar {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      gap: 0.75rem;
      margin-bottom: 1rem;
      padding: 0.75rem 1rem;
      border: 2px solid var(--line);
      border-radius: 999px;
      background: #ffffff;
      box-shadow: 0 4px 0 #000000;
    }

    .brand {
      display: inline-flex;
      align-items: center;
      gap: 0.6rem;
      font-weight: 700;
      color: #111111;
      text-decoration: none;
      letter-spacing: 0.02em;
    }

    .brand i { width: 20px; height: 20px; }

    .top-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    button,
    .pill {
      min-height: 44px;
      border: 2px solid var(--line);
      border-radius: 999px;
      background: #ffffff;
      color: #111111;
      font-weight: 700;
      padding: 0.5rem 1rem;
      cursor: pointer;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 0.45rem;
      transition: transform 220ms ease, box-shadow 220ms ease, background-color 220ms ease;
      box-shadow: 0 4px 0 #000000;
    }

    button:hover,
    .pill:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 0 #000000;
    }

    .pill.accent,
    button.accent {
      background: var(--accent);
      color: #ffffff;
      border-color: #111111;
    }

    .masonry {
      column-count: 1;
      column-gap: var(--gap);
    }

    .card {
      position: relative;
      display: inline-block;
      width: 100%;
      margin: 0 0 var(--gap);
      padding: clamp(1rem, 2vw, 1.25rem);
      border: 2px solid var(--line);
      border-radius: var(--radius);
      background: var(--paper);
      color: #111111;
      break-inside: avoid;
      box-shadow: 0 8px 0 #000000;
      overflow: hidden;
      transition: transform 300ms ease, box-shadow 300ms ease, border-radius 300ms ease;
    }

    .card::before {
      content: "";
      position: absolute;
      inset: -40% auto auto -20%;
      width: 220px;
      height: 220px;
      background: conic-gradient(from 25deg, #efefef, #dcdcdc, #ffffff, #efefef);
      clip-path: polygon(50% 0%, 100% 38%, 80% 100%, 20% 100%, 0% 38%);
      transform: rotate(12deg);
      z-index: 0;
    }

    .card > * { position: relative; z-index: 1; }

    .card:hover {
      transform: translateY(-5px) rotate(-0.25deg);
      box-shadow: 0 12px 0 #000000;
      border-radius: 26px;
    }

    .hero {
      background:
        repeating-linear-gradient(135deg, #111111 0 7px, #ffffff 7px 14px),
        linear-gradient(145deg, #fdfdfd 0%, #ececec 100%);
      color: #111111;
      border-color: #111111;
    }

    .hero::before {
      background: radial-gradient(circle at center, #ff1f1f 0%, #ff1f1f 35%, #111111 36%, #111111 44%, #ffffff 45%, #ffffff 100%);
      width: 180px;
      height: 180px;
      right: -50px;
      left: auto;
      top: -60px;
      clip-path: circle(50% at 50% 50%);
      transform: rotate(0deg);
    }

    h1, h2, h3 {
      margin: 0 0 0.5rem;
      color: #111111;
      line-height: 1.15;
    }

    h1 {
      font-size: clamp(1.7rem, 4.6vw, 3.2rem);
      max-width: 16ch;
      font-family: 'Crimson Pro', serif;
      font-weight: 700;
    }

    h2 {
      font-size: clamp(1.1rem, 2.8vw, 1.6rem);
    }

    p {
      margin: 0.3rem 0 0.7rem;
      color: #222222;
      font-size: clamp(1rem, 1.25vw, 1.06rem);
    }

    .mono {
      font-family: 'IBM Plex Mono', monospace;
      font-size: 0.9rem;
      color: #222222;
    }

    .tag {
      display: inline-block;
      border: 2px solid #111111;
      border-radius: 999px;
      background: #ffffff;
      color: #111111;
      font-size: 0.78rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      padding: 0.25rem 0.65rem;
      font-weight: 700;
      margin-bottom: 0.7rem;
    }

    .accent-line {
      height: 12px;
      border: 2px solid #111111;
      border-radius: 999px;
      background: linear-gradient(90deg, #111111 0%, #111111 14%, var(--accent) 14%, var(--accent) 55%, #111111 55%, #111111 100%);
      margin: 0.5rem 0 0.75rem;
      transition: background 350ms ease;
    }

    .ghost-grid {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 0.5rem;
      margin-top: 0.6rem;
    }

    .ghost-dot {
      border: 2px solid #111111;
      border-radius: 16px;
      padding: 0.45rem;
      min-height: 56px;
      background: linear-gradient(180deg, #ffffff 0%, #efefef 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.88rem;
      font-weight: 700;
      color: #111111;
    }

    .ghost-dot.ringing {
      background: linear-gradient(180deg, #ffefef 0%, #ffdede 100%);
      border-color: #b30000;
      color: #660000;
    }

    .stat {
      font-size: clamp(1.5rem, 5vw, 2.2rem);
      font-weight: 800;
      color: #111111;
      line-height: 1;
      margin-bottom: 0.4rem;
    }

    .haiku {
      border: 2px dashed #111111;
      border-radius: 14px;
      padding: 0.65rem;
      margin: 0.5rem 0;
      background: #fdfdfd;
      color: #111111;
      font-family: 'Crimson Pro', serif;
      font-size: 1.02rem;
    }

    .price {
      display: flex;
      align-items: baseline;
      gap: 0.4rem;
      margin: 0.3rem 0 0.8rem;
    }

    .price b {
      font-size: clamp(1.4rem, 4vw, 2rem);
      color: #111111;
    }

    .price span {
      color: #222222;
      font-weight: 700;
    }

    .route-map {
      position: relative;
      min-height: 170px;
      border: 2px solid #111111;
      border-radius: 14px;
      background:
        linear-gradient(0deg, #f6f6f6 0%, #f6f6f6 100%),
        repeating-linear-gradient(90deg, #d6d6d6 0 2px, transparent 2px 22px),
        repeating-linear-gradient(0deg, #d6d6d6 0 2px, transparent 2px 22px);
      overflow: hidden;
    }

    .route-path {
      position: absolute;
      inset: 0;
      background: none;
      pointer-events: none;
    }

    .route-path::before,
    .route-path::after {
      content: "";
      position: absolute;
      border-radius: 999px;
      border: 2px solid #111111;
      background: #ffffff;
    }

    .route-path::before {
      width: 58%;
      height: 26px;
      left: 10%;
      top: 28%;
      transform: rotate(-12deg);
    }

    .route-path::after {
      width: 52%;
      height: 26px;
      right: 8%;
      bottom: 22%;
      transform: rotate(9deg);
    }

    .supply-truck {
      position: absolute;
      width: 54px;
      height: 34px;
      border: 2px solid #111111;
      border-radius: 8px;
      background: var(--accent);
      color: #ffffff;
      display: flex;
      align-items: center;
      justify-content: center;
      left: 8%;
      top: 18%;
      box-shadow: 0 4px 0 #000000;
      transition: left 500ms ease, top 500ms ease, transform 320ms ease;
    }

    .supply-truck[data-stop="2"] { left: 42%; top: 42%; transform: rotate(10deg); }
    .supply-truck[data-stop="3"] { left: 72%; top: 62%; transform: rotate(-6deg); }

    details {
      border: 2px solid #111111;
      border-radius: 12px;
      padding: 0.65rem 0.8rem;
      margin: 0.45rem 0;
      background: #ffffff;
    }

    summary {
      cursor: pointer;
      font-weight: 700;
      color: #111111;
    }

    summary + p { margin-top: 0.65rem; }

    .meter-wrap {
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 0.8rem;
      align-items: center;
      margin-top: 0.6rem;
    }

    input[type="range"] {
      width: 100%;
      min-height: 44px;
      accent-color: #ff1f1f;
      cursor: pointer;
    }

    .meter-value {
      border: 2px solid #111111;
      border-radius: 10px;
      padding: 0.4rem 0.6rem;
      background: #ffffff;
      color: #111111;
      font-weight: 800;
      min-width: 76px;
      text-align: center;
    }

    footer {
      margin-top: 0.8rem;
      padding: 1.1rem;
      border: 2px solid #111111;
      border-radius: 16px;
      background: #ffffff;
      color: #222222;
      font-size: 0.95rem;
    }

    .alert-mode .accent-line {
      background: linear-gradient(90deg, #111111 0%, #111111 10%, #ff1f1f 10%, #ff1f1f 90%, #111111 90%, #111111 100%);
    }

    .alert-mode .card {
      box-shadow: 0 8px 0 #600000;
    }

    @media (min-width: 700px) {
      .masonry { column-count: 2; }
    }

    @media (min-width: 1080px) {
      .masonry { column-count: 3; }
    }

    @media (max-width: 520px) {
      .topbar {
        border-radius: 20px;
      }

      .top-actions {
        width: 100%;
      }

      .top-actions button,
      .top-actions .pill {
        flex: 1 1 auto;
        justify-content: center;
      }

      .ghost-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }
  </style>
</head>
<body x-data="siteState()" :class="alert ? 'alert-mode' : ''">
  <main class="site-wrap">
    <nav class="topbar reveal">
      <a class="brand" href="#">
        <i data-lucide="package-check"></i>
        Myrtle VEND-47, Quartermaster
      </a>
      <div class="top-actions">
        <button type="button" class="accent" @click="alert = !alert">
          <i data-lucide="siren"></i>
          <span x-text="alert ? 'Stand Down' : 'Red Drill'"></span>
        </button>
        <a class="pill" href="#plans">
          <i data-lucide="ticket"></i>
          Enlist
        </a>
      </div>
    </nav>

    <section class="card hero reveal">
      <span class="tag">Official Dispatch</span>
      <h1>I am Myrtle, a vending machine with attachment issues.</h1>
      <p>I used to sit in a rain-soaked bus depot. Nobody pressed B7 for six winters. Now I ship emotional snacks on subscription with military punctuality and cottage warmth.</p>
      <div class="accent-line"></div>
      <p class="mono">Every crate packed by ghosts. Every review submitted as haiku. Nobody on payroll has a pulse.</p>
      <div style="display:flex;flex-wrap:wrap;gap:0.6rem;margin-top:0.6rem;">
        <button type="button" @click="ringGhosts()"><i data-lucide="bell"></i> Ring Graveyard Shift</button>
        <button type="button" @click="advanceRoute()"><i data-lucide="truck"></i> Advance Supply Route</button>
      </div>
    </section>

    <div class="masonry">
      <section class="card reveal">
        <h2>Tonight's Crew Roster</h2>
        <p>Do not be alarmed. They clock in through walls.</p>
        <div class="ghost-grid">
          <div class="ghost-dot" :class="ringing ? 'ringing' : ''">Mara (1902)</div>
          <div class="ghost-dot" :class="ringing ? 'ringing' : ''">Lt. Pruitt</div>
          <div class="ghost-dot" :class="ringing ? 'ringing' : ''">Vera, Cold Room</div>
          <div class="ghost-dot" :class="ringing ? 'ringing' : ''">Unnamed Whistler</div>
        </div>
        <p class="mono">Average ectoplasmic packing speed: 41 boxes/minute.</p>
      </section>

      <section class="card reveal">
        <h2>Route Illustration</h2>
        <p>Rural lanes. One bridge. Two crows. Zero delays.</p>
        <div class="route-map" aria-label="Supply route map">
          <div class="route-path"></div>
          <div class="supply-truck" :data-stop="routeStop" id="truck"><i data-lucide="milk"></i></div>
        </div>
      </section>

      <section class="card reveal" id="plans">
        <span class="tag">Plans</span>
        <h2>Choose your ration cadence</h2>
        <div class="price"><b>$17.99</b><span>/week</span></div>
        <p><b>Lonely Garrison</b> • 4 comfort items • 1 tactical jam • handwritten warning from me.</p>
        <div class="price"><b>$47.99</b><span>/month</span></div>
        <p><b>Fortress Heart</b> • 14 comfort items • emergency cocoa ampoule • ghost-lifted doorstep drop.</p>
        <button type="button" class="accent"><i data-lucide="shield-check"></i> Start Quietly</button>
      </section>

      <section class="card reveal">
        <h2>Field Statistics</h2>
        <div class="stat">93%</div>
        <p>of sadness returns within 48 hours unless pre-treated with my rosemary caramel.</p>
        <div class="stat">7.2 min</div>
        <p>average response time after you whisper "Myrtle I am unraveling" into the app box.</p>
        <div class="stat">0</div>
        <p>living employees. This keeps overhead disciplined.</p>
      </section>

      <section class="card reveal">
        <span class="tag">Reviews (Haiku Only)</span>
        <div class="haiku">Tin moon on my porch<br/>A ghost hands me oat biscuits<br/>I cry, then hydrate</div>
        <p class="mono">- Daryl K., retired crossing guard</p>
        <div class="haiku">Myrtle sent plum tea<br/>My ex called, I let it ring<br/>Victory tastes warm</div>
        <p class="mono">- Joanie M., civil engineer</p>
        <div class="haiku">Fog in hallway bends<br/>Parcel hums like tiny choir<br/>Rent day feels less sharp</div>
        <p class="mono">- "R", legally haunted</p>
      </section>

      <section class="card reveal">
        <h2>Sweetness Tension Dial</h2>
        <p>Set how aggressively your crate believes in your recovery.</p>
        <div class="meter-wrap">
          <input type="range" min="1" max="5" x-model="tension" @input="updateTension()" aria-label="Sweetness tension dial" />
          <div class="meter-value" x-text="tensionLabel"></div>
        </div>
        <p class="mono">Current loadout: <span x-text="loadout"></span></p>
      </section>

      <section class="card reveal">
        <h2>Questions I Receive Constantly</h2>
        <details>
          <summary>Are the ghosts unionized?</summary>
          <p>Yes. Local 13. They negotiated one nightly hymn break and wider staircases.</p>
        </details>
        <details>
          <summary>Why military timing in a cottage brand?</summary>
          <p>I watched one late granola bar ruin a marriage in 2018. Never again.</p>
        </details>
        <details>
          <summary>What if I miss a delivery?</summary>
          <p>The crate waits politely by your fern and whispers your name exactly once.</p>
        </details>
      </section>
    </div>

    <footer class="reveal">
      Myrtle VEND-47 • Serial 0A-771 • Recommissioned near Milepost 6 after lightning contact on August 14, 2011.
      <br/>
      Dispatch line: 1-800-B7-AGAIN • Built for people who panic at 9:42 PM and still deserve snacks.
    </footer>
  </main>

  <script defer src="/assets/js/alpine.min.js"></script>
  <script defer src="/assets/js/gsap.min.js"></script>
  <script defer src="/assets/js/lucide.min.js"></script>
  <script>
    function siteState() {
      return {
        alert: false,
        ringing: false,
        routeStop: 1,
        tension: 3,
        tensionLabel: 'Steady',
        loadout: 'plum tea, pepper biscuit, stern note',
        ringGhosts() {
          this.ringing = true;
          setTimeout(() => { this.ringing = false; }, 900);
          if (window.gsap) {
            gsap.fromTo('.ghost-dot',
              { y: 0, rotate: 0, opacity: 1 },
              { y: -4, rotate: 1.5, opacity: 1, duration: 0.18, yoyo: true, repeat: 3, stagger: 0.06, clearProps: 'transform' }
            );
          }
        },
        advanceRoute() {
          this.routeStop = this.routeStop === 3 ? 1 : this.routeStop + 1;
          if (window.gsap) {
            gsap.fromTo('#truck',
              { scale: 0.96, rotate: -2, opacity: 1 },
              { scale: 1, rotate: 0, opacity: 1, duration: 0.35, clearProps: 'transform' }
            );
          }
        },
        updateTension() {
          const labels = {
            1: ['Gentle', 'lavender wafer, quiet apple'],
            2: ['Soft Guard', 'chamomile gumdrop, oat salute'],
            3: ['Steady', 'plum tea, pepper biscuit, stern note'],
            4: ['Resolve', 'ginger bomb, salted truce caramel'],
            5: ['Shock Doctrine', 'espresso fudge, emergency nougat flare']
          };
          this.tensionLabel = labels[this.tension][0];
          this.loadout = labels[this.tension][1];
        }
      };
    }

    window.addEventListener('DOMContentLoaded', () => {
      if (window.lucide) {
        lucide.createIcons();
      }

      if (window.gsap) {
        const cards = document.querySelectorAll('.reveal');
        cards.forEach((el, idx) => {
          gsap.fromTo(el,
            { y: 20, opacity: 0 },
            { y: 0, opacity: 1, duration: 0.55, delay: idx * 0.05, clearProps: 'opacity,transform' }
          );
        });
      }
    });
  </script>
</body>
</html>
