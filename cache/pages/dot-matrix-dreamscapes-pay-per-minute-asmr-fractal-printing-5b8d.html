<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DOT MATRIX DREAMSCAPES — Pay-Per-Minute ASMR Fractal Printing</title>
<link rel="stylesheet" href="/assets/css/fonts.css">
<style>
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --bg: #0a0a12;
  --text: #e8e0f0;
  --cyan: #00d4ff;
  --pink: #ff2d8a;
  --pink-desat: #b36a8a;
  --card: #12122a;
  --muted: #3a3a5c;
  --font-body: 'Fira Code', monospace;
  --font-heading: 'Unbounded', sans-serif;
  --font-brenda: 'Permanent Marker', cursive;
}

html { scroll-behavior: smooth; }

body {
  background: var(--bg);
  color: var(--text);
  font-family: var(--font-body);
  font-size: 16px;
  line-height: 1.6;
  overflow-x: hidden;
  cursor: crosshair;
}

body.pink-desat {
  --pink: var(--pink-desat);
}

/* Scrollbar */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: var(--bg); }
::-webkit-scrollbar-thumb { background: var(--muted); }

/* === LEFT SIDEBAR STATUS === */
.printer-sidebar {
  position: fixed;
  left: 0;
  top: 0;
  width: 40px;
  height: 100vh;
  background: var(--card);
  border-right: 1px solid var(--muted);
  z-index: 100;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding-top: 8px;
}

.sidebar-text {
  writing-mode: vertical-rl;
  text-orientation: mixed;
  font-size: 10px;
  color: var(--cyan);
  white-space: nowrap;
  animation: scrollStatus 20s linear infinite;
  font-family: var(--font-body);
}

@keyframes scrollStatus {
  0% { transform: translateY(100vh); }
  100% { transform: translateY(-200%); }
}

/* === MAIN LAYOUT === */
.page-wrap {
  margin-left: 40px;
}

.grid-section {
  display: grid;
  grid-template-columns: 1fr 2fr 1fr;
  border-bottom: 2px solid var(--muted);
  min-height: 100px;
}

.grid-section > .content-main {
  grid-column: 1 / -1;
  padding: 60px 40px;
}

.grid-section > .content-offset-right {
  grid-column: 2 / 4;
  padding: 60px 40px;
}

.grid-section > .content-offset-left {
  grid-column: 1 / 3;
  padding: 60px 40px;
}

.grid-section > .content-narrow {
  grid-column: 2 / 3;
  padding: 60px 40px;
}

/* === TYPOGRAPHY === */
h1, h2, h3 { font-family: var(--font-heading); }

h2 {
  font-size: clamp(1.4rem, 3vw, 2rem);
  color: var(--cyan);
  margin-bottom: 24px;
  letter-spacing: 2px;
  text-transform: uppercase;
}

h3 {
  font-size: 1.1rem;
  color: var(--text);
  margin-bottom: 12px;
}

p { margin-bottom: 16px; }

a {
  color: var(--cyan);
  text-decoration: underline;
  text-underline-offset: 3px;
}

a:hover { color: var(--pink); }

.brenda-note {
  font-family: var(--font-brenda);
  color: var(--pink);
  font-size: 1.1rem;
  transform: rotate(-2deg);
  display: inline-block;
  margin: 16px 0;
  padding: 8px 12px;
  border-left: 2px solid var(--pink);
}

.muted { color: #8a8aac; }
.cyan { color: var(--cyan); }
.pink { color: var(--pink); }

/* === HERO === */
.hero {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  position: relative;
  overflow: hidden;
  border-bottom: 2px solid var(--muted);
}

.hero-bg {
  position: absolute;
  inset: 0;
  overflow: hidden;
  opacity: 0.15;
}

.dot-row {
  display: flex;
  gap: 6px;
  margin-bottom: 4px;
  animation: printRow 0.5s steps(1) forwards;
  opacity: 0;
}

.dot-row span {
  width: 3px;
  height: 3px;
  border-radius: 50%;
  background: var(--cyan);
  flex-shrink: 0;
}

@keyframes printRow {
  to { opacity: 1; }
}

.hero-content {
  position: relative;
  z-index: 2;
  padding: 60px 40px;
  max-width: 1200px;
}

.hero-title {
  font-family: var(--font-heading);
  font-size: clamp(2rem, 7vw, 5rem);
  color: var(--text);
  letter-spacing: 4px;
  line-height: 1.1;
  margin-bottom: 24px;
  min-height: 1.2em;
}

.hero-title .char {
  display: inline-block;
  opacity: 0;
}

.hero-title .char.visible {
  opacity: 1;
}

.hero-title .blink-cursor {
  display: inline-block;
  width: 3px;
  height: 0.8em;
  background: var(--cyan);
  margin-left: 4px;
  vertical-align: middle;
  animation: cursorBlink 800ms steps(1) infinite;
}

@keyframes cursorBlink {
  0%, 49% { opacity: 1; }
  50%, 100% { opacity: 0; }
}

.hero-sub {
  font-size: clamp(0.85rem, 1.5vw, 1rem);
  color: #8a8aac;
  margin-bottom: 40px;
}

.hero .brenda-note {
  position: absolute;
  bottom: 40px;
  right: 40px;
  max-width: 300px;
}

/* === NOW PRINTING === */
.now-printing-wrap {
  background: var(--card);
}

.paper-viewport {
  position: relative;
  width: 100%;
  max-width: 600px;
  height: 400px;
  background: repeating-linear-gradient(
    to bottom,
    #e8f5e8 0px,
    #e8f5e8 16px,
    #d4ecd4 16px,
    #d4ecd4 32px
  );
  border: 2px solid var(--muted);
  margin-bottom: 24px;
  overflow: hidden;
}

.paper-viewport canvas {
  width: 100%;
  height: 100%;
}

.print-stats {
  display: flex;
  flex-wrap: wrap;
  gap: 24px;
  margin-bottom: 24px;
  font-size: 0.9rem;
}

.print-stats .stat-label { color: #8a8aac; }
.print-stats .stat-val { color: var(--cyan); }

.ink-bars {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 12px;
  max-width: 500px;
}

.ink-bar-wrap label {
  display: block;
  font-size: 0.75rem;
  margin-bottom: 4px;
  color: #8a8aac;
}

.ink-bar {
  height: 12px;
  background: var(--muted);
  border-radius: 2px;
  overflow: hidden;
}

.ink-bar-fill {
  height: 100%;
  border-radius: 2px;
  transition: width 1s;
}

.ink-bar-fill.cyan-ink { background: #00cccc; }
.ink-bar-fill.magenta-ink { background: #cc00aa; }
.ink-bar-fill.yellow-ink { background: #cccc00; }
.ink-bar-fill.key-ink { background: #555555; }

.ink-critical {
  animation: critPulse 1s ease-in-out infinite;
}

@keyframes critPulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.4; }
}

/* === PRINTER PROFILES === */
.printer-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 24px;
}

.printer-card {
  background: var(--card);
  border: 1px solid var(--muted);
  padding: 24px;
  position: relative;
}

.printer-card.retired {
  transform: translate(4px, -3px);
  border-color: var(--pink);
  opacity: 0.92;
}

.printer-card.retired::after {
  content: '[RETIRED — Brenda took it]';
  position: absolute;
  top: 8px;
  right: 8px;
  font-family: var(--font-brenda);
  color: var(--pink);
  font-size: 0.85rem;
}

.ascii-art {
  font-size: 0.65rem;
  line-height: 1.2;
  color: var(--cyan);
  margin-bottom: 16px;
  white-space: pre;
  overflow-x: auto;
}

.condition-bar {
  height: 8px;
  background: var(--muted);
  border-radius: 2px;
  margin: 8px 0 16px;
  overflow: hidden;
}

.condition-fill {
  height: 100%;
  background: var(--cyan);
  border-radius: 2px;
}

.quirks {
  list-style: none;
  padding: 0;
}

.quirks li {
  font-size: 0.85rem;
  color: #8a8aac;
  padding: 4px 0;
  border-bottom: 1px solid #1a1a30;
}

.quirks li::before {
  content: '> ';
  color: var(--cyan);
}

/* === LOST ECHOES === */
.lost-echoes-wrap {
  background: #08080f;
}

.archive-list {
  display: flex;
  flex-direction: column;
  gap: 32px;
}

.archive-item {
  display: grid;
  grid-template-columns: 80px 1fr;
  gap: 16px;
  align-items: start;
}

.corrupt-thumb {
  width: 80px;
  height: 60px;
  background: linear-gradient(135deg, var(--muted) 0%, var(--cyan) 30%, var(--pink) 60%, var(--bg) 100%);
  filter: contrast(2) saturate(0.5) hue-rotate(15deg);
  border: 1px solid var(--muted);
  image-rendering: pixelated;
}

.archive-meta {
  font-size: 0.85rem;
}

.archive-meta h3 {
  font-family: var(--font-body);
  font-size: 1rem;
  margin-bottom: 4px;
}

.archive-meta .date { color: #8a8aac; font-size: 0.8rem; }

.archive-meta .download-link {
  color: var(--cyan);
  cursor: pointer;
  text-decoration: underline;
  font-size: 0.85rem;
  background: none;
  border: none;
  font-family: var(--font-body);
  padding: 4px 0;
  min-height: 44px;
  display: inline-flex;
  align-items: center;
}

.archive-meta .download-link:hover { color: var(--pink); }

.forum-comment {
  margin-top: 8px;
  padding: 8px 12px;
  border-left: 2px solid var(--muted);
  font-size: 0.8rem;
  color: #8a8aac;
  font-style: italic;
}

/* === DRIVER UPDATES === */
.terminal-window {
  background: #0c0c1a;
  border: 1px solid var(--muted);
  border-radius: 4px;
  overflow: hidden;
  max-width: 800px;
}

.terminal-bar {
  background: var(--muted);
  padding: 6px 12px;
  display: flex;
  gap: 6px;
  align-items: center;
}

.terminal-dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
}

.terminal-dot:nth-child(1) { background: #ff5f56; }
.terminal-dot:nth-child(2) { background: #ffbd2e; }
.terminal-dot:nth-child(3) { background: #27c93f; }

.terminal-title {
  margin-left: 12px;
  font-size: 0.75rem;
  color: #8a8aac;
}

.terminal-body {
  padding: 20px;
  font-size: 0.85rem;
  line-height: 1.8;
}

.patch-entry { margin-bottom: 20px; }

.patch-version { color: var(--cyan); }

.patch-entry p { color: #c0b8d0; }

.btn-sys {
  display: inline-flex;
  align-items: center;
  background: none;
  border: 1px solid var(--cyan);
  color: var(--cyan);
  padding: 6px 14px;
  font-family: var(--font-body);
  font-size: 0.8rem;
  cursor: pointer;
  margin-top: 4px;
  min-height: 44px;
  transition: background 0.2s;
}

.btn-sys:hover {
  background: #00d4ff15;
}

/* === DONATE A DOT === */
.donate-section {
  text-align: center;
}

.big-dot {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background: var(--pink);
  margin: 0 auto 24px;
  animation: dotPulse 2s ease-in-out infinite;
}

@keyframes dotPulse {
  0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 #ff2d8a60; }
  50% { transform: scale(1.08); box-shadow: 0 0 40px 10px #ff2d8a30; }
}

.donate-counter {
  font-size: 2rem;
  color: var(--cyan);
  margin: 16px 0;
}

.donate-btn {
  background: var(--pink);
  color: #ffffff;
  border: none;
  padding: 14px 32px;
  font-family: var(--font-body);
  font-size: 1rem;
  cursor: pointer;
  min-height: 48px;
  transition: transform 0.1s, box-shadow 0.2s;
}

.donate-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 20px #ff2d8a40;
}

.donor-wall {
  margin-top: 24px;
  height: 120px;
  overflow: hidden;
  position: relative;
  border: 1px solid var(--muted);
  padding: 8px 16px;
}

.donor-scroll {
  animation: scrollDonors 30s linear infinite;
}

@keyframes scrollDonors {
  0% { transform: translateY(0); }
  100% { transform: translateY(-50%); }
}

.donor-scroll span {
  display: block;
  font-size: 0.8rem;
  color: #8a8aac;
  padding: 4px 0;
}

/* === ENGINEER'S NOTES === */
.notebook-entry {
  background: var(--card);
  border: 1px solid var(--muted);
  border-left: 4px solid var(--cyan);
  padding: 32px;
  margin-bottom: 32px;
  position: relative;
  max-width: 700px;
}

.notebook-entry::before {
  content: '';
  position: absolute;
  top: -4px;
  right: -4px;
  bottom: -4px;
  left: -4px;
  border: 1px solid #1a1a30;
  pointer-events: none;
}

.notebook-entry h3 {
  font-family: var(--font-body);
  color: var(--cyan);
  margin-bottom: 12px;
  font-size: 0.9rem;
}

.notebook-entry p {
  color: #c0b8d0;
  font-size: 0.95rem;
}

/* === MODALS === */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: #0a0a12cc;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
}

.modal-box {
  background: var(--card);
  border: 2px solid var(--muted);
  padding: 32px;
  max-width: 460px;
  width: 90%;
  text-align: center;
}

.modal-box h3 {
  font-family: var(--font-body);
  color: var(--pink);
  margin-bottom: 16px;
  font-size: 1rem;
}

.modal-box p {
  font-size: 0.9rem;
  color: #c0b8d0;
  margin-bottom: 24px;
}

.modal-btn {
  background: none;
  border: 1px solid var(--cyan);
  color: var(--cyan);
  padding: 10px 24px;
  font-family: var(--font-body);
  font-size: 0.85rem;
  cursor: pointer;
  min-height: 44px;
  margin: 0 6px;
  transition: background 0.2s;
}

.modal-btn:hover { background: #00d4ff15; }
.modal-btn.pink { border-color: var(--pink); color: var(--pink); }
.modal-btn.pink:hover { background: #ff2d8a15; }

/* === INK ALERT === */
.ink-alert {
  position: fixed;
  top: -100px;
  left: 50%;
  transform: translateX(-50%);
  background: var(--card);
  border: 2px solid var(--pink);
  padding: 16px 24px;
  z-index: 999;
  display: flex;
  align-items: center;
  gap: 16px;
  transition: top 0.4s ease;
  max-width: 90%;
  width: 500px;
}

.ink-alert.show { top: 16px; }

.ink-alert-text {
  font-size: 0.85rem;
  color: var(--text);
  flex: 1;
}

.ink-alert-btns {
  display: flex;
  gap: 8px;
  flex-shrink: 0;
}

.ink-alert-btns button {
  font-family: var(--font-body);
  font-size: 0.75rem;
  padding: 8px 12px;
  border: 1px solid var(--muted);
  background: none;
  color: var(--text);
  cursor: pointer;
  min-height: 44px;
}

/* === CURSOR TRAIL === */
.cursor-dot {
  position: fixed;
  width: 5px;
  height: 5px;
  border-radius: 50%;
  background: var(--cyan);
  pointer-events: none;
  z-index: 9999;
  transition: opacity 0.6s ease-out;
}

/* === GLITCH === */
@keyframes glitchSlice {
  0% { clip-path: inset(0); background-color: var(--bg); }
  20% { clip-path: inset(30% 0 50% 0); transform: translateX(6px); background-color: #1a1a3a; }
  40% { clip-path: inset(60% 0 20% 0); transform: translateX(-4px); background-color: #1a1a3a; }
  60% { clip-path: inset(10% 0 70% 0); transform: translateX(8px); background-color: var(--bg); }
  100% { clip-path: inset(0); transform: translateX(0); background-color: var(--bg); }
}

body.glitch-active::after {
  content: '';
  position: fixed;
  inset: 0;
  z-index: 998;
  pointer-events: none;
  animation: glitchSlice 150ms steps(2) forwards;
}

/* === SECTION REVEAL DOTS === */
.reveal-section {
  opacity: 0;
  position: relative;
}

.reveal-section.revealed {
  opacity: 1;
}

.dot-sweep {
  position: absolute;
  top: 0;
  left: 0;
  height: 2px;
  display: flex;
  gap: 4px;
  z-index: 5;
}

.dot-sweep span {
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background: var(--cyan);
}

/* === RESPONSIVE === */
@media (max-width: 768px) {
  .printer-sidebar { display: none; }
  .page-wrap { margin-left: 0; }

  .grid-section {
    grid-template-columns: 1fr;
  }

  .grid-section > .content-main,
  .grid-section > .content-offset-right,
  .grid-section > .content-offset-left,
  .grid-section > .content-narrow {
    grid-column: 1;
    padding: 40px 20px;
  }

  .hero-content { padding: 40px 20px; }
  .hero .brenda-note { position: static; margin-top: 24px; }

  .archive-item { grid-template-columns: 60px 1fr; }
  .corrupt-thumb { width: 60px; height: 45px; }

  .ink-bars { grid-template-columns: repeat(2, 1fr); }
  .printer-cards { grid-template-columns: 1fr; }
}

@media (max-width: 375px) {
  .hero-title { font-size: 1.8rem; }
  .print-stats { flex-direction: column; gap: 8px; }
}
</style>
</head>
<body>

<!-- Left Sidebar Printer Status -->
<div class="printer-sidebar">
  <div class="sidebar-text">
    READY ░░ HEAD TEMP 42°C ░░ PAPER FEED OK ░░ INK: C:87% M:3% Y:61% K:44% ░░ JOBS QUEUED: 1 ░░ UPTIME: 4,291h ░░ LAST JAM: 2019-03-14 ░░ FIRMWARE v2.1.7 ░░ RIBBON WEAR: 67% ░░ STATUS: PRINTING ░░ NOSTALGIA INDEX: HIGH ░░ BRENDA STATUS: GONE ░░
  </div>
</div>

<!-- Ink Cartridge Alert -->
<div class="ink-alert" id="inkAlert" x-data x-ref="alert">
  <div class="ink-alert-text" id="inkAlertText"></div>
  <div class="ink-alert-btns">
    <button onclick="document.getElementById('inkAlert').classList.remove('show')">Dismiss</button>
    <button onclick="document.getElementById('inkAlert').classList.remove('show')">[Order Replacement]</button>
  </div>
</div>

<div class="page-wrap" x-data="app()">

  <!-- HERO -->
  <section class="hero">
    <div class="hero-bg" id="heroBg"></div>
    <div class="hero-content">
      <h1 class="hero-title" id="heroTitle"></h1>
      <p class="hero-sub">pay-per-minute asmr · generative fractal printing · est. 2018</p>
    </div>
    <div class="brenda-note" style="position:absolute;bottom:40px;right:40px;max-width:300px;">
      "the paper keeps feeding even after you leave — A."
    </div>
  </section>

  <!-- NOW PRINTING -->
  <section class="grid-section reveal-section now-printing-wrap">
    <div class="content-offset-right">
      <h2>Now Printing</h2>
      <div class="paper-viewport">
        <canvas id="fractalCanvas"></canvas>
      </div>
      <div class="print-stats">
        <div><span class="stat-label">Fractal: </span><span class="stat-val">Sierpinski Triangle #4,081</span></div>
        <div><span class="stat-label">Elapsed: </span><span class="stat-val" id="elapsedTime">00:00</span></div>
        <div><span class="stat-label">Dots: </span><span class="stat-val" id="dotCount">0</span></div>
        <div><span class="stat-label">Cost: </span><span class="stat-val" id="costTicker">$0.000</span></div>
      </div>
      <div class="ink-bars">
        <div class="ink-bar-wrap">
          <label>CYAN — 87%</label>
          <div class="ink-bar"><div class="ink-bar-fill cyan-ink" style="width:87%"></div></div>
        </div>
        <div class="ink-bar-wrap">
          <label>MAGENTA — 3%</label>
          <div class="ink-bar"><div class="ink-bar-fill magenta-ink ink-critical" style="width:3%"></div></div>
        </div>
        <div class="ink-bar-wrap">
          <label>YELLOW — 61%</label>
          <div class="ink-bar"><div class="ink-bar-fill yellow-ink" style="width:61%"></div></div>
        </div>
        <div class="ink-bar-wrap">
          <label>KEY — 44%</label>
          <div class="ink-bar"><div class="ink-bar-fill key-ink" style="width:44%"></div></div>
        </div>
      </div>
    </div>
  </section>

  <!-- PRINTER PROFILES -->
  <section class="grid-section reveal-section">
    <div class="content-main">
      <h2>Printer Profiles</h2>
      <div class="printer-cards">
        <div class="printer-card">
          <pre class="ascii-art">  ┌─────────────────┐
  │ ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓ │
  │ ║  EPSON FX-80  ║ │
  │ ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓ │
  ├─────────────────┤
  │ ░░░░░░░░░░░░░░░ │
  │  [=============] │
  └────────┬┬───────┘
           ││</pre>
          <h3>Epson FX-80 "Old Faithful"</h3>
          <p class="muted" style="font-size:0.85rem">Age: 41 years · 2.3M pages printed</p>
          <div class="condition-bar"><div class="condition-fill" style="width:72%"></div></div>
          <p style="font-size:0.8rem;color:#8a8aac">Print head condition: 72%</p>
          <ul class="quirks">
            <li>Pulls slightly left after row 4,000</li>
            <li>Makes a sound like a small animal on line feeds</li>
            <li>Smells faintly of ozone and 1987</li>
          </ul>
        </div>
        <div class="printer-card">
          <pre class="ascii-art">  ┌─────────────────┐
  │ ▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒ │
  │ ║  OKI ML-320  ║ │
  │ ▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒ │
  ├─────────────────┤
  │ ████████████████ │
  │  [=============] │
  └────────┬┬───────┘
           ││</pre>
          <h3>OKI ML-320 "The Screamer"</h3>
          <p class="muted" style="font-size:0.85rem">Age: 37 years · 1.8M pages printed</p>
          <div class="condition-bar"><div class="condition-fill" style="width:54%"></div></div>
          <p style="font-size:0.8rem;color:#8a8aac">Print head condition: 54%</p>
          <ul class="quirks">
            <li>Peaks at 112dB on bold text — ear protection required</li>
            <li>Jams on Tuesdays specifically, cause unknown</li>
            <li>Once printed an entire page of 'W' unprompted</li>
          </ul>
        </div>
        <div class="printer-card retired">
          <pre class="ascii-art">  ┌─────────────────┐
  │ ░░░░░░░░░░░░░░░ │
  │ ║  STAR NX-10  ║ │
  │ ░ ░ ░ ░ ░ ░ ░ ░ │
  ├────── ──────────┤
  │  ▓ ▓ ▓ ▓   ▓ ▓  │
  │  [==== ===== =] │
  └────────┬┬───────┘
           ││</pre>
          <h3>Star NX-10 "Quiet One"</h3>
          <p class="muted" style="font-size:0.85rem">Age: 39 years · 947K pages printed</p>
          <div class="condition-bar"><div class="condition-fill" style="width:31%;background:var(--pink)"></div></div>
          <p style="font-size:0.8rem;color:#8a8aac">Print head condition: 31% (last known)</p>
          <ul class="quirks">
            <li>Quietest 9-pin I ever heard. Like it was apologizing for existing.</li>
            <li>Perfect alignment. Never drifted once in 20 years.</li>
            <li>Brenda said it was "the only one of us that listened."</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- LOST ECHOES ARCHIVE -->
  <section class="grid-section reveal-section lost-echoes-wrap">
    <div class="content-offset-left">
      <h2>Lost Echoes Archive</h2>
      <p class="muted" style="margin-bottom:32px">Renders that existed once. Stored on drives that died. Thumbnails corrupted in transit.</p>
      <div class="archive-list">
        <div class="archive-item">
          <div class="corrupt-thumb" style="filter:contrast(3) hue-rotate(45deg) saturate(0.3)"></div>
          <div class="archive-meta">
            <h3>Fractal #1,002 — "The Mandelbrot That Took All Night"</h3>
            <p class="date">2019-11-23 · 6h 41m render time · 847,203 dots</p>
            <button class="download-link" onclick="showErrorModal()">Download .PRN</button>
            <div class="forum-comment">"I watched this one for six hours. It was the only time I felt calm that year." — user_thermal_cascade_99</div>
          </div>
        </div>
        <div class="archive-item">
          <div class="corrupt-thumb" style="filter:contrast(2) hue-rotate(180deg) saturate(2)"></div>
          <div class="archive-meta">
            <h3>Fractal #2,719 — "Julia Set in Magenta (Before the Shortage)"</h3>
            <p class="date">2021-06-07 · 3h 12m render time · 412,088 dots</p>
            <button class="download-link" onclick="showErrorModal()">Download .PRN</button>
            <div class="forum-comment">"The magenta ran out at 89% completion. It was more beautiful unfinished." — lost_ribbon_44</div>
          </div>
        </div>
        <div class="archive-item">
          <div class="corrupt-thumb" style="filter:contrast(1.5) hue-rotate(270deg) saturate(0.8) brightness(0.6)"></div>
          <div class="archive-meta">
            <h3>Fractal #3,500 — "Brenda's Last Request"</h3>
            <p class="date">2022-01-14 · 1h 03m render time · 189,441 dots</p>
            <button class="download-link" onclick="showErrorModal()">Download .PRN</button>
            <div class="forum-comment">"She asked for a Koch snowflake. Said it reminded her of something she couldn't name. I never asked what." — admin_algernon</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- DRIVER UPDATES / PATCH NOTES -->
  <section class="grid-section reveal-section">
    <div class="content-narrow">
      <h2>Driver Updates</h2>
      <div class="terminal-window">
        <div class="terminal-bar">
          <span class="terminal-dot"></span>
          <span class="terminal-dot"></span>
          <span class="terminal-dot"></span>
          <span class="terminal-title">dmds_driver_mgr.exe — v3.1.7</span>
        </div>
        <div class="terminal-body">
          <div class="patch-entry">
            <p><span class="patch-version">v3.1.7</span> — 2024-12-01</p>
            <p>Fixed issue where fractal recursion depth exceeded printer's existential capacity. Added dithering mode "Melancholy." Removed Brenda's unauthorized saxophone filter.</p>
            <button class="btn-sys" onclick="showErrorModal()">[DOWNLOAD .SYS]</button>
          </div>
          <div class="patch-entry">
            <p><span class="patch-version">v3.1.6</span> — 2024-09-14</p>
            <p>Patched memory leak causing printer to remember every page it ever printed. Performance improved. Printer seems sadder.</p>
            <button class="btn-sys" onclick="showErrorModal()">[DOWNLOAD .SYS]</button>
          </div>
          <div class="patch-entry">
            <p><span class="patch-version">v3.1.5</span> — 2024-06-30</p>
            <p>Resolved conflict between ASMR microphone gain and print head strike force. Users no longer report "feeling the dots in their chest." This is considered a downgrade by 94% of subscribers.</p>
            <button class="btn-sys" onclick="showErrorModal()">[DOWNLOAD .SYS]</button>
          </div>
          <div class="patch-entry">
            <p><span class="patch-version">v3.0.0</span> — 2024-01-01</p>
            <p>Major release. Migrated from parallel port to USB. Old Faithful required three days of counseling. Added "Nostalgia Mode" that just plays the parallel port handshake sound on loop.</p>
            <button class="btn-sys" onclick="showErrorModal()">[DOWNLOAD .SYS]</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- DONATE A DOT -->
  <section class="grid-section reveal-section">
    <div class="content-main donate-section">
      <h2>Donate a Dot</h2>
      <div class="big-dot"></div>
      <p style="max-width:500px;margin:0 auto 16px">Every dot is a deliberate act. Every impact earned. Donate a single dot of virtual ink to the current render. <span class="cyan">$0.001.</span></p>
      <div class="donate-counter" x-text="dotsDonated.toLocaleString() + ' dots donated'" id="donateCount">0 dots donated</div>
      <button class="donate-btn" @click="donateDot()">DONATE A DOT</button>
      <div class="donor-wall">
        <div class="donor-scroll">
          <span>anonymous</span>
          <span>thermal_cascade_99</span>
          <span>brenda_if_youre_reading_this</span>
          <span>anonymous</span>
          <span>parallel_port_widow</span>
          <span>dot_matrix_dad_1987</span>
          <span>anonymous</span>
          <span>the_screamer_fan_club</span>
          <span>lost_ribbon_44</span>
          <span>continuous_feed_evangelist</span>
          <span>anonymous</span>
          <span>ozone_huffer_legitimate</span>
          <span>anonymous</span>
          <span>thermal_cascade_99</span>
          <span>brenda_if_youre_reading_this</span>
          <span>anonymous</span>
          <span>parallel_port_widow</span>
          <span>dot_matrix_dad_1987</span>
          <span>anonymous</span>
          <span>the_screamer_fan_club</span>
          <span>lost_ribbon_44</span>
          <span>continuous_feed_evangelist</span>
          <span>anonymous</span>
          <span>ozone_huffer_legitimate</span>
        </div>
      </div>
    </div>
  </section>

  <!-- ASMR ENGINEER'S NOTES -->
  <section class="grid-section reveal-section">
    <div class="content-offset-right">
      <h2>ASMR Engineer's Notes</h2>
      <div class="notebook-entry">
        <h3>LOG ENTRY — 2024-03-12 — ON CONTINUOUS-FEED PAPER</h3>
        <p>People ask why I won't switch to cut sheets. They think it's stubbornness. It's not. The perforation is the point — you tear along the line and something complete separates from something whole. That's the contract. The paper arrives connected to everything that came before it, and you choose where it ends. Cut sheets come pre-severed. They arrive already alone. That's not paper. That's a hostage note from a corporation that forgot what sequence means.</p>
        <p>Every render on this site prints onto virtual continuous-feed stock. The pages are connected even if you can't see the joins. That's not a metaphor. Or maybe it is. I haven't slept since Thursday.</p>
      </div>
      <div class="notebook-entry">
        <h3>LOG ENTRY — 2024-07-08 — ON MONETIZING CALM</h3>
        <p>Chad Thundercock's Alpha Binaural Beats pulled $2.4M last quarter selling mp3s of frequency tones layered over stock footage of wolves. His "calm" is a product designed to make you feel broken enough to subscribe. My printers are not calm. They are loud and mechanical and they smell like hot ribbon and ozone. The calm comes from honesty — you hear the machine working and you know exactly what it costs. Every dot hits the page because a pin struck a ribbon. Nothing is simulated. Nothing is optimized. The noise is the feature.</p>
        <p>We charge $0.003 per minute because running these printers costs real electricity and real ribbon. Chad charges $19.99/month because shame is scalable.</p>
        <div class="brenda-note">"you always made everything about the paper, Algernon."</div>
      </div>
    </div>
  </section>

  <!-- ERROR MODAL -->
  <div class="modal-overlay" x-show="showModal" x-cloak @click.self="showModal = false" style="display:none">
    <div class="modal-box">
      <h3>ERROR 0x0049</h3>
      <p>File not found. The render you are looking for existed once. We are sorry.</p>
      <button class="modal-btn" @click="showModal = false">[OK]</button>
    </div>
  </div>

</div>

<script src="/assets/js/alpine.min.js" defer></script>
<script src="/assets/js/gsap.min.js"></script>
<script>
(function() {
  // ========== ALPINE APP ==========
  document.addEventListener('alpine:init', function() {
    Alpine.data('app', function() {
      return {
        showModal: false,
        dotsDonated: 184729,
        donateDot: function() {
          this.dotsDonated += 1;
          triggerDotEffect();
        }
      };
    });
  });

  // Global function for onclick handlers
  window.showErrorModal = function() {
    var appEl = document.querySelector('[x-data]');
    if (appEl && appEl.__x) {
      appEl.__x.$data.showModal = true;
    } else if (window.Alpine) {
      Alpine.evaluate(appEl, 'showModal = true');
    }
  };

  // ========== HERO TITLE TYPEWRITER ==========
  var titleText = 'DOT MATRIX DREAMSCAPES';
  var heroTitle = document.getElementById('heroTitle');
  var chars = [];

  for (var i = 0; i < titleText.length; i++) {
    var span = document.createElement('span');
    span.className = 'char';
    span.textContent = titleText[i] === ' ' ? '\u00A0' : titleText[i];
    heroTitle.appendChild(span);
    chars.push(span);
  }

  var cursorSpan = document.createElement('span');
  cursorSpan.className = 'blink-cursor';
  heroTitle.appendChild(cursorSpan);

  chars.forEach(function(charEl, idx) {
    setTimeout(function() {
      charEl.classList.add('visible');
      charEl.style.transform = 'translateY(-1px)';
      setTimeout(function() { charEl.style.transform = ''; }, 60);
    }, idx * 60);
  });

  // ========== HERO BACKGROUND DOTS ==========
  var heroBg = document.getElementById('heroBg');
  var dotsPerRow = Math.floor(window.innerWidth / 9);
  var rowCount = Math.floor(window.innerHeight / 7);

  for (var r = 0; r < rowCount; r++) {
    var row = document.createElement('div');
    row.className = 'dot-row';
    row.style.animationDelay = (r * 0.08) + 's';
    for (var d = 0; d < dotsPerRow; d++) {
      row.appendChild(document.createElement('span'));
    }
    heroBg.appendChild(row);
  }

  // ========== FRACTAL CANVAS ==========
  var canvas = document.getElementById('fractalCanvas');
  var ctx = canvas.getContext('2d');
  var dotCountEl = document.getElementById('dotCount');
  var costEl = document.getElementById('costTicker');
  var elapsedEl = document.getElementById('elapsedTime');

  canvas.width = 600;
  canvas.height = 400;

  // Sierpinski triangle via chaos game
  var vertices = [
    { x: 300, y: 10 },
    { x: 10, y: 390 },
    { x: 590, y: 390 }
  ];

  var currentPoint = { x: 300, y: 200 };
  var totalDots = 0;
  var startTime = Date.now();
  var dotsPerFrame = 2;
  var frameCount = 0;

  var dotColors = ['#0a4444', '#0a3a3a', '#0a3344', '#0a4a3a', '#0a443a'];

  function drawDots() {
    frameCount++;
    if (frameCount % 2 !== 0) {
      requestAnimationFrame(drawDots);
      return;
    }

    for (var i = 0; i < dotsPerFrame; i++) {
      var vi = Math.floor(Math.random() * 3);
      currentPoint.x = (currentPoint.x + vertices[vi].x) / 2 + (Math.random() - 0.5) * 0.8;
      currentPoint.y = (currentPoint.y + vertices[vi].y) / 2 + (Math.random() - 0.5) * 0.8;

      ctx.fillStyle = dotColors[Math.floor(Math.random() * dotColors.length)];
      ctx.fillRect(Math.round(currentPoint.x), Math.round(currentPoint.y), 2, 2);
      totalDots++;
    }

    dotCountEl.textContent = totalDots.toLocaleString();
    var cost = (totalDots * 0.000001).toFixed(4);
    costEl.textContent = '$' + cost + ' ($0.003/min)';

    var elapsed = Math.floor((Date.now() - startTime) / 1000);
    var mins = String(Math.floor(elapsed / 60)).padStart(2, '0');
    var secs = String(elapsed % 60).padStart(2, '0');
    elapsedEl.textContent = mins + ':' + secs;

    requestAnimationFrame(drawDots);
  }

  requestAnimationFrame(drawDots);

  // ========== CURSOR TRAIL ==========
  var trailDots = [];
  var maxTrail = 14;

  for (var t = 0; t < maxTrail; t++) {
    var dot = document.createElement('div');
    dot.className = 'cursor-dot';
    dot.style.opacity = '0';
    document.body.appendChild(dot);
    trailDots.push({ el: dot, x: 0, y: 0 });
  }

  var mouseX = 0, mouseY = 0;

  document.addEventListener('mousemove', function(e) {
    mouseX = e.clientX;
    mouseY = e.clientY;
  });

  function updateTrail() {
    for (var i = trailDots.length - 1; i > 0; i--) {
      trailDots[i].x = trailDots[i - 1].x;
      trailDots[i].y = trailDots[i - 1].y;
    }
    trailDots[0].x = mouseX;
    trailDots[0].y = mouseY;

    for (var j = 0; j < trailDots.length; j++) {
      var opacity = 1 - (j / trailDots.length);
      trailDots[j].el.style.left = trailDots[j].x + 'px';
      trailDots[j].el.style.top = trailDots[j].y + 'px';
      trailDots[j].el.style.opacity = String(opacity * 0.7);
      var scale = 1 - (j / trailDots.length) * 0.5;
      trailDots[j].el.style.transform = 'translate(-50%,-50%) scale(' + scale + ')';
    }

    requestAnimationFrame(updateTrail);
  }

  requestAnimationFrame(updateTrail);

  // ========== GLITCH EFFECT ==========
  function triggerGlitch() {
    document.body.classList.add('glitch-active');
    setTimeout(function() {
      document.body.classList.remove('glitch-active');
    }, 150);
    scheduleGlitch();
  }

  function scheduleGlitch() {
    var delay = 20000 + Math.random() * 10000;
    setTimeout(triggerGlitch, delay);
  }

  scheduleGlitch();

  // ========== INK CARTRIDGE ALERT ==========
  var inkColors = ['Magenta', 'Cyan', 'Yellow', 'Key (Black)'];
  var inkIdx = 0;

  function showInkAlert() {
    var color = inkColors[inkIdx % inkColors.length];
    inkIdx++;
    var pct = Math.floor(Math.random() * 5) + 1;
    document.getElementById('inkAlertText').textContent =
      '\u26A0 CARTRIDGE WARNING: ' + color + ' critically low (' + pct + '% remaining).';

    document.body.classList.add('pink-desat');
    document.getElementById('inkAlert').classList.add('show');

    // Auto-dismiss after 10s
    setTimeout(function() {
      var alert = document.getElementById('inkAlert');
      if (alert.classList.contains('show')) {
        alert.classList.remove('show');
        document.body.classList.remove('pink-desat');
      }
    }, 10000);

    scheduleInkAlert();
  }

  // Restore color on dismiss
  document.getElementById('inkAlert').addEventListener('click', function() {
    document.body.classList.remove('pink-desat');
  });

  function scheduleInkAlert() {
    var delay = 45000 + Math.random() * 15000;
    setTimeout(showInkAlert, delay);
  }

  scheduleInkAlert();

  // ========== DONATE DOT EFFECT ==========
  function triggerDotEffect() {
    var btn = document.querySelector('.donate-btn');
    if (!btn) return;
    btn.style.transform = 'scale(0.95)';
    setTimeout(function() { btn.style.transform = ''; }, 100);
  }

  // ========== SECTION REVEAL WITH GSAP ==========
  function initReveals() {
    var sections = document.querySelectorAll('.reveal-section');
    var observer = new IntersectionObserver(function(entries) {
      entries.forEach(function(entry) {
        if (entry.isIntersecting && !entry.target.classList.contains('revealed')) {
          entry.target.classList.add('revealed');

          // Create dot sweep
          var sweep = document.createElement('div');
          sweep.className = 'dot-sweep';
          var dotCount = 30;
          for (var d = 0; d < dotCount; d++) {
            sweep.appendChild(document.createElement('span'));
          }
          entry.target.appendChild(sweep);

          gsap.fromTo(entry.target,
            { opacity: 0 },
            { opacity: 1, duration: 0.4, ease: 'power2.out' }
          );

          gsap.fromTo(sweep,
            { width: '0%' },
            {
              width: '100%',
              duration: 0.4,
              ease: 'power2.out',
              onComplete: function() {
                gsap.to(sweep, {
                  opacity: 0,
                  duration: 0.3,
                  delay: 0.2,
                  onComplete: function() {
                    if (sweep.parentNode) sweep.parentNode.removeChild(sweep);
                  }
                });
              }
            }
          );
        }
      });
    }, { threshold: 0.1 });

    sections.forEach(function(s) { observer.observe(s); });
  }

  // Wait for GSAP
  if (typeof gsap !== 'undefined') {
    initReveals();
  } else {
    window.addEventListener('load', initReveals);
  }

  // ========== MODAL via Alpine fallback ==========
  // For onclick handlers that need to work before Alpine inits
  var origShowError = window.showErrorModal;
  window.showErrorModal = function() {
    var overlay = document.querySelector('.modal-overlay');
    if (overlay) {
      overlay.style.display = 'flex';
      // Also try Alpine
      var appEl = document.querySelector('[x-data="app()"]');
      if (appEl && appEl._x_dataStack) {
        appEl._x_dataStack[0].showModal = true;
      }
    }
  };

  // Close modal on overlay click
  document.addEventListener('click', function(e) {
    if (e.target.classList.contains('modal-overlay')) {
      e.target.style.display = 'none';
    }
  });

  // Alpine x-show compat
  document.addEventListener('alpine:init', function() {
    // Override showErrorModal for Alpine
    window.showErrorModal = function() {
      var appEl = document.querySelector('[x-data="app()"]');
      if (appEl && appEl._x_dataStack) {
        appEl._x_dataStack[0].showModal = true;
      }
    };
  });

})();
</script>

</body>
</html>
