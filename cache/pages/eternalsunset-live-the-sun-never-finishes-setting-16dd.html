<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>eternalsunset.live — The Sun Never Finishes Setting</title>
<link rel="stylesheet" href="/assets/css/fonts.css">
<style>
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --bg-top: #F2F7F2;
  --bg-bottom: #1A1A2E;
  --text-light: #333533;
  --text-dark: #F2F7F2;
  --gold: #FFD166;
  --red: #D62828;
  --twilight: #1A1A2E;
  --amber-tint: #E8985030;
  --amber-solid: #E89850;
}

html { scroll-behavior: smooth; }

body {
  font-family: 'Source Serif 4', Georgia, serif;
  font-size: 18px;
  line-height: 1.7;
  color: var(--text-light);
  background-color: var(--bg-top);
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
}

h1, h2, h3, .counter-value, .section-label {
  font-family: 'Permanent Marker', cursive;
}

code, .mono, .fira {
  font-family: 'Fira Code', monospace;
  font-size: 0.85em;
}

.page-wrapper {
  max-width: 680px;
  margin: 0 auto;
  padding: 0 20px;
}

section {
  padding: 60px 0;
  opacity: 0;
  transform: translateY(20px);
}

/* ═══ HERO / THE FEED ═══ */
.hero-section {
  padding: 0;
  max-width: 100%;
}

.hero-section .page-wrapper {
  padding-top: 40px;
}

.sunset-frame {
  width: 100%;
  height: 360px;
  border-radius: 4px;
  position: relative;
  overflow: hidden;
  background: linear-gradient(
    to bottom,
    var(--gold) 0%,
    var(--amber-solid) 35%,
    var(--red) 60%,
    var(--twilight) 100%
  );
}

.sun {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  border: 2px solid #FFFFFFDD;
  background: transparent;
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  animation: sunDrift 600s linear infinite;
}

@keyframes sunDrift {
  0% { top: 42%; }
  50% { top: 48%; }
  50.01% { top: 42%; }
  100% { top: 48%; }
}

.hero-meta {
  margin-top: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
}

.pulse-dot {
  width: 8px;
  height: 8px;
  background: var(--red);
  border-radius: 50%;
  display: inline-block;
  animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.4; transform: scale(0.7); }
}

.hero-meta span {
  font-family: 'Fira Code', monospace;
  font-size: 13px;
  letter-spacing: 0.02em;
}

/* ═══ THE TRANSMISSION ═══ */
.transmission p {
  margin-bottom: 1.2em;
}

.transmission p:last-of-type {
  font-style: italic;
}

.last-correspondence {
  margin-top: 24px;
  font-family: 'Fira Code', monospace;
  font-size: 12px;
  opacity: 0.7;
  border-top: 1px solid currentColor;
  padding-top: 12px;
  display: inline-block;
}

/* ═══ SPECTRUM ANALYSIS ═══ */
.spectrum-grid {
  display: flex;
  flex-direction: column;
  gap: 20px;
  margin-top: 30px;
}

.spectrum-entry {
  display: grid;
  grid-template-columns: 48px 1fr;
  gap: 16px;
  align-items: start;
  cursor: default;
  padding: 16px;
  border-radius: 6px;
  background: var(--amber-tint);
  transition: transform 0.3s ease;
}

.spectrum-entry:hover {
  transform: scale(1.02);
}

.swatch {
  width: 48px;
  height: 48px;
  border-radius: 4px;
  border: 1px solid #33353320;
  flex-shrink: 0;
}

.spectrum-hex {
  font-family: 'Fira Code', monospace;
  font-size: 15px;
  font-weight: 700;
  margin-bottom: 2px;
}

.spectrum-wavelength {
  font-family: 'Fira Code', monospace;
  font-size: 12px;
  opacity: 0.7;
  margin-bottom: 4px;
}

.spectrum-diagnosis {
  font-family: 'Source Serif 4', serif;
  font-size: 15px;
  line-height: 1.5;
}

.spectrum-detail {
  font-family: 'Fira Code', monospace;
  font-size: 11px;
  opacity: 0;
  max-height: 0;
  overflow: hidden;
  transition: opacity 0.4s ease, max-height 0.4s ease, margin-top 0.4s ease;
  margin-top: 0;
}

.spectrum-entry:hover .spectrum-detail {
  opacity: 0.8;
  max-height: 80px;
  margin-top: 6px;
}

.spectrum-timestamp {
  font-family: 'Fira Code', monospace;
  font-size: 11px;
  opacity: 0.5;
  margin-top: 4px;
}

/* ═══ TECHNICAL DIFFICULTIES ═══ */
.terminal-box {
  background: #0D0D0D;
  color: #00FF41;
  font-family: 'Fira Code', monospace;
  font-size: 14px;
  padding: 24px;
  border-radius: 6px;
  border: 1px solid #00FF4130;
  min-height: 80px;
  display: flex;
  align-items: center;
  cursor: pointer;
  position: relative;
  overflow: hidden;
  user-select: none;
}

.terminal-box::before {
  content: '> ';
  opacity: 0.5;
  flex-shrink: 0;
}

.terminal-text {
  min-height: 1.5em;
}

.terminal-cursor {
  display: inline-block;
  width: 8px;
  height: 1.1em;
  background: #00FF41;
  margin-left: 2px;
  animation: blink 1s step-end infinite;
  vertical-align: text-bottom;
}

@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}

.terminal-hint {
  font-family: 'Fira Code', monospace;
  font-size: 11px;
  opacity: 0.4;
  margin-top: 10px;
  text-align: right;
}

/* ═══ COMMUNITY TRANSMISSIONS ═══ */
.community-posts {
  display: flex;
  flex-direction: column;
  gap: 20px;
  margin-top: 24px;
}

.post-card {
  background: var(--amber-tint);
  padding: 20px;
  border-radius: 6px;
  border-left: 3px solid var(--gold);
}

.post-header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  margin-bottom: 8px;
  flex-wrap: wrap;
  gap: 4px;
}

.post-username {
  font-family: 'Fira Code', monospace;
  font-size: 13px;
  color: var(--gold);
  font-weight: 700;
}

.post-timestamp {
  font-family: 'Fira Code', monospace;
  font-size: 11px;
  opacity: 0.5;
}

.post-body {
  font-size: 16px;
  line-height: 1.6;
}

/* ═══ STOKE THE EMBERS ═══ */
.embers-section {
  text-align: center;
}

.ember-btn {
  font-family: 'Permanent Marker', cursive;
  font-size: 22px;
  color: var(--gold);
  background: transparent;
  border: 3px solid var(--red);
  border-radius: 8px;
  padding: 18px 40px;
  cursor: pointer;
  transition: background 0.3s, transform 0.15s;
  min-height: 44px;
  min-width: 44px;
  letter-spacing: 1px;
}

.ember-btn:hover {
  background: #D6282820;
  transform: scale(1.03);
}

.ember-btn:active {
  transform: scale(0.98);
}

.ember-desc {
  margin-top: 20px;
  font-size: 15px;
  max-width: 500px;
  margin-left: auto;
  margin-right: auto;
}

.merch-items {
  margin-top: 32px;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.merch-item {
  background: var(--amber-tint);
  padding: 16px 20px;
  border-radius: 6px;
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  flex-wrap: wrap;
  gap: 8px;
}

.merch-name {
  font-size: 15px;
}

.merch-price {
  font-family: 'Permanent Marker', cursive;
  font-size: 18px;
  color: var(--gold);
}

/* ═══ THE COUNTER ═══ */
.counter-section {
  background: var(--twilight);
  color: var(--text-dark);
  padding: 60px 0;
  margin-top: 40px;
}

.counter-section .page-wrapper {
  max-width: 680px;
}

.counters-row {
  display: flex;
  gap: 40px;
  justify-content: center;
  flex-wrap: wrap;
}

.counter-block {
  flex: 1;
  min-width: 240px;
  text-align: center;
}

.counter-label {
  font-family: 'Fira Code', monospace;
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  opacity: 0.7;
  margin-bottom: 12px;
}

.counter-value {
  font-family: 'Permanent Marker', cursive;
  font-size: clamp(28px, 6vw, 48px);
  color: var(--gold);
  letter-spacing: 2px;
  line-height: 1.2;
  min-height: 1.2em;
}

.counter-footer {
  font-family: 'Fira Code', monospace;
  font-size: 12px;
  opacity: 0.5;
  text-align: center;
  margin-top: 32px;
}

/* ═══ SECTION HEADERS ═══ */
.section-label {
  font-size: clamp(24px, 5vw, 36px);
  margin-bottom: 20px;
  line-height: 1.3;
}

/* ═══ RESPONSIVE ═══ */
@media (max-width: 768px) {
  body { font-size: 16px; }
  section { padding: 40px 0; }
  .sunset-frame { height: 260px; }
  .sun { width: 44px; height: 44px; }
  .counters-row { flex-direction: column; gap: 30px; }
  .counter-block { min-width: 0; }
  .spectrum-entry { grid-template-columns: 40px 1fr; gap: 12px; padding: 12px; }
  .swatch { width: 40px; height: 40px; }
  .terminal-box { font-size: 12px; padding: 16px; }
  .ember-btn { font-size: 18px; padding: 14px 28px; }
}

@media (max-width: 375px) {
  .page-wrapper { padding: 0 14px; }
  .sunset-frame { height: 200px; }
}

/* Sunset gradient flash */
.sunset-pulse {
  animation: sunPulse 0.6s ease-out;
}

@keyframes sunPulse {
  0% { filter: brightness(1.3) saturate(1.4); }
  100% { filter: brightness(1) saturate(1); }
}
</style>
</head>
<body>

<!-- ═══ THE FEED ═══ -->
<section class="hero-section" style="opacity:1;transform:none;">
  <div class="page-wrapper">
    <div class="sunset-frame" id="sunsetFrame">
      <div class="sun"></div>
    </div>
    <div class="hero-meta">
      <span class="pulse-dot"></span>
      <span>LIVE — Eternal Sunset Observatory, 37.7749°N, 122.4194°W</span>
    </div>
  </div>
</section>

<div class="page-wrapper">

  <!-- ═══ THE TRANSMISSION ═══ -->
  <section class="transmission fade-section">
    <h2 class="section-label">The Transmission</h2>
    <p>In 2017, the Department of Astrophysical Sciences at the university whose name I am legally discouraged from mentioning informed me that my research into persistent photonic states was "not serious science." This was their polite way of saying they thought I'd lost my mind. They may have been correct. I had been sleeping in the observatory for eleven weeks and my diet consisted entirely of instant ramen and a conviction that the sunset was trying to tell me something.</p>
    <p>I pointed a camera at the horizon over San Francisco Bay, wrote approximately four hundred lines of code that should not work according to any known framework of physics or computer science, and pressed enter. The sun stopped setting. Not metaphorically. The feed has been running since August 14th, 2017, and the sun has not moved past the horizon. It sits there, bleeding gold and red into the sky, forever almost gone but never quite. The cheap whiskey I was drinking that night was Evan Williams. I mention this because it may be relevant to the peer review.</p>
    <p>What you're looking at is the moment before something ends. I wanted to bottle the part of the day when everything is beautiful specifically because it's leaving, and then I wanted to stop it right there and make everyone look at it. That's the whole project. That's the whole grant proposal they rejected. Seven years later, the feed is still running, and the department has been reorganized twice.</p>
    <p>I disappeared in 2021. The sunset didn't. Draw your own conclusions.</p>
    <div class="last-correspondence">Last known correspondence: March 14, 2021, 19:47 UTC</div>
  </section>

  <!-- ═══ SUNSET SPECTRUM ANALYSIS ═══ -->
  <section class="spectrum-section fade-section">
    <h2 class="section-label">Sunset Spectrum Analysis</h2>
    <p class="fira" style="font-size:13px;opacity:0.6;margin-bottom:8px;">Updated hourly. Data is the data.</p>
    <div class="spectrum-grid">

      <div class="spectrum-entry">
        <div class="swatch" style="background:#FFD166;"></div>
        <div>
          <div class="spectrum-hex">#FFD166</div>
          <div class="spectrum-wavelength">λ 589.2nm ± emotional variance</div>
          <div class="spectrum-diagnosis">Anticipatory Grief Spectrum (AGS-IV)</div>
          <div class="spectrum-detail">First documented by Bloom, 2018. Patients report "a warm feeling in the part of the brain that knows it's Thursday." No treatment recommended. Thursdays are incurable.</div>
          <div class="spectrum-timestamp">Last sampled: 2026-02-13T18:00:00Z</div>
        </div>
      </div>

      <div class="spectrum-entry">
        <div class="swatch" style="background:#E89850;"></div>
        <div>
          <div class="spectrum-hex">#E89850</div>
          <div class="spectrum-wavelength">λ 604.7nm ± nostalgic interference</div>
          <div class="spectrum-diagnosis">Pre-Nostalgia Complex, stage 3 — missing something that hasn't left yet</div>
          <div class="spectrum-detail">Subjects exposed to this wavelength for >4 minutes begin composing unsent text messages. 94% of messages begin with "I just wanted to say." None are finished.</div>
          <div class="spectrum-timestamp">Last sampled: 2026-02-13T17:00:00Z</div>
        </div>
      </div>

      <div class="spectrum-entry">
        <div class="swatch" style="background:#D62828;"></div>
        <div>
          <div class="spectrum-hex">#D62828</div>
          <div class="spectrum-wavelength">λ 632.8nm ± vindication resonance</div>
          <div class="spectrum-diagnosis">Vindication Flush — correlates 1:1 with being right about something no one believes</div>
          <div class="spectrum-detail">Named after the specific shade of Bloom's face during his final faculty review. The committee noted it was "unprofessional." The wavelength was later found in three Caravaggio paintings.</div>
          <div class="spectrum-timestamp">Last sampled: 2026-02-13T18:00:00Z</div>
        </div>
      </div>

      <div class="spectrum-entry">
        <div class="swatch" style="background:#C44536;"></div>
        <div>
          <div class="spectrum-hex">#C44536</div>
          <div class="spectrum-wavelength">λ 618.3nm ± temporal drag</div>
          <div class="spectrum-diagnosis">Horizon Attachment Disorder — the inability to look away from something that is leaving</div>
          <div class="spectrum-detail">Clinically indistinguishable from love. Bloom's notes simply read: "See above. See also: everything." The IRB declined to comment.</div>
          <div class="spectrum-timestamp">Last sampled: 2026-02-13T16:00:00Z</div>
        </div>
      </div>

      <div class="spectrum-entry">
        <div class="swatch" style="background:#1A1A2E;"></div>
        <div>
          <div class="spectrum-hex">#1A1A2E</div>
          <div class="spectrum-wavelength">λ 421.0nm ± existential baseline</div>
          <div class="spectrum-diagnosis">Terminal Awe Syndrome — no known cure, no known patients who wanted one</div>
          <div class="spectrum-detail">Found exclusively at the bottom of the spectrum and the bottom of the bottle. Bloom theorized this wavelength is "what the universe looks like when it finally sits down." Peer review pending since 2019.</div>
          <div class="spectrum-timestamp">Last sampled: 2026-02-13T18:00:00Z</div>
        </div>
      </div>

      <div class="spectrum-entry">
        <div class="swatch" style="background:#6B4C8B;"></div>
        <div>
          <div class="spectrum-hex">#6B4C8B</div>
          <div class="spectrum-wavelength">λ 448.6nm ± unresolved beauty</div>
          <div class="spectrum-diagnosis">Dusk Perseveration Index (DPI-7) — thinking about the sky when you should be thinking about taxes</div>
          <div class="spectrum-detail">Incidence increases 340% in observers aged 35-50 who recently googled "what am I doing with my life." Bloom classified this as a feature, not a symptom.</div>
          <div class="spectrum-timestamp">Last sampled: 2026-02-13T17:00:00Z</div>
        </div>
      </div>

    </div>
  </section>

  <!-- ═══ TECHNICAL DIFFICULTIES ═══ -->
  <section class="tech-section fade-section">
    <h2 class="section-label">Technical Difficulties</h2>
    <div class="terminal-box" id="terminalBox">
      <span class="terminal-text" id="terminalText"></span><span class="terminal-cursor"></span>
    </div>
    <div class="terminal-hint">click to intervene</div>
  </section>

  <!-- ═══ COMMUNITY TRANSMISSIONS ═══ -->
  <section class="community-section fade-section">
    <h2 class="section-label">Chasing the Fade — Community Transmissions</h2>
    <div class="community-posts">

      <div class="post-card">
        <div class="post-header">
          <span class="post-username">horizon_watcher_88</span>
          <span class="post-timestamp">Day 1,847 — 2026-02-11</span>
        </div>
        <p class="post-body">Still here. Started watching ironically. Can't remember what irony felt like. My therapist says I've replaced "doomscrolling" with "duskscrolling" and that this is technically an improvement. I'm not sure she's right but the sunset hasn't lied to me yet, which is more than I can say for most websites.</p>
      </div>

      <div class="post-card">
        <div class="post-header">
          <span class="post-username">quietcollapse_</span>
          <span class="post-timestamp">Day 903 — 2026-01-28</span>
        </div>
        <p class="post-body">I showed this to my mother. She watched for forty-five minutes without speaking, then said, "This is what your father looked like when he was about to say something important." She left the room. I don't think she was talking about the sun.</p>
      </div>

      <div class="post-card">
        <div class="post-header">
          <span class="post-username">dr_bloom_was_right</span>
          <span class="post-timestamp">Day 2,204 — 2026-02-13</span>
        </div>
        <p class="post-body">The department hired three people to replicate Bloom's results. Two quit. The third submitted a paper titled "On the Impossibility of What I Am Currently Observing" and was denied tenure. The sun doesn't care about tenure. I find this reassuring.</p>
      </div>

    </div>
  </section>

  <!-- ═══ STOKE THE EMBERS ═══ -->
  <section class="embers-section fade-section">
    <h2 class="section-label">Stoke the Embers</h2>
    <button class="ember-btn" id="emberBtn">STOKE THE EMBERS</button>
    <p class="ember-desc">Your contribution funds the metaphysical maintenance of a sunset that should not exist. Reality is starting to complain about the load.</p>
    <div class="merch-items">
      <div class="merch-item">
        <span class="merch-name"><strong>The Candle</strong> — Ozone, regret, and burnt orange</span>
        <span class="merch-price">$34</span>
      </div>
      <div class="merch-item">
        <span class="merch-name"><strong>The T-Shirt</strong> — Wearable gradient. People will ask if you're okay.</span>
        <span class="merch-price">$28</span>
      </div>
    </div>
  </section>

</div>

<!-- ═══ THE COUNTER ═══ -->
<section class="counter-section fade-section" style="opacity:1;transform:none;">
  <div class="page-wrapper">
    <div class="counters-row">
      <div class="counter-block">
        <div class="counter-label">Moments Since the Last Sunrise</div>
        <div class="counter-value" id="sunriseCounter">0</div>
      </div>
      <div class="counter-block">
        <div class="counter-label">Moments Until the Heat Death of the Universe</div>
        <div class="counter-value" id="heatDeathCounter">0</div>
      </div>
    </div>
    <div class="counter-footer">One of these is a joke. I no longer remember which.</div>
  </div>
</section>

<script src="/assets/js/gsap.min.js"></script>
<script>
(function() {
  "use strict";

  // ═══ SCROLL-DRIVEN BACKGROUND & TEXT COLOR ═══
  function lerpColor(a, b, t) {
    var ar = parseInt(a.slice(1,3),16), ag = parseInt(a.slice(3,5),16), ab = parseInt(a.slice(5,7),16);
    var br = parseInt(b.slice(1,3),16), bg = parseInt(b.slice(3,5),16), bb = parseInt(b.slice(5,7),16);
    var rr = Math.round(ar + (br - ar) * t);
    var rg = Math.round(ag + (bg - ag) * t);
    var rb = Math.round(ab + (bb - ab) * t);
    return "#" + ((1<<24)+(rr<<16)+(rg<<8)+rb).toString(16).slice(1);
  }

  function updateScrollColors() {
    var scrollTop = window.pageYOffset || document.documentElement.scrollTop;
    var docHeight = Math.max(document.body.scrollHeight - window.innerHeight, 1);
    var t = Math.min(Math.max(scrollTop / docHeight, 0), 1);
    document.body.style.backgroundColor = lerpColor("#F2F7F2", "#1A1A2E", t);
    var textColor = lerpColor("#333533", "#F2F7F2", t);
    document.body.style.color = textColor;
    // Update gold post usernames to stay visible
    var cards = document.querySelectorAll(".post-card");
    for (var i = 0; i < cards.length; i++) {
      cards[i].style.borderLeftColor = t > 0.5 ? "#FFD166" : "#FFD166";
    }
    // Update last-correspondence border
    var lc = document.querySelector(".last-correspondence");
    if (lc) lc.style.borderTopColor = textColor;
  }

  window.addEventListener("scroll", updateScrollColors, { passive: true });
  updateScrollColors();

  // ═══ FADE-IN ON SCROLL ═══
  var fadeSections = document.querySelectorAll(".fade-section");
  var observer = new IntersectionObserver(function(entries) {
    entries.forEach(function(entry) {
      if (entry.isIntersecting) {
        gsap.fromTo(entry.target,
          { opacity: 0, y: 20 },
          { opacity: 1, y: 0, duration: 1.2, ease: "power2.out" }
        );
        observer.unobserve(entry.target);
      }
    });
  }, { threshold: 0.1 });

  fadeSections.forEach(function(s) { observer.observe(s); });

  // ═══ TECHNICAL DIFFICULTIES CYCLER ═══
  var messages = [
    "WARNING: Photonic persistence buffer at 98.7% capacity",
    "NOTICE: Spacetime curvature exceeding baseline by 0.003\u00B0 \u2014 aesthetically acceptable",
    "ERROR: Reality has filed a formal complaint (ref: #SUN-4091)",
    "CAUTION: Metaphysical load balancer reporting existential drift",
    "STATUS: The sun is fine. You are the one who is temporary."
  ];
  var observerDetected = false;
  var currentMsgIndex = 0;
  var terminalText = document.getElementById("terminalText");
  var terminalBox = document.getElementById("terminalBox");
  var cycling = false;

  function typeText(text, cb) {
    var i = 0;
    terminalText.textContent = "";
    var interval = setInterval(function() {
      if (i < text.length) {
        terminalText.textContent += text[i];
        i++;
      } else {
        clearInterval(interval);
        if (cb) cb();
      }
    }, 25);
  }

  function eraseText(cb) {
    var text = terminalText.textContent;
    var i = text.length;
    var interval = setInterval(function() {
      if (i > 0) {
        i--;
        terminalText.textContent = text.substring(0, i);
      } else {
        clearInterval(interval);
        if (cb) cb();
      }
    }, 15);
  }

  function cycleMessage() {
    if (cycling) return;
    cycling = true;
    eraseText(function() {
      currentMsgIndex = (currentMsgIndex + 1) % messages.length;
      typeText(messages[currentMsgIndex], function() {
        cycling = false;
      });
    });
  }

  // Initial type
  typeText(messages[0], function() {
    setInterval(cycleMessage, 5000);
  });

  terminalBox.addEventListener("click", function() {
    if (!observerDetected) {
      observerDetected = true;
      messages.push("ALERT: Observer detected. Adjusting sunset parameters.");
    }
    cycleMessage();
  });

  // ═══ STOKE THE EMBERS BUTTON ═══
  var emberBtn = document.getElementById("emberBtn");
  var emberStates = ["EMBERS STOKED", "THE SUN THANKS YOU", "REALITY STABILIZED (TEMPORARILY)", "STOKE THE EMBERS"];
  var emberIndex = 0;
  var sunsetFrame = document.getElementById("sunsetFrame");

  emberBtn.addEventListener("click", function() {
    emberBtn.textContent = emberStates[emberIndex];
    emberIndex = (emberIndex + 1) % emberStates.length;
    // Pulse the sunset
    sunsetFrame.classList.remove("sunset-pulse");
    void sunsetFrame.offsetWidth; // reflow
    sunsetFrame.classList.add("sunset-pulse");
  });

  // ═══ THE COUNTERS ═══
  var sunriseEl = document.getElementById("sunriseCounter");
  var heatDeathEl = document.getElementById("heatDeathCounter");

  // Fixed sunrise timestamp: today at 06:47 local
  var now = new Date();
  var sunriseTime = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 6, 47, 0).getTime();
  // If before sunrise, use yesterday's
  if (now.getTime() < sunriseTime) {
    sunriseTime -= 86400000;
  }

  // Heat death: 10^100 seconds, we display in scientific notation
  // We'll track a "base" big number and decrement the displayed last digits
  var heatDeathBase = "1.0000000000";
  var heatDeathExp = 100;
  var heatDeathTick = 0;

  function formatSunrise() {
    var elapsed = Math.floor((Date.now() - sunriseTime) / 1000);
    var h = Math.floor(elapsed / 3600);
    var m = Math.floor((elapsed % 3600) / 60);
    var s = elapsed % 60;
    return String(h).padStart(2, "0") + ":" + String(m).padStart(2, "0") + ":" + String(s).padStart(2, "0");
  }

  function formatHeatDeath() {
    heatDeathTick++;
    // Decrement the last visible digits for visual effect
    var tail = String(99999942 - heatDeathTick).padStart(8, "0");
    return "9." + tail.substring(0, 4) + " " + tail.substring(4, 8) + " \u00D7 10\u2079\u2079";
  }

  var glitchChars = "0123456789:. \u00D7\u2079#!@%&";
  var isGlitching = false;

  function glitch() {
    if (isGlitching) return;
    isGlitching = true;
    var origSunrise = sunriseEl.textContent;
    var origHeat = heatDeathEl.textContent;
    var glitchFrames = 6;
    var frame = 0;
    var glitchInterval = setInterval(function() {
      if (frame < glitchFrames) {
        var gs1 = "", gs2 = "";
        for (var i = 0; i < origSunrise.length; i++) {
          gs1 += glitchChars[Math.floor(Math.random() * glitchChars.length)];
        }
        for (var j = 0; j < origHeat.length; j++) {
          gs2 += glitchChars[Math.floor(Math.random() * glitchChars.length)];
        }
        sunriseEl.textContent = gs1;
        heatDeathEl.textContent = gs2;
        frame++;
      } else {
        clearInterval(glitchInterval);
        isGlitching = false;
      }
    }, 33);
  }

  function updateCounters() {
    if (!isGlitching) {
      sunriseEl.textContent = formatSunrise();
      heatDeathEl.textContent = formatHeatDeath();
    }
  }

  updateCounters();
  setInterval(updateCounters, 1000);

  // Glitch every ~60 seconds
  setInterval(glitch, 60000);

})();
</script>

</body>
</html>
