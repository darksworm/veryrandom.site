<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vibesurance ‚Äî Your Feelings Cost Real Money. We Insure Them.</title>
<link rel="stylesheet" href="/assets/css/fonts.css">
<style>
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --bg: #1C1528;
  --text: #E8E0D0;
  --gold: #B8A04A;
  --silver: #A8A0B0;
  --card-bg: #2A1F38;
  --alert: #D4456A;
  --font-heading: 'Josefin Sans', sans-serif;
  --font-body: 'Work Sans', sans-serif;
  --font-mono: 'Fira Code', monospace;
}

html { scroll-behavior: smooth; }

body {
  background: var(--bg);
  color: var(--text);
  font-family: var(--font-body);
  font-size: 17px;
  line-height: 1.65;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
}

h1, h2, h3, h4 {
  font-family: var(--font-heading);
  color: var(--gold);
  font-weight: 600;
  line-height: 1.2;
  letter-spacing: 0.03em;
  text-transform: uppercase;
}

.mono { font-family: var(--font-mono); font-size: 0.82em; }

.container {
  max-width: 900px;
  margin: 0 auto;
  padding: 0 20px;
}

/* Gold ruling lines */
.gold-rule {
  border: none;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--gold), transparent);
  margin: 60px 0;
}

/* Panel card style */
.panel {
  background: var(--card-bg);
  border: 1px solid #3D3050;
  border-radius: 12px;
  padding: 40px 36px;
  margin-bottom: 48px;
  position: relative;
}

.panel--gold {
  border-color: var(--gold);
}

/* Corner flourishes */
.panel--flourish::before,
.panel--flourish::after {
  content: '';
  position: absolute;
  width: 28px;
  height: 28px;
  border-color: var(--gold);
  border-style: solid;
  pointer-events: none;
}
.panel--flourish::before {
  top: -1px; left: -1px;
  border-width: 2px 0 0 2px;
  border-radius: 12px 0 0 0;
}
.panel--flourish::after {
  bottom: -1px; right: -1px;
  border-width: 0 2px 2px 0;
  border-radius: 0 0 12px 0;
}

/* ===== HERO ===== */
.hero {
  position: relative;
  min-height: 90vh;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  overflow: hidden;
  padding: 80px 20px 60px;
}

.hero-content { position: relative; z-index: 2; max-width: 700px; }

.hero h1 {
  font-size: clamp(2.4rem, 6vw, 3.6rem);
  margin-bottom: 8px;
  letter-spacing: 0.08em;
}

.hero-logo-sub {
  font-family: var(--font-mono);
  font-size: 0.75rem;
  color: var(--silver);
  letter-spacing: 0.15em;
  margin-bottom: 28px;
  display: block;
}

.hero-tagline {
  font-size: clamp(1.1rem, 2.5vw, 1.35rem);
  color: var(--text);
  margin-bottom: 12px;
  font-weight: 400;
}

.hero-origin {
  font-size: 0.92rem;
  color: var(--silver);
  font-style: italic;
  margin-bottom: 36px;
  max-width: 520px;
  margin-left: auto;
  margin-right: auto;
}

.policy-number {
  font-family: var(--font-mono);
  font-size: 0.72rem;
  color: var(--silver);
  letter-spacing: 0.12em;
  margin-bottom: 32px;
}

.btn-gold {
  display: inline-block;
  background: var(--gold);
  color: var(--bg);
  font-family: var(--font-heading);
  font-size: 1rem;
  font-weight: 600;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  padding: 16px 36px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  min-height: 48px;
  min-width: 48px;
  transition: transform 0.2s, box-shadow 0.2s;
}
.btn-gold:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 24px #B8A04A44;
}

/* Particles canvas */
#particles-canvas {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  z-index: 1;
  pointer-events: none;
}

/* CSS particle drift fallback / ambient */
.particle {
  position: absolute;
  border-radius: 50%;
  pointer-events: none;
  z-index: 1;
  animation: particleDrift linear infinite;
}

@keyframes particleDrift {
  0% { transform: translateY(0) translateX(0); opacity: 0; }
  10% { opacity: 1; }
  90% { opacity: 1; }
  100% { transform: translateY(-110vh) translateX(var(--sway)); opacity: 0; }
}

/* ===== VIBECHECK QUIZ ===== */
.quiz-section h2 { text-align: center; margin-bottom: 8px; font-size: clamp(1.5rem, 3vw, 2rem); }
.quiz-subtitle { text-align: center; color: var(--silver); margin-bottom: 36px; font-size: 0.95rem; }

.quiz-question {
  margin-bottom: 28px;
}

.quiz-question p {
  font-weight: 600;
  margin-bottom: 12px;
  font-size: 1rem;
}

.quiz-question label {
  display: block;
  padding: 12px 16px;
  margin-bottom: 6px;
  border-radius: 8px;
  cursor: pointer;
  border: 1px solid #3D3050;
  transition: border-color 0.2s, background 0.2s;
  font-size: 0.95rem;
  min-height: 48px;
  display: flex;
  align-items: center;
  gap: 10px;
}
.quiz-question label:hover { border-color: var(--gold); background: #362A48; }
.quiz-question input[type="radio"] { accent-color: var(--gold); width: 18px; height: 18px; flex-shrink: 0; }
.quiz-question input[type="radio"]:checked + span { color: var(--gold); }

.quiz-submit-row { text-align: center; margin-top: 20px; }

/* Score display */
.score-display {
  display: none;
  text-align: center;
  padding: 40px 20px;
}

.score-display.active { display: block; }

.score-gauge {
  position: relative;
  width: 200px;
  height: 200px;
  margin: 0 auto 20px;
}

.score-gauge-bg {
  width: 200px;
  height: 200px;
  border-radius: 50%;
  border: 6px solid #3D3050;
  position: relative;
}

.score-gauge-fill {
  position: absolute;
  top: 0; left: 0;
  width: 200px;
  height: 200px;
  border-radius: 50%;
  border: 6px solid transparent;
  border-top-color: var(--gold);
  border-right-color: var(--gold);
  transform: rotate(-90deg);
  transition: none;
}

.score-number {
  position: absolute;
  top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  font-family: var(--font-heading);
  font-size: 3.2rem;
  color: var(--gold);
  font-weight: 700;
}

.score-tier {
  font-family: var(--font-heading);
  font-size: 1.2rem;
  color: var(--alert);
  text-transform: uppercase;
  letter-spacing: 0.08em;
  margin-top: 12px;
  opacity: 0;
}

/* ===== COVERAGE TIERS ===== */
.tiers-section h2 { text-align: center; font-size: clamp(1.5rem, 3vw, 2rem); margin-bottom: 8px; }
.tiers-subtitle { text-align: center; color: var(--silver); margin-bottom: 36px; font-size: 0.95rem; }

.tiers-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
}

.tier-card {
  background: var(--card-bg);
  border: 1px solid #3D3050;
  border-radius: 12px;
  padding: 28px 20px;
  text-align: center;
  transition: transform 0.3s, box-shadow 0.3s;
  position: relative;
  cursor: pointer;
}

.tier-card:hover {
  transform: translateY(-6px);
  box-shadow: 0 12px 36px #00000066;
}

.tier-card--featured {
  border-color: var(--gold);
  border-width: 2px;
}

.tier-badge {
  position: absolute;
  top: -14px;
  left: 50%;
  transform: translateX(-50%);
  background: var(--gold);
  color: var(--bg);
  font-family: var(--font-heading);
  font-size: 0.7rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  padding: 4px 16px;
  border-radius: 20px;
  font-weight: 600;
}

.tier-card h3 {
  font-size: 1.15rem;
  margin-bottom: 6px;
}

.tier-price {
  font-family: var(--font-mono);
  font-size: 1.6rem;
  color: var(--gold);
  margin-bottom: 4px;
}

.tier-price small {
  font-size: 0.65rem;
  color: var(--silver);
}

.tier-benefits {
  list-style: none;
  text-align: left;
  margin: 18px 0 22px;
  font-size: 0.85rem;
  color: var(--silver);
  line-height: 1.8;
}

.tier-benefits li::before {
  content: '‚úì ';
  color: var(--gold);
  font-weight: 700;
}

.btn-tier {
  display: inline-block;
  background: transparent;
  color: var(--gold);
  font-family: var(--font-heading);
  font-size: 0.85rem;
  font-weight: 600;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  padding: 12px 24px;
  border: 1px solid var(--gold);
  border-radius: 8px;
  cursor: pointer;
  min-height: 48px;
  transition: background 0.2s, color 0.2s;
  width: 100%;
}
.btn-tier:hover {
  background: var(--gold);
  color: var(--bg);
}

.tier-card--featured .btn-tier {
  background: var(--gold);
  color: var(--bg);
}
.tier-card--featured .btn-tier:hover {
  background: #CDB45A;
}

.tier-footnotes {
  margin-top: 24px;
  text-align: center;
}

.footnote-toggle {
  background: none;
  border: none;
  color: var(--silver);
  font-family: var(--font-mono);
  font-size: 0.75rem;
  cursor: pointer;
  text-decoration: underline;
  padding: 8px 12px;
  min-height: 44px;
}

.footnote-text {
  font-family: var(--font-mono);
  font-size: 0.72rem;
  color: var(--silver);
  line-height: 1.6;
  margin-top: 12px;
  padding: 16px;
  background: #1C1528;
  border-radius: 8px;
  text-align: left;
}

/* ===== MOOD REPAIR MARKETPLACE ===== */
.marketplace h2 { text-align: center; font-size: clamp(1.5rem, 3vw, 2rem); margin-bottom: 8px; }
.marketplace-subtitle { text-align: center; color: var(--silver); margin-bottom: 36px; font-size: 0.95rem; }

.marketplace-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
  gap: 20px;
}

.market-card {
  background: var(--card-bg);
  border: 1px solid #3D3050;
  border-radius: 12px;
  padding: 24px 20px;
  text-align: center;
  transition: transform 0.2s;
}
.market-card:hover { transform: translateY(-3px); }

.market-emoji { font-size: 2.4rem; margin-bottom: 10px; display: block; }
.market-card h4 { font-size: 0.95rem; margin-bottom: 6px; text-transform: none; letter-spacing: 0; }
.market-card p { font-size: 0.82rem; color: var(--silver); margin-bottom: 14px; line-height: 1.5; }

.market-price {
  font-family: var(--font-mono);
  font-size: 0.78rem;
  color: var(--gold);
  margin-bottom: 14px;
}

.btn-redeem {
  display: inline-block;
  background: transparent;
  color: var(--alert);
  font-family: var(--font-heading);
  font-size: 0.8rem;
  font-weight: 600;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  padding: 10px 20px;
  border: 1px solid var(--alert);
  border-radius: 8px;
  cursor: pointer;
  min-height: 44px;
  transition: background 0.2s, color 0.2s;
}
.btn-redeem:hover {
  background: var(--alert);
  color: var(--text);
}

/* ===== VIBEGUARDIANS ===== */
.guardians h2 { text-align: center; font-size: clamp(1.5rem, 3vw, 2rem); margin-bottom: 8px; }
.guardians-subtitle { text-align: center; color: var(--silver); margin-bottom: 36px; font-size: 0.95rem; }

.guardians-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: 20px;
}

.guardian-card {
  background: var(--card-bg);
  border: 1px solid #3D3050;
  border-radius: 12px;
  padding: 28px 20px;
  text-align: center;
}

.guardian-avatar {
  width: 72px;
  height: 72px;
  border-radius: 50%;
  margin: 0 auto 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.8rem;
  border: 2px solid var(--gold);
  background: #1C1528;
}

.guardian-card h4 {
  font-size: 1rem;
  margin-bottom: 4px;
  text-transform: none;
  letter-spacing: 0;
}

.guardian-specialty {
  font-family: var(--font-mono);
  font-size: 0.72rem;
  color: var(--silver);
  margin-bottom: 12px;
  line-height: 1.5;
}

.guardian-status {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 0.8rem;
  margin-bottom: 16px;
}

.status-dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  display: inline-block;
}
.status-dot--green { background: #5CB85C; box-shadow: 0 0 6px #5CB85C88; }
.status-dot--amber { background: #D4A04A; box-shadow: 0 0 6px #D4A04A88; }

.btn-guardian {
  display: inline-block;
  background: transparent;
  color: var(--gold);
  font-family: var(--font-heading);
  font-size: 0.82rem;
  font-weight: 600;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  padding: 10px 22px;
  border: 1px solid var(--gold);
  border-radius: 8px;
  cursor: pointer;
  min-height: 44px;
  transition: background 0.2s, color 0.2s;
}
.btn-guardian:hover {
  background: var(--gold);
  color: var(--bg);
}

/* ===== HEATMAP ===== */
.heatmap h2 { text-align: center; font-size: clamp(1.5rem, 3vw, 2rem); margin-bottom: 8px; }
.heatmap-subtitle { text-align: center; color: var(--silver); margin-bottom: 24px; font-size: 0.95rem; }

.heatmap-container {
  position: relative;
  background: #1C1528;
  border: 1px solid #3D3050;
  border-radius: 12px;
  padding: 30px 20px 20px;
  min-height: 320px;
  overflow: hidden;
}

.heatmap-svg {
  width: 100%;
  height: auto;
  display: block;
}

.heatmap-city {
  position: absolute;
  cursor: pointer;
  text-align: center;
  z-index: 2;
}

.city-dot {
  width: 14px;
  height: 14px;
  border-radius: 50%;
  margin: 0 auto 4px;
  animation: cityPulse 2s ease-in-out infinite;
}

.city-dot--critical { background: var(--alert); box-shadow: 0 0 12px #D4456A88; }
.city-dot--warning { background: var(--gold); box-shadow: 0 0 12px #B8A04A88; animation-duration: 3s; }
.city-dot--stable { background: #5CB85C; box-shadow: 0 0 12px #5CB85C88; animation-duration: 4s; }
.city-dot--oversaturated { background: #9B59B6; box-shadow: 0 0 12px #9B59B688; animation-duration: 2.5s; }

@keyframes cityPulse {
  0%, 100% { transform: scale(1); opacity: 0.9; }
  50% { transform: scale(1.5); opacity: 1; }
}

.city-label {
  font-family: var(--font-mono);
  font-size: 0.65rem;
  color: var(--text);
  white-space: nowrap;
  letter-spacing: 0.04em;
}

.city-status {
  font-family: var(--font-mono);
  font-size: 0.6rem;
  text-transform: uppercase;
  letter-spacing: 0.06em;
}
.city-status--critical { color: var(--alert); }
.city-status--warning { color: var(--gold); }
.city-status--stable { color: #5CB85C; }
.city-status--oversaturated { color: #9B59B6; }

.heatmap-timestamp {
  text-align: center;
  font-family: var(--font-mono);
  font-size: 0.72rem;
  color: var(--silver);
  margin-top: 16px;
}

.city-tooltip {
  display: none;
  position: absolute;
  background: var(--bg);
  border: 1px solid var(--gold);
  border-radius: 8px;
  padding: 12px 16px;
  font-family: var(--font-mono);
  font-size: 0.72rem;
  color: var(--text);
  max-width: 260px;
  z-index: 10;
  line-height: 1.5;
  pointer-events: none;
  white-space: normal;
}
.city-tooltip.active { display: block; }

/* ===== FOOTER ===== */
.footer-honest {
  text-align: center;
  max-width: 640px;
  margin: 0 auto;
  padding: 0 20px;
}

.footer-honest p {
  font-size: 0.95rem;
  color: var(--silver);
  line-height: 1.75;
  margin-bottom: 16px;
}

.footer-honest .footer-name {
  font-family: var(--font-heading);
  color: var(--gold);
  font-size: 0.9rem;
  letter-spacing: 0.06em;
  text-transform: uppercase;
}

.footer-honest .footer-est {
  font-family: var(--font-mono);
  font-size: 0.78rem;
  color: var(--silver);
  margin-top: 4px;
}

.footer-legal {
  font-family: var(--font-mono);
  font-size: 0.62rem;
  color: #6B6278;
  text-align: center;
  line-height: 1.6;
  max-width: 700px;
  margin: 0 auto;
  padding: 0 20px 60px;
}

/* ===== MODAL ===== */
.modal-overlay {
  display: none;
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: #1C1528DD;
  z-index: 999;
  align-items: center;
  justify-content: center;
  padding: 20px;
}
.modal-overlay.active { display: flex; }

.modal-content {
  background: var(--card-bg);
  border: 2px solid var(--gold);
  border-radius: 12px;
  padding: 40px 36px;
  max-width: 420px;
  width: 100%;
  text-align: center;
}

.modal-content h3 {
  font-size: 1.3rem;
  margin-bottom: 12px;
}

.modal-content p {
  color: var(--silver);
  font-size: 0.92rem;
  margin-bottom: 8px;
}

.modal-policy {
  font-family: var(--font-mono);
  font-size: 0.82rem;
  color: var(--gold);
  margin-bottom: 24px;
}

.btn-close-modal {
  background: var(--gold);
  color: var(--bg);
  font-family: var(--font-heading);
  font-size: 0.9rem;
  font-weight: 600;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  padding: 12px 28px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  min-height: 44px;
}

/* ===== SECTION REVEAL ===== */
.reveal-section { opacity: 0; transform: translateY(30px); }
.reveal-item { opacity: 0; transform: translateY(20px); }

/* ===== RESPONSIVE ===== */
@media (max-width: 768px) {
  .tiers-grid { grid-template-columns: 1fr; max-width: 360px; margin: 0 auto; }
  .marketplace-grid { grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); }
  .guardians-grid { grid-template-columns: 1fr; max-width: 340px; margin: 0 auto; }
  .panel { padding: 28px 20px; }
  .hero { min-height: 80vh; padding: 60px 20px 40px; }
}

@media (max-width: 480px) {
  body { font-size: 16px; }
  .marketplace-grid { grid-template-columns: 1fr; max-width: 340px; margin: 0 auto; }
  .heatmap-container { min-height: 260px; }
}
</style>
</head>
<body x-data="vibesurance()">

<!-- HERO -->
<section class="hero" id="hero">
  <canvas id="particles-canvas"></canvas>
  <div class="hero-content reveal-section">
    <h1>Vibesurance</h1>
    <span class="hero-logo-sub">EMOTIONAL RISK MANAGEMENT CORP.</span>
    <p class="hero-tagline">Your feelings cost real money. We insure them.</p>
    <p class="hero-origin">Founded by a man who spent $3,200 on healing crystals after a kombucha brewery rejected his application.</p>
    <div class="policy-number">POLICY GROUP: VB-0001 &bull; EST. 2024</div>
    <button class="btn-gold" @click="scrollToQuiz()">Get Your VibeCheck&trade; Score</button>
  </div>
</section>

<div class="container">

  <!-- VIBECHECK QUIZ -->
  <hr class="gold-rule">
  <section class="quiz-section reveal-section" id="vibecheck">
    <div class="panel panel--gold panel--flourish">
      <h2>VibeCheck&trade; Assessment</h2>
      <p class="quiz-subtitle">Three questions stand between you and actuarial clarity.</p>

      <div x-show="!quizComplete">
        <div class="quiz-question">
          <p>1. How many scented candles are currently burning in your home?</p>
          <label @click="burstParticle($event)">
            <input type="radio" name="q1" value="0" x-model="q1"><span>Zero. I live in the light of reason.</span>
          </label>
          <label @click="burstParticle($event)">
            <input type="radio" name="q1" value="1" x-model="q1"><span>1‚Äì2. Ambient, not clinical.</span>
          </label>
          <label @click="burstParticle($event)">
            <input type="radio" name="q1" value="2" x-model="q1"><span>3‚Äì5. The apartment has zones.</span>
          </label>
          <label @click="burstParticle($event)">
            <input type="radio" name="q1" value="3" x-model="q1"><span>6+. It's a policy, not a preference.</span>
          </label>
        </div>

        <div class="quiz-question">
          <p>2. When did you last cry in a parking lot?</p>
          <label @click="burstParticle($event)">
            <input type="radio" name="q2" value="0" x-model="q2"><span>Never. I cry exclusively indoors.</span>
          </label>
          <label @click="burstParticle($event)">
            <input type="radio" name="q2" value="1" x-model="q2"><span>Over a year ago. I've healed, possibly.</span>
          </label>
          <label @click="burstParticle($event)">
            <input type="radio" name="q2" value="2" x-model="q2"><span>This month. The car was still running.</span>
          </label>
          <label @click="burstParticle($event)">
            <input type="radio" name="q2" value="3" x-model="q2"><span>I'm in a parking lot right now.</span>
          </label>
        </div>

        <div class="quiz-question">
          <p>3. What percentage of your last impulse purchase was emotional?</p>
          <label @click="burstParticle($event)">
            <input type="radio" name="q3" value="0" x-model="q3"><span>0%. Every purchase is deliberate.</span>
          </label>
          <label @click="burstParticle($event)">
            <input type="radio" name="q3" value="1" x-model="q3"><span>Maybe 30%. The jacket was on sale.</span>
          </label>
          <label @click="burstParticle($event)">
            <input type="radio" name="q3" value="2" x-model="q3"><span>70%. It arrived before I remembered ordering it.</span>
          </label>
          <label @click="burstParticle($event)">
            <input type="radio" name="q3" value="3" x-model="q3"><span>100%. I bought a boat.</span>
          </label>
        </div>

        <div class="quiz-submit-row">
          <button class="btn-gold" @click="submitQuiz()" :disabled="!q1 || !q2 || !q3" :style="(!q1 || !q2 || !q3) ? 'opacity:0.5;cursor:not-allowed' : ''">Calculate My Risk</button>
        </div>
      </div>

      <div class="score-display" :class="{ active: quizComplete }">
        <div class="score-gauge">
          <div class="score-gauge-bg">
            <div class="score-number" x-text="displayScore"></div>
          </div>
        </div>
        <p style="font-family:var(--font-heading);font-size:0.85rem;color:var(--silver);letter-spacing:0.08em;text-transform:uppercase;">Vibe Risk Score</p>
        <div class="score-tier" :id="'score-tier'" x-text="scoreTier"></div>
        <p style="margin-top:20px;font-family:var(--font-mono);font-size:0.72rem;color:var(--silver);">This score is legally meaningless but emotionally precise.</p>
      </div>
    </div>
  </section>

  <!-- COVERAGE TIERS -->
  <hr class="gold-rule">
  <section class="tiers-section reveal-section" id="tiers">
    <h2>Coverage Tiers</h2>
    <p class="tiers-subtitle">Choose the level of protection your emotional portfolio requires.</p>

    <div class="tiers-grid">
      <!-- Basic Aura -->
      <div class="tier-card reveal-item">
        <h3>Basic Aura</h3>
        <div class="tier-price">$19.99<small>/mo</small></div>
        <ul class="tier-benefits">
          <li>Up to 3 parking lot cries/month</li>
          <li>One (1) guided deep sigh per week</li>
          <li>Text-only VibeGuardian access</li>
          <li>Mercury retrograde notifications</li>
        </ul>
        <button class="btn-tier" @click="selectPlan('Basic Aura')">Select Plan</button>
      </div>

      <!-- Full Spectrum -->
      <div class="tier-card tier-card--featured reveal-item">
        <div class="tier-badge">Most Popular</div>
        <h3>Full Spectrum</h3>
        <div class="tier-price">$49.99<small>/mo</small></div>
        <ul class="tier-benefits">
          <li>Unlimited parking lot sessions</li>
          <li>24/7 live VibeGuardian hotline</li>
          <li>Monthly Mood Repair Credit (200 MRC)</li>
          <li>Emergency amethyst overnight delivery</li>
        </ul>
        <button class="btn-tier" @click="selectPlan('Full Spectrum')">Select Plan</button>
      </div>

      <!-- Cosmic Platinum -->
      <div class="tier-card reveal-item">
        <h3>Cosmic Platinum</h3>
        <div class="tier-price">$129.99<small>/mo</small></div>
        <ul class="tier-benefits">
          <li>Everything in Full Spectrum</li>
          <li>Personal VibeGuardian on retainer</li>
          <li>Quarterly vibe audit of your apartment</li>
          <li>Legal representation in astrological disputes</li>
        </ul>
        <button class="btn-tier" @click="selectPlan('Cosmic Platinum')">Select Plan</button>
      </div>
    </div>

    <div class="tier-footnotes">
      <button class="footnote-toggle" @click="showSerenity = !showSerenity">‚Ä† The Serenity Clause</button>
      <button class="footnote-toggle" @click="showGloomy = !showGloomy">‚Ä° The Gloomy Gus Exclusion</button>
      <div class="footnote-text" x-show="showSerenity" x-transition>
        <strong style="color:var(--gold);">The Serenity Clause:</strong> Vibesurance reserves the right to deny any claim filed while the claimant is "actually fine." Determination of "actually fine" is at the sole discretion of your assigned VibeGuardian and may involve asking you to describe your last dream. If the dream involved flying, the claim is void.
      </div>
      <div class="footnote-text" x-show="showGloomy" x-transition>
        <strong style="color:var(--alert);">The Gloomy Gus Exclusion:</strong> Coverage does not extend to vibes that are, in our actuarial assessment, "just your personality." If three or more VibeGuardians independently describe your energy as "a lot," benefits may be suspended pending a vibe recalibration session ($89.99, not covered).
      </div>
    </div>
  </section>

  <!-- MOOD REPAIR MARKETPLACE -->
  <hr class="gold-rule">
  <section class="marketplace reveal-section" id="marketplace">
    <h2>Mood Repair Marketplace</h2>
    <p class="marketplace-subtitle">Redeem your Mood Repair Credits on services that work exactly as well as you think they do.</p>

    <div class="marketplace-grid">
      <div class="market-card reveal-item">
        <span class="market-emoji">üïØÔ∏è</span>
        <h4>Artisanal Candle Subscription</h4>
        <p>Hand-poured by someone who also cried recently. Scents include "Tuesday" and "Almost Fine."</p>
        <div class="market-price">45 MRC / month</div>
        <button class="btn-redeem">Redeem</button>
      </div>

      <div class="market-card reveal-item">
        <span class="market-emoji">üÖøÔ∏è</span>
        <h4>Guided Parking Lot Cry</h4>
        <p>A certified facilitator talks you through it via earpiece. Lot selection assistance included.</p>
        <div class="market-price">30 MRC / session</div>
        <button class="btn-redeem">Redeem</button>
      </div>

      <div class="market-card reveal-item">
        <span class="market-emoji">üìû</span>
        <h4>3-Minute Pep Talk</h4>
        <p>A stranger who believes in you calls and says so. No follow-up. No context. Just conviction.</p>
        <div class="market-price">15 MRC / call</div>
        <button class="btn-redeem">Redeem</button>
      </div>

      <div class="market-card reveal-item">
        <span class="market-emoji">üíé</span>
        <h4>Emergency Amethyst Kit</h4>
        <p>Overnight delivery of crystals selected by our proprietary GemSort‚Ñ¢ algorithm. Velvet pouch included.</p>
        <div class="market-price">80 MRC / kit</div>
        <button class="btn-redeem">Redeem</button>
      </div>

      <div class="market-card reveal-item">
        <span class="market-emoji">‚òÄÔ∏è</span>
        <h4>Sunshine Therapy Enrollment</h4>
        <p>We email you a photo of the sun every morning with the subject line "it's still there."</p>
        <div class="market-price">20 MRC / month</div>
        <button class="btn-redeem">Redeem</button>
      </div>

      <div class="market-card reveal-item">
        <span class="market-emoji">üß∏</span>
        <h4>Weighted Blanket of Accountability</h4>
        <p>20 lbs. Embroidered with your most recent impulse purchase total. Confrontational comfort.</p>
        <div class="market-price">120 MRC / unit</div>
        <button class="btn-redeem">Redeem</button>
      </div>
    </div>
  </section>

  <!-- VIBEGUARDIANS -->
  <hr class="gold-rule">
  <section class="guardians reveal-section" id="guardians">
    <h2>VibeGuardians&trade;</h2>
    <p class="guardians-subtitle">On-demand emotional first responders. They pick up when your friends won't.</p>

    <div class="guardians-grid">
      <div class="guardian-card reveal-item">
        <div class="guardian-avatar">üõ°Ô∏è</div>
        <h4>Axel "Vibes" Christensen</h4>
        <p class="guardian-specialty">Founder &bull; Certified in Post-Rejection Crystal Recovery &bull; Parking Lot Veteran</p>
        <div class="guardian-status">
          <span class="status-dot status-dot--green"></span>
          <span style="color:#5CB85C;">Available</span>
        </div><br>
        <button class="btn-guardian" @click="requestGuardian('Axel')">Request Guardian</button>
      </div>

      <div class="guardian-card reveal-item">
        <div class="guardian-avatar">üåô</div>
        <h4>Dr. Priya Nair</h4>
        <p class="guardian-specialty">Retrograde Mercury First Responder &bull; Post-Brunch Regret Specialist</p>
        <div class="guardian-status">
          <span class="status-dot status-dot--green"></span>
          <span style="color:#5CB85C;">Available</span>
        </div><br>
        <button class="btn-guardian" @click="requestGuardian('Dr. Priya')">Request Guardian</button>
      </div>

      <div class="guardian-card reveal-item">
        <div class="guardian-avatar">‚ö°</div>
        <h4>Marcus "Steady" Webb</h4>
        <p class="guardian-specialty">Karen Containment Specialist &bull; Impulse Purchase Intervention (Tier III)</p>
        <div class="guardian-status">
          <span class="status-dot status-dot--amber"></span>
          <span style="color:#D4A04A;">On a call</span>
        </div><br>
        <button class="btn-guardian" @click="requestGuardian('Marcus')">Request Guardian</button>
      </div>
    </div>
  </section>

  <!-- VIBE VOLATILITY HEATMAP -->
  <hr class="gold-rule">
  <section class="heatmap reveal-section" id="heatmap">
    <h2>Vibe Volatility Index</h2>
    <p class="heatmap-subtitle">Real-time emotional weather. Updated continuously. Accuracy not implied.</p>

    <div class="panel panel--flourish" style="padding:20px;">
      <div class="heatmap-container" @click.away="activeCity = null">
        <!-- Simplified US-centric SVG map outline -->
        <svg class="heatmap-svg" viewBox="0 0 800 400" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M120 100 L680 100 Q720 100 720 140 L720 300 Q720 340 680 340 L120 340 Q80 340 80 300 L80 140 Q80 100 120 100 Z" stroke="#3D3050" stroke-width="1" fill="none"/>
          <!-- Abstract continent shapes -->
          <path d="M140 140 C180 120, 280 130, 320 160 C360 190, 340 240, 300 260 C260 280, 180 270, 160 240 C140 210, 120 160, 140 140Z" fill="#2A1F38" stroke="#3D3050" stroke-width="0.5"/>
          <path d="M380 120 C440 110, 540 130, 580 170 C620 210, 600 280, 540 300 C480 320, 400 290, 380 250 C360 210, 340 140, 380 120Z" fill="#2A1F38" stroke="#3D3050" stroke-width="0.5"/>
          <path d="M620 140 C660 130, 700 150, 700 190 C700 230, 670 260, 640 260 C610 260, 590 230, 600 200 C610 170, 600 150, 620 140Z" fill="#2A1F38" stroke="#3D3050" stroke-width="0.5"/>
          <!-- Grid lines -->
          <line x1="80" y1="180" x2="720" y2="180" stroke="#3D305033" stroke-width="0.5"/>
          <line x1="80" y1="260" x2="720" y2="260" stroke="#3D305033" stroke-width="0.5"/>
          <line x1="280" y1="100" x2="280" y2="340" stroke="#3D305033" stroke-width="0.5"/>
          <line x1="480" y1="100" x2="480" y2="340" stroke="#3D305033" stroke-width="0.5"/>
        </svg>

        <!-- City markers -->
        <div class="heatmap-city" style="top:28%;left:18%;" @click.stop="toggleCity('portland')">
          <div class="city-dot city-dot--critical"></div>
          <div class="city-label">Portland</div>
          <div class="city-status city-status--critical">CRITICAL</div>
        </div>

        <div class="heatmap-city" style="top:55%;left:38%;" @click.stop="toggleCity('sedona')">
          <div class="city-dot city-dot--oversaturated"></div>
          <div class="city-label">Sedona</div>
          <div class="city-status city-status--oversaturated">OVERSATURATED</div>
        </div>

        <div class="heatmap-city" style="top:35%;left:58%;" @click.stop="toggleCity('gary')">
          <div class="city-dot city-dot--stable"></div>
          <div class="city-label">Gary, IN</div>
          <div class="city-status city-status--stable">STABLE</div>
        </div>

        <div class="heatmap-city" style="top:22%;left:78%;" @click.stop="toggleCity('brooklyn')">
          <div class="city-dot city-dot--warning"></div>
          <div class="city-label">Brooklyn</div>
          <div class="city-status city-status--warning">ELEVATED</div>
        </div>

        <div class="heatmap-city" style="top:65%;left:68%;" @click.stop="toggleCity('asheville')">
          <div class="city-dot city-dot--critical"></div>
          <div class="city-label">Asheville</div>
          <div class="city-status city-status--critical">CRITICAL</div>
        </div>

        <!-- Tooltip -->
        <div class="city-tooltip" :class="{ active: activeCity }" :style="tooltipStyle" x-html="tooltipContent"></div>
      </div>

      <p class="heatmap-timestamp">Last updated <span x-text="heatmapTimestamp"></span> seconds ago &bull; Source: Vibesurance Emotional Telemetry Network</p>
    </div>
  </section>

  <!-- FOOTER - THE HONEST PART -->
  <hr class="gold-rule">
  <section class="footer-honest reveal-section" style="padding-bottom:40px;">
    <p>Here's the thing we both know. Every scented candle, every wellness app subscription, every retreat you booked at 2 a.m. because someone on Instagram said it changed their life ‚Äî that's insurance. You were paying a premium to feel okay, and nobody called it what it was. We spend enormous, embarrassing amounts of money trying to outrun the feeling that something is slightly wrong, and we do it alone, and we never say the number out loud. Vibesurance can't actually fix that. But maybe the most honest thing the wellness industry could do is just admit what it's selling: insurance against being alive. You deserve to say it out loud. Your feelings cost real money.</p>
    <p class="footer-name">Axel "Vibes" Christensen</p>
    <p class="footer-est">Est. 2024, in a parking lot.</p>
  </section>

  <hr class="gold-rule">
  <div class="footer-legal">
    Vibesurance is a fictional entity and does not provide actual insurance coverage, financial advice, or emotional guarantees of any kind. VibeCheck‚Ñ¢ scores are generated using a proprietary algorithm that we made up. Mood Repair Credits have no cash value and cannot be redeemed for goods, services, or inner peace. The Serenity Clause and Gloomy Gus Exclusion are not legally binding because none of this is real. Any resemblance to actual insurance products is a coincidence and also kind of the point. By reading this footer you agree that your feelings are valid but not covered. ¬© 2024 Vibesurance Emotional Risk Management Corp. All vibes reserved.
  </div>

</div>

<!-- MODAL -->
<div class="modal-overlay" :class="{ active: modalOpen }" @click.self="modalOpen = false">
  <div class="modal-content">
    <h3 x-text="modalTitle"></h3>
    <p x-text="modalMessage"></p>
    <p class="modal-policy" x-text="modalPolicy"></p>
    <button class="btn-close-modal" @click="modalOpen = false">Accept &amp; Believe</button>
  </div>
</div>

<script src="/assets/js/gsap.min.js"></script>
<script src="/assets/js/alpine.min.js" defer></script>
<script>
document.addEventListener('alpine:init', function() {
  Alpine.data('vibesurance', function() {
    return {
      q1: null,
      q2: null,
      q3: null,
      quizComplete: false,
      displayScore: 0,
      finalScore: 0,
      scoreTier: '',
      showSerenity: false,
      showGloomy: false,
      modalOpen: false,
      modalTitle: '',
      modalMessage: '',
      modalPolicy: '',
      activeCity: null,
      tooltipStyle: '',
      tooltipContent: '',
      heatmapTimestamp: 4,
      _heatmapInterval: null,

      init: function() {
        this.startHeatmapTimer();
        this.initParticles();
        this.initRevealAnimations();
      },

      scrollToQuiz: function() {
        document.getElementById('vibecheck').scrollIntoView({ behavior: 'smooth' });
      },

      burstParticle: function(event) {
        var rect = event.currentTarget.getBoundingClientRect();
        for (var i = 0; i < 5; i++) {
          var dot = document.createElement('div');
          dot.style.cssText = 'position:fixed;width:6px;height:6px;border-radius:50%;pointer-events:none;z-index:9999;background:' + (Math.random() > 0.5 ? '#B8A04A' : '#D4456A') + ';left:' + (rect.left + rect.width/2) + 'px;top:' + (rect.top + rect.height/2) + 'px;transition:all 0.6s ease-out;opacity:1;';
          document.body.appendChild(dot);
          var angle = (Math.PI * 2 / 5) * i + Math.random() * 0.5;
          var dist = 30 + Math.random() * 40;
          requestAnimationFrame(function(d, a, dist2) {
            return function() {
              d.style.left = (rect.left + rect.width/2 + Math.cos(a) * dist2) + 'px';
              d.style.top = (rect.top + rect.height/2 + Math.sin(a) * dist2) + 'px';
              d.style.opacity = '0';
            };
          }(dot, angle, dist));
          setTimeout(function(d) { return function() { if (d.parentNode) d.parentNode.removeChild(d); }; }(dot), 700);
        }
      },

      submitQuiz: function() {
        if (!this.q1 || !this.q2 || !this.q3) return;
        var total = parseInt(this.q1) + parseInt(this.q2) + parseInt(this.q3);
        var base = Math.round(100 + (total / 9) * 800 + Math.random() * 99);
        this.finalScore = Math.min(base, 999);
        this.quizComplete = true;
        this.displayScore = 0;

        var self = this;
        var obj = { val: 0 };
        gsap.fromTo(obj, { val: 0 }, {
          val: self.finalScore,
          duration: 1.5,
          ease: 'power2.out',
          onUpdate: function() {
            self.displayScore = Math.round(obj.val);
          },
          onComplete: function() {
            self.displayScore = self.finalScore;
            if (self.finalScore < 300) {
              self.scoreTier = 'Emotionally Solvent';
            } else if (self.finalScore < 600) {
              self.scoreTier = 'Vibe-Adjacent';
            } else {
              self.scoreTier = 'Spiritually Underwater';
            }
            var tierEl = document.getElementById('score-tier');
            if (tierEl) {
              gsap.fromTo(tierEl, { opacity: 0, y: 10 }, { opacity: 1, y: 0, duration: 0.5 });
            }
          }
        });
      },

      selectPlan: function(planName) {
        var self = this;
        self.modalOpen = true;
        self.modalTitle = 'Processing your vibes...';
        self.modalMessage = 'Calibrating emotional risk matrix.';
        self.modalPolicy = '';

        setTimeout(function() {
          var policyNum = 'VB-' + Math.random().toString(36).substring(2, 8).toUpperCase();
          self.modalTitle = 'Policy Activated';
          self.modalMessage = planName + ' coverage is now in effect. Your vibes are insured.';
          self.modalPolicy = 'Policy #' + policyNum;
        }, 1500);
      },

      requestGuardian: function(name) {
        this.modalOpen = true;
        this.modalTitle = 'Dispatching ' + name;
        this.modalMessage = 'Scanning emotional frequencies...';
        this.modalPolicy = '';

        var self = this;
        setTimeout(function() {
          self.modalTitle = 'Guardian En Route';
          self.modalMessage = name + ' has been notified and is emotionally preparing to support you.';
          self.modalPolicy = 'ETA: 3-5 feelings';
        }, 1200);
      },

      cityData: {
        portland: { x: 18, y: 28, report: 'Portland: 3 crystal shops opened this week. Vibe index critical. Oat milk reserves dangerously low. Recommend immediate evacuation to Gary, IN.' },
        sedona: { x: 38, y: 55, report: 'Sedona: Vibe saturation at 340%. Energy vortex tourism has exceeded municipal capacity. Local rocks have formally requested a day off.' },
        gary: { x: 58, y: 35, report: 'Gary, IN: Stable. Nobody is pretending to be okay here. Vibe expectations appropriately calibrated. The most honest city in America.' },
        brooklyn: { x: 78, y: 22, report: 'Brooklyn: Elevated. 14 new "intentional spaces" opened this quarter. Average emotional overhead per resident: $412/mo. Gentrification of feelings continues.' },
        asheville: { x: 68, y: 65, report: 'Asheville: Critical. Tarot-to-resident ratio has exceeded 1:4. Sound bath interference patterns detected in municipal water supply.' }
      },

      toggleCity: function(city) {
        if (this.activeCity === city) {
          this.activeCity = null;
          return;
        }
        this.activeCity = city;
        var data = this.cityData[city];
        this.tooltipContent = data.report;
        this.tooltipStyle = 'left:' + Math.min(data.x, 55) + '%;top:' + (data.y + 10) + '%;';
      },

      startHeatmapTimer: function() {
        var self = this;
        self._heatmapInterval = setInterval(function() {
          self.heatmapTimestamp = self.heatmapTimestamp + 1;
          if (self.heatmapTimestamp > 12) self.heatmapTimestamp = 1;
        }, 1000);
      },

      initParticles: function() {
        var canvas = document.getElementById('particles-canvas');
        if (!canvas) return;
        var ctx = canvas.getContext('2d');
        var particles = [];
        var mouseX = -1000;
        var mouseY = -1000;

        function resize() {
          var hero = document.getElementById('hero');
          canvas.width = hero.offsetWidth;
          canvas.height = hero.offsetHeight;
        }
        resize();
        window.addEventListener('resize', resize);

        var hero = document.getElementById('hero');
        hero.addEventListener('mousemove', function(e) {
          var rect = hero.getBoundingClientRect();
          mouseX = e.clientX - rect.left;
          mouseY = e.clientY - rect.top;
        });
        hero.addEventListener('mouseleave', function() {
          mouseX = -1000;
          mouseY = -1000;
        });

        for (var i = 0; i < 20; i++) {
          particles.push({
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            size: 3 + Math.random() * 5,
            speedY: -(0.2 + Math.random() * 0.5),
            speedX: (Math.random() - 0.5) * 0.3,
            color: Math.random() > 0.4 ? '#B8A04A' : '#D4456A',
            alpha: 0.3 + Math.random() * 0.5,
            sway: Math.random() * Math.PI * 2,
            swaySpeed: 0.005 + Math.random() * 0.01
          });
        }

        function animate() {
          ctx.clearRect(0, 0, canvas.width, canvas.height);
          for (var i = 0; i < particles.length; i++) {
            var p = particles[i];
            p.sway += p.swaySpeed;
            p.x += p.speedX + Math.sin(p.sway) * 0.3;
            p.y += p.speedY;

            // Mouse repulsion
            var dx = p.x - mouseX;
            var dy = p.y - mouseY;
            var dist = Math.sqrt(dx * dx + dy * dy);
            if (dist < 120 && dist > 0) {
              var force = (120 - dist) / 120 * 0.8;
              p.x += (dx / dist) * force;
              p.y += (dy / dist) * force;
            }

            if (p.y < -20) {
              p.y = canvas.height + 20;
              p.x = Math.random() * canvas.width;
            }
            if (p.x < -20) p.x = canvas.width + 20;
            if (p.x > canvas.width + 20) p.x = -20;

            ctx.beginPath();
            ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
            ctx.fillStyle = p.color;
            ctx.globalAlpha = p.alpha;
            ctx.fill();
          }
          ctx.globalAlpha = 1;
          requestAnimationFrame(animate);
        }
        animate();
      },

      initRevealAnimations: function() {
        var sections = document.querySelectorAll('.reveal-section');
        var observer = new IntersectionObserver(function(entries) {
          entries.forEach(function(entry) {
            if (entry.isIntersecting) {
              gsap.fromTo(entry.target,
                { opacity: 0, y: 30 },
                { opacity: 1, y: 0, duration: 0.7, ease: 'power2.out' }
              );

              var items = entry.target.querySelectorAll('.reveal-item');
              items.forEach(function(item, idx) {
                gsap.fromTo(item,
                  { opacity: 0, y: 20 },
                  { opacity: 1, y: 0, duration: 0.5, delay: 0.1 * (idx + 1), ease: 'power2.out' }
                );
              });

              observer.unobserve(entry.target);
            }
          });
        }, { threshold: 0.1 });

        sections.forEach(function(section) {
          observer.observe(section);
        });
      },

      destroy: function() {
        if (this._heatmapInterval) clearInterval(this._heatmapInterval);
      }
    };
  });
});
</script>

</body>
</html>
